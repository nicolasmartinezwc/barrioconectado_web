var ME=Object.defineProperty;var FE=(r,e,t)=>e in r?ME(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var G=(r,e,t)=>FE(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function BE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ad={exports:{}},Ma={},Ed={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function jE(){if(yg)return Se;yg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,X={};function Q(O,W,he){this.props=O,this.context=W,this.refs=X,this.updater=he||F}Q.prototype.isReactComponent={},Q.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},Q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ye(){}ye.prototype=Q.prototype;function pe(O,W,he){this.props=O,this.context=W,this.refs=X,this.updater=he||F}var ue=pe.prototype=new ye;ue.constructor=pe,z(ue,Q.prototype),ue.isPureReactComponent=!0;var ce=Array.isArray,Ue=Object.prototype.hasOwnProperty,Ie={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(O,W,he){var Te,Ce={},De=null,Le=null;if(W!=null)for(Te in W.ref!==void 0&&(Le=W.ref),W.key!==void 0&&(De=""+W.key),W)Ue.call(W,Te)&&!x.hasOwnProperty(Te)&&(Ce[Te]=W[Te]);var Me=arguments.length-2;if(Me===1)Ce.children=he;else if(1<Me){for(var ze=Array(Me),Et=0;Et<Me;Et++)ze[Et]=arguments[Et+2];Ce.children=ze}if(O&&O.defaultProps)for(Te in Me=O.defaultProps,Me)Ce[Te]===void 0&&(Ce[Te]=Me[Te]);return{$$typeof:r,type:O,key:De,ref:Le,props:Ce,_owner:Ie.current}}function R(O,W){return{$$typeof:r,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return W[he]})}var U=/\/+/g;function S(O,W){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):W.toString(36)}function st(O,W,he,Te,Ce){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(De){case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case r:case e:Le=!0}}if(Le)return Le=O,Ce=Ce(Le),O=Te===""?"."+S(Le,0):Te,ce(Ce)?(he="",O!=null&&(he=O.replace(U,"$&/")+"/"),st(Ce,W,he,"",function(Et){return Et})):Ce!=null&&(N(Ce)&&(Ce=R(Ce,he+(!Ce.key||Le&&Le.key===Ce.key?"":(""+Ce.key).replace(U,"$&/")+"/")+O)),W.push(Ce)),1;if(Le=0,Te=Te===""?".":Te+":",ce(O))for(var Me=0;Me<O.length;Me++){De=O[Me];var ze=Te+S(De,Me);Le+=st(De,W,he,ze,Ce)}else if(ze=k(O),typeof ze=="function")for(O=ze.call(O),Me=0;!(De=O.next()).done;)De=De.value,ze=Te+S(De,Me++),Le+=st(De,W,he,ze,Ce);else if(De==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ot(O,W,he){if(O==null)return O;var Te=[],Ce=0;return st(O,Te,"","",function(De){return W.call(he,De,Ce++)}),Te}function Ut(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var je={current:null},ee={transition:null},fe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Ie};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:Ot,forEach:function(O,W,he){Ot(O,function(){W.apply(this,arguments)},he)},count:function(O){var W=0;return Ot(O,function(){W++}),W},toArray:function(O){return Ot(O,function(W){return W})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Se.Component=Q,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=pe,Se.StrictMode=s,Se.Suspense=g,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Se.act=ne,Se.cloneElement=function(O,W,he){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Te=z({},O.props),Ce=O.key,De=O.ref,Le=O._owner;if(W!=null){if(W.ref!==void 0&&(De=W.ref,Le=Ie.current),W.key!==void 0&&(Ce=""+W.key),O.type&&O.type.defaultProps)var Me=O.type.defaultProps;for(ze in W)Ue.call(W,ze)&&!x.hasOwnProperty(ze)&&(Te[ze]=W[ze]===void 0&&Me!==void 0?Me[ze]:W[ze])}var ze=arguments.length-2;if(ze===1)Te.children=he;else if(1<ze){Me=Array(ze);for(var Et=0;Et<ze;Et++)Me[Et]=arguments[Et+2];Te.children=Me}return{$$typeof:r,type:O.type,key:Ce,ref:De,props:Te,_owner:Le}},Se.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Se.createElement=T,Se.createFactory=function(O){var W=T.bind(null,O);return W.type=O,W},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:f,render:O}},Se.isValidElement=N,Se.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:Ut}},Se.memo=function(O,W){return{$$typeof:v,type:O,compare:W===void 0?null:W}},Se.startTransition=function(O){var W=ee.transition;ee.transition={};try{O()}finally{ee.transition=W}},Se.unstable_act=ne,Se.useCallback=function(O,W){return je.current.useCallback(O,W)},Se.useContext=function(O){return je.current.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O){return je.current.useDeferredValue(O)},Se.useEffect=function(O,W){return je.current.useEffect(O,W)},Se.useId=function(){return je.current.useId()},Se.useImperativeHandle=function(O,W,he){return je.current.useImperativeHandle(O,W,he)},Se.useInsertionEffect=function(O,W){return je.current.useInsertionEffect(O,W)},Se.useLayoutEffect=function(O,W){return je.current.useLayoutEffect(O,W)},Se.useMemo=function(O,W){return je.current.useMemo(O,W)},Se.useReducer=function(O,W,he){return je.current.useReducer(O,W,he)},Se.useRef=function(O){return je.current.useRef(O)},Se.useState=function(O){return je.current.useState(O)},Se.useSyncExternalStore=function(O,W,he){return je.current.useSyncExternalStore(O,W,he)},Se.useTransition=function(){return je.current.useTransition()},Se.version="18.3.1",Se}var vg;function cf(){return vg||(vg=1,Ed.exports=jE()),Ed.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function QE(){if(_g)return Ma;_g=1;var r=cf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var E,C={},k=null,F=null;v!==void 0&&(k=""+v),g.key!==void 0&&(k=""+g.key),g.ref!==void 0&&(F=g.ref);for(E in g)s.call(g,E)&&!l.hasOwnProperty(E)&&(C[E]=g[E]);if(f&&f.defaultProps)for(E in g=f.defaultProps,g)C[E]===void 0&&(C[E]=g[E]);return{$$typeof:e,type:f,key:k,ref:F,props:C,_owner:o.current}}return Ma.Fragment=t,Ma.jsx=h,Ma.jsxs=h,Ma}var Ag;function zE(){return Ag||(Ag=1,Ad.exports=QE()),Ad.exports}var A=zE(),Jy=cf();const ft=BE(Jy);var Mu={},wd={exports:{}},rn={},Id={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function GE(){return Eg||(Eg=1,function(r){function e(ee,fe){var ne=ee.length;ee.push(fe);e:for(;0<ne;){var O=ne-1>>>1,W=ee[O];if(0<o(W,fe))ee[O]=fe,ee[ne]=W,ne=O;else break e}}function t(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],ne=ee.pop();if(ne!==fe){ee[0]=ne;e:for(var O=0,W=ee.length,he=W>>>1;O<he;){var Te=2*(O+1)-1,Ce=ee[Te],De=Te+1,Le=ee[De];if(0>o(Ce,ne))De<W&&0>o(Le,Ce)?(ee[O]=Le,ee[De]=ne,O=De):(ee[O]=Ce,ee[Te]=ne,O=Te);else if(De<W&&0>o(Le,ne))ee[O]=Le,ee[De]=ne,O=De;else break e}}return fe}function o(ee,fe){var ne=ee.sortIndex-fe.sortIndex;return ne!==0?ne:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],v=[],E=1,C=null,k=3,F=!1,z=!1,X=!1,Q=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ue(ee){for(var fe=t(v);fe!==null;){if(fe.callback===null)s(v);else if(fe.startTime<=ee)s(v),fe.sortIndex=fe.expirationTime,e(g,fe);else break;fe=t(v)}}function ce(ee){if(X=!1,ue(ee),!z)if(t(g)!==null)z=!0,Ut(Ue);else{var fe=t(v);fe!==null&&je(ce,fe.startTime-ee)}}function Ue(ee,fe){z=!1,X&&(X=!1,ye(T),T=-1),F=!0;var ne=k;try{for(ue(fe),C=t(g);C!==null&&(!(C.expirationTime>fe)||ee&&!V());){var O=C.callback;if(typeof O=="function"){C.callback=null,k=C.priorityLevel;var W=O(C.expirationTime<=fe);fe=r.unstable_now(),typeof W=="function"?C.callback=W:C===t(g)&&s(g),ue(fe)}else s(g);C=t(g)}if(C!==null)var he=!0;else{var Te=t(v);Te!==null&&je(ce,Te.startTime-fe),he=!1}return he}finally{C=null,k=ne,F=!1}}var Ie=!1,x=null,T=-1,R=5,N=-1;function V(){return!(r.unstable_now()-N<R)}function U(){if(x!==null){var ee=r.unstable_now();N=ee;var fe=!0;try{fe=x(!0,ee)}finally{fe?S():(Ie=!1,x=null)}}else Ie=!1}var S;if(typeof pe=="function")S=function(){pe(U)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,Ot=st.port2;st.port1.onmessage=U,S=function(){Ot.postMessage(null)}}else S=function(){Q(U,0)};function Ut(ee){x=ee,Ie||(Ie=!0,S())}function je(ee,fe){T=Q(function(){ee(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_continueExecution=function(){z||F||(z=!0,Ut(Ue))},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ee){switch(k){case 1:case 2:case 3:var fe=3;break;default:fe=k}var ne=k;k=fe;try{return ee()}finally{k=ne}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=k;k=ee;try{return fe()}finally{k=ne}},r.unstable_scheduleCallback=function(ee,fe,ne){var O=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?O+ne:O):ne=O,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ne+W,ee={id:E++,callback:fe,priorityLevel:ee,startTime:ne,expirationTime:W,sortIndex:-1},ne>O?(ee.sortIndex=ne,e(v,ee),t(g)===null&&ee===t(v)&&(X?(ye(T),T=-1):X=!0,je(ce,ne-O))):(ee.sortIndex=W,e(g,ee),z||F||(z=!0,Ut(Ue))),ee},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ee){var fe=k;return function(){var ne=k;k=fe;try{return ee.apply(this,arguments)}finally{k=ne}}}}(Td)),Td}var wg;function qE(){return wg||(wg=1,Id.exports=GE()),Id.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function KE(){if(Ig)return rn;Ig=1;var r=cf(),e=qE();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},C={};function k(n){return g.call(C,n)?!0:g.call(E,n)?!1:v.test(n)?C[n]=!0:(E[n]=!0,!1)}function F(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function z(n,i,a,c){if(i===null||typeof i>"u"||F(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function X(n,i,a,c,d,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Q[n]=new X(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];Q[i]=new X(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){Q[n]=new X(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Q[n]=new X(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Q[n]=new X(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){Q[n]=new X(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){Q[n]=new X(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){Q[n]=new X(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){Q[n]=new X(n,5,!1,n.toLowerCase(),null,!1,!1)});var ye=/[\-:]([a-z])/g;function pe(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(ye,pe);Q[i]=new X(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(ye,pe);Q[i]=new X(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(ye,pe);Q[i]=new X(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){Q[n]=new X(n,1,!1,n.toLowerCase(),null,!1,!1)}),Q.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){Q[n]=new X(n,1,!1,n.toLowerCase(),null,!0,!0)});function ue(n,i,a,c){var d=Q.hasOwnProperty(i)?Q[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(z(i,a,d,c)&&(a=null),c||d===null?k(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ce=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ue=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,O;function W(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+n}var he=!1;function Te(n,i){if(!n||he)return"";he=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var c=B}Reflect.construct(n,[],i)}else{try{i.call()}catch(B){c=B}n.call(i.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var d=B.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,I=m.length-1;1<=_&&0<=I&&d[_]!==m[I];)I--;for(;1<=_&&0<=I;_--,I--)if(d[_]!==m[I]){if(_!==1||I!==1)do if(_--,I--,0>I||d[_]!==m[I]){var P=`
`+d[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=I);break}}}finally{he=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?W(n):""}function Ce(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=Te(n.type,!1),n;case 11:return n=Te(n.type.render,!1),n;case 1:return n=Te(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case Ie:return"Portal";case R:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case st:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case N:return(n._context.displayName||"Context")+".Provider";case U:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ot:return i=n.displayName||null,i!==null?i:De(n.type)||"Memo";case Ut:i=n._payload,n=n._init;try{return De(n(i))}catch{}}return null}function Le(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ze(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Et(n){var i=ze(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function fr(n){n._valueTracker||(n._valueTracker=Et(n))}function Ri(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=ze(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function qr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function bs(n,i){var a=i.checked;return ne({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ki(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Go(n,i){i=i.checked,i!=null&&ue(n,"checked",i,!1)}function qo(n,i){Go(n,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Pi(n,i.type,a):i.hasOwnProperty("defaultValue")&&Pi(n,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Il(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Pi(n,i,a){(i!=="number"||qr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var pr=Array.isArray;function mr(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Ko(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ni(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(pr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Me(a)}}function Di(n,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Wo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function pt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?pt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var gr,Ho=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=gr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Kr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ms=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(n){Ms.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Ls[i]=Ls[n]})});function Yo(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ls.hasOwnProperty(n)&&Ls[n]?(""+i).trim():i+"px"}function Jo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Yo(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Xo=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(n,i){if(i){if(Xo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function $o(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=null;function xi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Vi=null,yn=null,Hn=null;function Oi(n){if(n=Ia(n)){if(typeof Vi!="function")throw Error(t(280));var i=n.stateNode;i&&(i=$l(i),Vi(n.stateNode,n.type,i))}}function Yn(n){yn?Hn?Hn.push(n):Hn=[n]:yn=n}function ea(){if(yn){var n=yn,i=Hn;if(Hn=yn=null,Oi(n),i)for(n=0;n<i.length;n++)Oi(i[n])}}function Bs(n,i){return n(i)}function ta(){}var yr=!1;function na(n,i,a){if(yr)return n(i,a);yr=!0;try{return Bs(n,i,a)}finally{yr=!1,(yn!==null||Hn!==null)&&(ta(),ea())}}function it(n,i){var a=n.stateNode;if(a===null)return null;var c=$l(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Ui=!1;if(f)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){Ui=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{Ui=!1}function js(n,i,a,c,d,m,_,I,P){var B=Array.prototype.slice.call(arguments,3);try{i.apply(a,B)}catch(Y){this.onError(Y)}}var Qs=!1,bi=null,Nn=!1,ra=null,Hc={onError:function(n){Qs=!0,bi=n}};function Li(n,i,a,c,d,m,_,I,P){Qs=!1,bi=null,js.apply(Hc,arguments)}function Tl(n,i,a,c,d,m,_,I,P){if(Li.apply(this,arguments),Qs){if(Qs){var B=bi;Qs=!1,bi=null}else throw Error(t(198));Nn||(Nn=!0,ra=B)}}function Dn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function zs(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function xn(n){if(Dn(n)!==n)throw Error(t(188))}function Cl(n){var i=n.alternate;if(!i){if(i=Dn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return xn(d),n;if(m===c)return xn(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,I=d.child;I;){if(I===a){_=!0,a=d,c=m;break}if(I===c){_=!0,c=d,a=m;break}I=I.sibling}if(!_){for(I=m.child;I;){if(I===a){_=!0,a=m,c=d;break}if(I===c){_=!0,c=m,a=d;break}I=I.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function sa(n){return n=Cl(n),n!==null?Mi(n):null}function Mi(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Mi(n);if(i!==null)return i;n=n.sibling}return null}var Fi=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,Sl=e.unstable_shouldYield,Yc=e.unstable_requestPaint,Ge=e.unstable_now,Rl=e.unstable_getCurrentPriorityLevel,Gs=e.unstable_ImmediatePriority,Wr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,oa=e.unstable_LowPriority,kl=e.unstable_IdlePriority,qs=null,ln=null;function Pl(n){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(qs,n,void 0,(n.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Dl,aa=Math.log,Nl=Math.LN2;function Dl(n){return n>>>=0,n===0?32:31-(aa(n)/Nl|0)|0}var Bi=64,ji=4194304;function Hr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ks(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var I=_&~d;I!==0?c=Hr(I):(m&=_,m!==0&&(c=Hr(m)))}else _=a&~d,_!==0?c=Hr(_):m!==0&&(c=Hr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Gt(i),d=1<<a,c|=n[a],i&=~d;return c}function Jc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-Gt(m),I=1<<_,P=d[_];P===-1?(!(I&a)||I&c)&&(d[_]=Jc(I,i)):P<=i&&(n.expiredLanes|=I),m&=~I}}function un(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ws(){var n=Bi;return Bi<<=1,!(Bi&4194240)&&(Bi=64),n}function Yr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Jr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Gt(i),n[i]=a}function Qe(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Gt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Xr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Gt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Pe=0;function Zr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var xl,Qi,Vl,Ol,Ul,la=!1,Jn=[],Rt=null,Vn=null,On=null,$r=new Map,_n=new Map,Xn=[],Xc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bl(n,i){switch(n){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":$r.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(i.pointerId)}}function Jt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Ia(i),i!==null&&Qi(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Zc(n,i,a,c,d){switch(i){case"focusin":return Rt=Jt(Rt,n,i,a,c,d),!0;case"dragenter":return Vn=Jt(Vn,n,i,a,c,d),!0;case"mouseover":return On=Jt(On,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return $r.set(m,Jt($r.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,_n.set(m,Jt(_n.get(m)||null,n,i,a,c,d)),!0}return!1}function Ll(n){var i=Zs(n.target);if(i!==null){var a=Dn(i);if(a!==null){if(i=a.tag,i===13){if(i=zs(a),i!==null){n.blockedOn=i,Ul(n.priority,function(){Vl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _r(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=zi(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Fs=c,a.target.dispatchEvent(c),Fs=null}else return i=Ia(a),i!==null&&Qi(i),n.blockedOn=a,!1;i.shift()}return!0}function Hs(n,i,a){_r(n)&&a.delete(i)}function Ml(){la=!1,Rt!==null&&_r(Rt)&&(Rt=null),Vn!==null&&_r(Vn)&&(Vn=null),On!==null&&_r(On)&&(On=null),$r.forEach(Hs),_n.forEach(Hs)}function Un(n,i){n.blockedOn===i&&(n.blockedOn=null,la||(la=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ml)))}function bn(n){function i(d){return Un(d,n)}if(0<Jn.length){Un(Jn[0],n);for(var a=1;a<Jn.length;a++){var c=Jn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Rt!==null&&Un(Rt,n),Vn!==null&&Un(Vn,n),On!==null&&Un(On,n),$r.forEach(i),_n.forEach(i),a=0;a<Xn.length;a++)c=Xn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Xn.length&&(a=Xn[0],a.blockedOn===null);)Ll(a),a.blockedOn===null&&Xn.shift()}var Ar=ce.ReactCurrentBatchConfig,es=!0;function Ye(n,i,a,c){var d=Pe,m=Ar.transition;Ar.transition=null;try{Pe=1,ua(n,i,a,c)}finally{Pe=d,Ar.transition=m}}function $c(n,i,a,c){var d=Pe,m=Ar.transition;Ar.transition=null;try{Pe=4,ua(n,i,a,c)}finally{Pe=d,Ar.transition=m}}function ua(n,i,a,c){if(es){var d=zi(n,i,a,c);if(d===null)ch(n,i,c,Ys,a),bl(n,c);else if(Zc(d,n,i,a,c))c.stopPropagation();else if(bl(n,c),i&4&&-1<Xc.indexOf(n)){for(;d!==null;){var m=Ia(d);if(m!==null&&xl(m),m=zi(n,i,a,c),m===null&&ch(n,i,c,Ys,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else ch(n,i,c,null,a)}}var Ys=null;function zi(n,i,a,c){if(Ys=null,n=xi(c),n=Zs(n),n!==null)if(i=Dn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=zs(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ys=n,null}function ca(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rl()){case Gs:return 1;case Wr:return 4;case vn:case oa:return 16;case kl:return 536870912;default:return 16}default:return 16}}var cn=null,Gi=null,Xt=null;function ha(){if(Xt)return Xt;var n,i=Gi,a=i.length,c,d="value"in cn?cn.value:cn.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===d[m-c];c++);return Xt=d.slice(n,1<c?1-c:void 0)}function qi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Zn(){return!0}function da(){return!1}function kt(n){function i(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(a=n[I],this[I]=a?a(m):m[I]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zn:da,this.isPropagationStopped=da,this}return ne(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=kt(Ln),$n=ne({},Ln,{view:0,detail:0}),eh=kt($n),Wi,Er,ts,Js=ne({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ts&&(ts&&n.type==="mousemove"?(Wi=n.screenX-ts.screenX,Er=n.screenY-ts.screenY):Er=Wi=0,ts=n),Wi)},movementY:function(n){return"movementY"in n?n.movementY:Er}}),Hi=kt(Js),fa=ne({},Js,{dataTransfer:0}),Fl=kt(fa),Yi=ne({},$n,{relatedTarget:0}),Ji=kt(Yi),Bl=ne({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),wr=kt(Bl),jl=ne({},Ln,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ql=kt(jl),zl=ne({},Ln,{data:0}),pa=kt(zl),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Gl[n])?!!i[n]:!1}function er(){return ql}var u=ne({},$n,{key:function(n){if(n.key){var i=Xi[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=qi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(n){return n.type==="keypress"?qi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=kt(u),y=ne({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=kt(y),b=ne({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),j=kt(b),$=ne({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=kt($),gt=ne({},Js,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=kt(gt),wt=[9,13,27,32],ut=f&&"CompositionEvent"in window,An=null;f&&"documentMode"in document&&(An=document.documentMode);var hn=f&&"TextEvent"in window&&!An,Xs=f&&(!ut||An&&8<An&&11>=An),Zi=" ",hp=!1;function dp(n,i){switch(n){case"keyup":return wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $i=!1;function bA(n,i){switch(n){case"compositionend":return fp(i);case"keypress":return i.which!==32?null:(hp=!0,Zi);case"textInput":return n=i.data,n===Zi&&hp?null:n;default:return null}}function LA(n,i){if($i)return n==="compositionend"||!ut&&dp(n,i)?(n=ha(),Xt=Gi=cn=null,$i=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xs&&i.locale!=="ko"?null:i.data;default:return null}}var MA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!MA[n.type]:i==="textarea"}function mp(n,i,a,c){Yn(c),i=Jl(i,"onChange"),0<i.length&&(a=new Ki("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var ma=null,ga=null;function FA(n){Vp(n,0)}function Kl(n){var i=so(n);if(Ri(i))return n}function BA(n,i){if(n==="change")return i}var gp=!1;if(f){var th;if(f){var nh="oninput"in document;if(!nh){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),nh=typeof yp.oninput=="function"}th=nh}else th=!1;gp=th&&(!document.documentMode||9<document.documentMode)}function vp(){ma&&(ma.detachEvent("onpropertychange",_p),ga=ma=null)}function _p(n){if(n.propertyName==="value"&&Kl(ga)){var i=[];mp(i,ga,n,xi(n)),na(FA,i)}}function jA(n,i,a){n==="focusin"?(vp(),ma=i,ga=a,ma.attachEvent("onpropertychange",_p)):n==="focusout"&&vp()}function QA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Kl(ga)}function zA(n,i){if(n==="click")return Kl(i)}function GA(n,i){if(n==="input"||n==="change")return Kl(i)}function qA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Mn=typeof Object.is=="function"?Object.is:qA;function ya(n,i){if(Mn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!Mn(n[d],i[d]))return!1}return!0}function Ap(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ep(n,i){var a=Ap(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ap(a)}}function wp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?wp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ip(){for(var n=window,i=qr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=qr(n.document)}return i}function rh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function KA(n){var i=Ip(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&wp(a.ownerDocument.documentElement,a)){if(c!==null&&rh(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=Ep(a,m);var _=Ep(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var WA=f&&"documentMode"in document&&11>=document.documentMode,eo=null,sh=null,va=null,ih=!1;function Tp(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ih||eo==null||eo!==qr(c)||(c=eo,"selectionStart"in c&&rh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),va&&ya(va,c)||(va=c,c=Jl(sh,"onSelect"),0<c.length&&(i=new Ki("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=eo)))}function Wl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var to={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},oh={},Cp={};f&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Hl(n){if(oh[n])return oh[n];if(!to[n])return n;var i=to[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cp)return oh[n]=i[a];return n}var Sp=Hl("animationend"),Rp=Hl("animationiteration"),kp=Hl("animationstart"),Pp=Hl("transitionend"),Np=new Map,Dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(n,i){Np.set(n,i),l(i,[n])}for(var ah=0;ah<Dp.length;ah++){var lh=Dp[ah],HA=lh.toLowerCase(),YA=lh[0].toUpperCase()+lh.slice(1);ns(HA,"on"+YA)}ns(Sp,"onAnimationEnd"),ns(Rp,"onAnimationIteration"),ns(kp,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(Pp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function xp(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Tl(c,i,void 0,n),n.currentTarget=null}function Vp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var I=c[_],P=I.instance,B=I.currentTarget;if(I=I.listener,P!==m&&d.isPropagationStopped())break e;xp(d,I,B),m=P}else for(_=0;_<c.length;_++){if(I=c[_],P=I.instance,B=I.currentTarget,I=I.listener,P!==m&&d.isPropagationStopped())break e;xp(d,I,B),m=P}}}if(Nn)throw n=ra,Nn=!1,ra=null,n}function Ke(n,i){var a=i[gh];a===void 0&&(a=i[gh]=new Set);var c=n+"__bubble";a.has(c)||(Op(i,n,2,!1),a.add(c))}function uh(n,i,a){var c=0;i&&(c|=4),Op(a,n,c,i)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Aa(n){if(!n[Yl]){n[Yl]=!0,s.forEach(function(a){a!=="selectionchange"&&(JA.has(a)||uh(a,!1,n),uh(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Yl]||(i[Yl]=!0,uh("selectionchange",!1,i))}}function Op(n,i,a,c){switch(ca(i)){case 1:var d=Ye;break;case 4:d=$c;break;default:d=ua}a=d.bind(null,i,a,n),d=void 0,!Ui||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function ch(n,i,a,c,d){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var I=c.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;I!==null;){if(_=Zs(I),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}I=I.parentNode}}c=c.return}na(function(){var B=m,Y=xi(a),J=[];e:{var H=Np.get(n);if(H!==void 0){var te=Ki,oe=n;switch(n){case"keypress":if(qi(a)===0)break e;case"keydown":case"keyup":te=p;break;case"focusin":oe="focus",te=Ji;break;case"focusout":oe="blur",te=Ji;break;case"beforeblur":case"afterblur":te=Ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Fl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=j;break;case Sp:case Rp:case kp:te=wr;break;case Pp:te=Be;break;case"scroll":te=eh;break;case"wheel":te=xe;break;case"copy":case"cut":case"paste":te=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=w}var ae=(i&4)!==0,ot=!ae&&n==="scroll",L=ae?H!==null?H+"Capture":null:H;ae=[];for(var D=B,M;D!==null;){M=D;var Z=M.stateNode;if(M.tag===5&&Z!==null&&(M=Z,L!==null&&(Z=it(D,L),Z!=null&&ae.push(Ea(D,Z,M)))),ot)break;D=D.return}0<ae.length&&(H=new te(H,oe,null,a,Y),J.push({event:H,listeners:ae}))}}if(!(i&7)){e:{if(H=n==="mouseover"||n==="pointerover",te=n==="mouseout"||n==="pointerout",H&&a!==Fs&&(oe=a.relatedTarget||a.fromElement)&&(Zs(oe)||oe[Ir]))break e;if((te||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,te?(oe=a.relatedTarget||a.toElement,te=B,oe=oe?Zs(oe):null,oe!==null&&(ot=Dn(oe),oe!==ot||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(te=null,oe=B),te!==oe)){if(ae=Hi,Z="onMouseLeave",L="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(ae=w,Z="onPointerLeave",L="onPointerEnter",D="pointer"),ot=te==null?H:so(te),M=oe==null?H:so(oe),H=new ae(Z,D+"leave",te,a,Y),H.target=ot,H.relatedTarget=M,Z=null,Zs(Y)===B&&(ae=new ae(L,D+"enter",oe,a,Y),ae.target=M,ae.relatedTarget=ot,Z=ae),ot=Z,te&&oe)t:{for(ae=te,L=oe,D=0,M=ae;M;M=no(M))D++;for(M=0,Z=L;Z;Z=no(Z))M++;for(;0<D-M;)ae=no(ae),D--;for(;0<M-D;)L=no(L),M--;for(;D--;){if(ae===L||L!==null&&ae===L.alternate)break t;ae=no(ae),L=no(L)}ae=null}else ae=null;te!==null&&Up(J,H,te,ae,!1),oe!==null&&ot!==null&&Up(J,ot,oe,ae,!0)}}e:{if(H=B?so(B):window,te=H.nodeName&&H.nodeName.toLowerCase(),te==="select"||te==="input"&&H.type==="file")var le=BA;else if(pp(H))if(gp)le=GA;else{le=QA;var me=jA}else(te=H.nodeName)&&te.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(le=zA);if(le&&(le=le(n,B))){mp(J,le,a,Y);break e}me&&me(n,H,B),n==="focusout"&&(me=H._wrapperState)&&me.controlled&&H.type==="number"&&Pi(H,"number",H.value)}switch(me=B?so(B):window,n){case"focusin":(pp(me)||me.contentEditable==="true")&&(eo=me,sh=B,va=null);break;case"focusout":va=sh=eo=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Tp(J,a,Y);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":Tp(J,a,Y)}var ge;if(ut)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else $i?dp(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Xs&&a.locale!=="ko"&&($i||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&$i&&(ge=ha()):(cn=Y,Gi="value"in cn?cn.value:cn.textContent,$i=!0)),me=Jl(B,_e),0<me.length&&(_e=new pa(_e,n,null,a,Y),J.push({event:_e,listeners:me}),ge?_e.data=ge:(ge=fp(a),ge!==null&&(_e.data=ge)))),(ge=hn?bA(n,a):LA(n,a))&&(B=Jl(B,"onBeforeInput"),0<B.length&&(Y=new pa("onBeforeInput","beforeinput",null,a,Y),J.push({event:Y,listeners:B}),Y.data=ge))}Vp(J,i)})}function Ea(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Jl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=it(n,a),m!=null&&c.unshift(Ea(n,m,d)),m=it(n,i),m!=null&&c.push(Ea(n,m,d))),n=n.return}return c}function no(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Up(n,i,a,c,d){for(var m=i._reactName,_=[];a!==null&&a!==c;){var I=a,P=I.alternate,B=I.stateNode;if(P!==null&&P===c)break;I.tag===5&&B!==null&&(I=B,d?(P=it(a,m),P!=null&&_.unshift(Ea(a,P,I))):d||(P=it(a,m),P!=null&&_.push(Ea(a,P,I)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var XA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function bp(n){return(typeof n=="string"?n:""+n).replace(XA,`
`).replace(ZA,"")}function Xl(n,i,a){if(i=bp(i),bp(n)!==i&&a)throw Error(t(425))}function Zl(){}var hh=null,dh=null;function fh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,$A=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,eE=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(n){return Lp.resolve(null).then(n).catch(tE)}:ph;function tE(n){setTimeout(function(){throw n})}function mh(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),bn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);bn(i)}function rs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Mp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var ro=Math.random().toString(36).slice(2),tr="__reactFiber$"+ro,wa="__reactProps$"+ro,Ir="__reactContainer$"+ro,gh="__reactEvents$"+ro,nE="__reactListeners$"+ro,rE="__reactHandles$"+ro;function Zs(n){var i=n[tr];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Ir]||a[tr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Mp(n);n!==null;){if(a=n[tr])return a;n=Mp(n)}return i}n=a,a=n.parentNode}return null}function Ia(n){return n=n[tr]||n[Ir],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function so(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function $l(n){return n[wa]||null}var yh=[],io=-1;function ss(n){return{current:n}}function We(n){0>io||(n.current=yh[io],yh[io]=null,io--)}function qe(n,i){io++,yh[io]=n.current,n.current=i}var is={},bt=ss(is),Zt=ss(!1),$s=is;function oo(n,i){var a=n.type.contextTypes;if(!a)return is;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function $t(n){return n=n.childContextTypes,n!=null}function eu(){We(Zt),We(bt)}function Fp(n,i,a){if(bt.current!==is)throw Error(t(168));qe(bt,i),qe(Zt,a)}function Bp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Le(n)||"Unknown",d));return ne({},a,c)}function tu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||is,$s=bt.current,qe(bt,n),qe(Zt,Zt.current),!0}function jp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Bp(n,i,$s),c.__reactInternalMemoizedMergedChildContext=n,We(Zt),We(bt),qe(bt,n)):We(Zt),qe(Zt,a)}var Tr=null,nu=!1,vh=!1;function Qp(n){Tr===null?Tr=[n]:Tr.push(n)}function sE(n){nu=!0,Qp(n)}function os(){if(!vh&&Tr!==null){vh=!0;var n=0,i=Pe;try{var a=Tr;for(Pe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Tr=null,nu=!1}catch(d){throw Tr!==null&&(Tr=Tr.slice(n+1)),Fi(Gs,os),d}finally{Pe=i,vh=!1}}return null}var ao=[],lo=0,ru=null,su=0,En=[],wn=0,ei=null,Cr=1,Sr="";function ti(n,i){ao[lo++]=su,ao[lo++]=ru,ru=n,su=i}function zp(n,i,a){En[wn++]=Cr,En[wn++]=Sr,En[wn++]=ei,ei=n;var c=Cr;n=Sr;var d=32-Gt(c)-1;c&=~(1<<d),a+=1;var m=32-Gt(i)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,Cr=1<<32-Gt(i)+d|a<<d|c,Sr=m+n}else Cr=1<<m|a<<d|c,Sr=n}function _h(n){n.return!==null&&(ti(n,1),zp(n,1,0))}function Ah(n){for(;n===ru;)ru=ao[--lo],ao[lo]=null,su=ao[--lo],ao[lo]=null;for(;n===ei;)ei=En[--wn],En[wn]=null,Sr=En[--wn],En[wn]=null,Cr=En[--wn],En[wn]=null}var dn=null,fn=null,Je=!1,Fn=null;function Gp(n,i){var a=Sn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function qp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,dn=n,fn=rs(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,dn=n,fn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=ei!==null?{id:Cr,overflow:Sr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Sn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,dn=n,fn=null,!0):!1;default:return!1}}function Eh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function wh(n){if(Je){var i=fn;if(i){var a=i;if(!qp(n,i)){if(Eh(n))throw Error(t(418));i=rs(a.nextSibling);var c=dn;i&&qp(n,i)?Gp(c,a):(n.flags=n.flags&-4097|2,Je=!1,dn=n)}}else{if(Eh(n))throw Error(t(418));n.flags=n.flags&-4097|2,Je=!1,dn=n}}}function Kp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dn=n}function iu(n){if(n!==dn)return!1;if(!Je)return Kp(n),Je=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!fh(n.type,n.memoizedProps)),i&&(i=fn)){if(Eh(n))throw Wp(),Error(t(418));for(;i;)Gp(n,i),i=rs(i.nextSibling)}if(Kp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){fn=rs(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}fn=null}}else fn=dn?rs(n.stateNode.nextSibling):null;return!0}function Wp(){for(var n=fn;n;)n=rs(n.nextSibling)}function uo(){fn=dn=null,Je=!1}function Ih(n){Fn===null?Fn=[n]:Fn.push(n)}var iE=ce.ReactCurrentBatchConfig;function Ta(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var I=d.refs;_===null?delete I[m]:I[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function ou(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Hp(n){var i=n._init;return i(n._payload)}function Yp(n){function i(L,D){if(n){var M=L.deletions;M===null?(L.deletions=[D],L.flags|=16):M.push(D)}}function a(L,D){if(!n)return null;for(;D!==null;)i(L,D),D=D.sibling;return null}function c(L,D){for(L=new Map;D!==null;)D.key!==null?L.set(D.key,D):L.set(D.index,D),D=D.sibling;return L}function d(L,D){return L=ps(L,D),L.index=0,L.sibling=null,L}function m(L,D,M){return L.index=M,n?(M=L.alternate,M!==null?(M=M.index,M<D?(L.flags|=2,D):M):(L.flags|=2,D)):(L.flags|=1048576,D)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function I(L,D,M,Z){return D===null||D.tag!==6?(D=pd(M,L.mode,Z),D.return=L,D):(D=d(D,M),D.return=L,D)}function P(L,D,M,Z){var le=M.type;return le===x?Y(L,D,M.props.children,Z,M.key):D!==null&&(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ut&&Hp(le)===D.type)?(Z=d(D,M.props),Z.ref=Ta(L,D,M),Z.return=L,Z):(Z=Nu(M.type,M.key,M.props,null,L.mode,Z),Z.ref=Ta(L,D,M),Z.return=L,Z)}function B(L,D,M,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=md(M,L.mode,Z),D.return=L,D):(D=d(D,M.children||[]),D.return=L,D)}function Y(L,D,M,Z,le){return D===null||D.tag!==7?(D=ui(M,L.mode,Z,le),D.return=L,D):(D=d(D,M),D.return=L,D)}function J(L,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return D=pd(""+D,L.mode,M),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ue:return M=Nu(D.type,D.key,D.props,null,L.mode,M),M.ref=Ta(L,null,D),M.return=L,M;case Ie:return D=md(D,L.mode,M),D.return=L,D;case Ut:var Z=D._init;return J(L,Z(D._payload),M)}if(pr(D)||fe(D))return D=ui(D,L.mode,M,null),D.return=L,D;ou(L,D)}return null}function H(L,D,M,Z){var le=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return le!==null?null:I(L,D,""+M,Z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ue:return M.key===le?P(L,D,M,Z):null;case Ie:return M.key===le?B(L,D,M,Z):null;case Ut:return le=M._init,H(L,D,le(M._payload),Z)}if(pr(M)||fe(M))return le!==null?null:Y(L,D,M,Z,null);ou(L,M)}return null}function te(L,D,M,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return L=L.get(M)||null,I(D,L,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ue:return L=L.get(Z.key===null?M:Z.key)||null,P(D,L,Z,le);case Ie:return L=L.get(Z.key===null?M:Z.key)||null,B(D,L,Z,le);case Ut:var me=Z._init;return te(L,D,M,me(Z._payload),le)}if(pr(Z)||fe(Z))return L=L.get(M)||null,Y(D,L,Z,le,null);ou(D,Z)}return null}function oe(L,D,M,Z){for(var le=null,me=null,ge=D,_e=D=0,Ct=null;ge!==null&&_e<M.length;_e++){ge.index>_e?(Ct=ge,ge=null):Ct=ge.sibling;var be=H(L,ge,M[_e],Z);if(be===null){ge===null&&(ge=Ct);break}n&&ge&&be.alternate===null&&i(L,ge),D=m(be,D,_e),me===null?le=be:me.sibling=be,me=be,ge=Ct}if(_e===M.length)return a(L,ge),Je&&ti(L,_e),le;if(ge===null){for(;_e<M.length;_e++)ge=J(L,M[_e],Z),ge!==null&&(D=m(ge,D,_e),me===null?le=ge:me.sibling=ge,me=ge);return Je&&ti(L,_e),le}for(ge=c(L,ge);_e<M.length;_e++)Ct=te(ge,L,_e,M[_e],Z),Ct!==null&&(n&&Ct.alternate!==null&&ge.delete(Ct.key===null?_e:Ct.key),D=m(Ct,D,_e),me===null?le=Ct:me.sibling=Ct,me=Ct);return n&&ge.forEach(function(ms){return i(L,ms)}),Je&&ti(L,_e),le}function ae(L,D,M,Z){var le=fe(M);if(typeof le!="function")throw Error(t(150));if(M=le.call(M),M==null)throw Error(t(151));for(var me=le=null,ge=D,_e=D=0,Ct=null,be=M.next();ge!==null&&!be.done;_e++,be=M.next()){ge.index>_e?(Ct=ge,ge=null):Ct=ge.sibling;var ms=H(L,ge,be.value,Z);if(ms===null){ge===null&&(ge=Ct);break}n&&ge&&ms.alternate===null&&i(L,ge),D=m(ms,D,_e),me===null?le=ms:me.sibling=ms,me=ms,ge=Ct}if(be.done)return a(L,ge),Je&&ti(L,_e),le;if(ge===null){for(;!be.done;_e++,be=M.next())be=J(L,be.value,Z),be!==null&&(D=m(be,D,_e),me===null?le=be:me.sibling=be,me=be);return Je&&ti(L,_e),le}for(ge=c(L,ge);!be.done;_e++,be=M.next())be=te(ge,L,_e,be.value,Z),be!==null&&(n&&be.alternate!==null&&ge.delete(be.key===null?_e:be.key),D=m(be,D,_e),me===null?le=be:me.sibling=be,me=be);return n&&ge.forEach(function(LE){return i(L,LE)}),Je&&ti(L,_e),le}function ot(L,D,M,Z){if(typeof M=="object"&&M!==null&&M.type===x&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Ue:e:{for(var le=M.key,me=D;me!==null;){if(me.key===le){if(le=M.type,le===x){if(me.tag===7){a(L,me.sibling),D=d(me,M.props.children),D.return=L,L=D;break e}}else if(me.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Ut&&Hp(le)===me.type){a(L,me.sibling),D=d(me,M.props),D.ref=Ta(L,me,M),D.return=L,L=D;break e}a(L,me);break}else i(L,me);me=me.sibling}M.type===x?(D=ui(M.props.children,L.mode,Z,M.key),D.return=L,L=D):(Z=Nu(M.type,M.key,M.props,null,L.mode,Z),Z.ref=Ta(L,D,M),Z.return=L,L=Z)}return _(L);case Ie:e:{for(me=M.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){a(L,D.sibling),D=d(D,M.children||[]),D.return=L,L=D;break e}else{a(L,D);break}else i(L,D);D=D.sibling}D=md(M,L.mode,Z),D.return=L,L=D}return _(L);case Ut:return me=M._init,ot(L,D,me(M._payload),Z)}if(pr(M))return oe(L,D,M,Z);if(fe(M))return ae(L,D,M,Z);ou(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,D!==null&&D.tag===6?(a(L,D.sibling),D=d(D,M),D.return=L,L=D):(a(L,D),D=pd(M,L.mode,Z),D.return=L,L=D),_(L)):a(L,D)}return ot}var co=Yp(!0),Jp=Yp(!1),au=ss(null),lu=null,ho=null,Th=null;function Ch(){Th=ho=lu=null}function Sh(n){var i=au.current;We(au),n._currentValue=i}function Rh(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function fo(n,i){lu=n,Th=ho=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(en=!0),n.firstContext=null)}function In(n){var i=n._currentValue;if(Th!==n)if(n={context:n,memoizedValue:i,next:null},ho===null){if(lu===null)throw Error(t(308));ho=n,lu.dependencies={lanes:0,firstContext:n}}else ho=ho.next=n;return i}var ni=null;function kh(n){ni===null?ni=[n]:ni.push(n)}function Xp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,kh(i)):(a.next=d.next,d.next=a),i.interleaved=a,Rr(n,c)}function Rr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var as=!1;function Ph(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function kr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ls(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Oe&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Rr(n,a)}return d=c.interleaved,d===null?(i.next=i,kh(c)):(i.next=d.next,d.next=i),c.interleaved=i,Rr(n,a)}function uu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Xr(n,a)}}function $p(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function cu(n,i,a,c){var d=n.updateQueue;as=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var P=I,B=P.next;P.next=null,_===null?m=B:_.next=B,_=P;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,I=Y.lastBaseUpdate,I!==_&&(I===null?Y.firstBaseUpdate=B:I.next=B,Y.lastBaseUpdate=P))}if(m!==null){var J=d.baseState;_=0,Y=B=P=null,I=m;do{var H=I.lane,te=I.eventTime;if((c&H)===H){Y!==null&&(Y=Y.next={eventTime:te,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var oe=n,ae=I;switch(H=i,te=a,ae.tag){case 1:if(oe=ae.payload,typeof oe=="function"){J=oe.call(te,J,H);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ae.payload,H=typeof oe=="function"?oe.call(te,J,H):oe,H==null)break e;J=ne({},J,H);break e;case 2:as=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,H=d.effects,H===null?d.effects=[I]:H.push(I))}else te={eventTime:te,lane:H,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?(B=Y=te,P=J):Y=Y.next=te,_|=H;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;H=I,I=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);if(Y===null&&(P=J),d.baseState=P,d.firstBaseUpdate=B,d.lastBaseUpdate=Y,i=d.shared.interleaved,i!==null){d=i;do _|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);ii|=_,n.lanes=_,n.memoizedState=J}}function em(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ca={},nr=ss(Ca),Sa=ss(Ca),Ra=ss(Ca);function ri(n){if(n===Ca)throw Error(t(174));return n}function Nh(n,i){switch(qe(Ra,i),qe(Sa,n),qe(nr,Ca),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:mt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=mt(i,n)}We(nr),qe(nr,i)}function po(){We(nr),We(Sa),We(Ra)}function tm(n){ri(Ra.current);var i=ri(nr.current),a=mt(i,n.type);i!==a&&(qe(Sa,n),qe(nr,a))}function Dh(n){Sa.current===n&&(We(nr),We(Sa))}var Xe=ss(0);function hu(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xh=[];function Vh(){for(var n=0;n<xh.length;n++)xh[n]._workInProgressVersionPrimary=null;xh.length=0}var du=ce.ReactCurrentDispatcher,Oh=ce.ReactCurrentBatchConfig,si=0,Ze=null,yt=null,It=null,fu=!1,ka=!1,Pa=0,oE=0;function Lt(){throw Error(t(321))}function Uh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Mn(n[a],i[a]))return!1;return!0}function bh(n,i,a,c,d,m){if(si=m,Ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,du.current=n===null||n.memoizedState===null?cE:hE,n=a(c,d),ka){m=0;do{if(ka=!1,Pa=0,25<=m)throw Error(t(301));m+=1,It=yt=null,i.updateQueue=null,du.current=dE,n=a(c,d)}while(ka)}if(du.current=gu,i=yt!==null&&yt.next!==null,si=0,It=yt=Ze=null,fu=!1,i)throw Error(t(300));return n}function Lh(){var n=Pa!==0;return Pa=0,n}function rr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ze.memoizedState=It=n:It=It.next=n,It}function Tn(){if(yt===null){var n=Ze.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=It===null?Ze.memoizedState:It.next;if(i!==null)It=i,yt=n;else{if(n===null)throw Error(t(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?Ze.memoizedState=It=n:It=It.next=n}return It}function Na(n,i){return typeof i=="function"?i(n):i}function Mh(n){var i=Tn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=yt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var I=_=null,P=null,B=m;do{var Y=B.lane;if((si&Y)===Y)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var J={lane:Y,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(I=P=J,_=c):P=P.next=J,Ze.lanes|=Y,ii|=Y}B=B.next}while(B!==null&&B!==m);P===null?_=c:P.next=I,Mn(c,i.memoizedState)||(en=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,Ze.lanes|=m,ii|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Fh(n){var i=Tn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);Mn(m,i.memoizedState)||(en=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function nm(){}function rm(n,i){var a=Ze,c=Tn(),d=i(),m=!Mn(c.memoizedState,d);if(m&&(c.memoizedState=d,en=!0),c=c.queue,Bh(om.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Da(9,im.bind(null,a,c,d,i),void 0,null),Tt===null)throw Error(t(349));si&30||sm(a,i,d)}return d}function sm(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function im(n,i,a,c){i.value=a,i.getSnapshot=c,am(i)&&lm(n)}function om(n,i,a){return a(function(){am(i)&&lm(n)})}function am(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Mn(n,a)}catch{return!0}}function lm(n){var i=Rr(n,1);i!==null&&zn(i,n,1,-1)}function um(n){var i=rr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:n},i.queue=n,n=n.dispatch=uE.bind(null,Ze,n),[i.memoizedState,n]}function Da(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function cm(){return Tn().memoizedState}function pu(n,i,a,c){var d=rr();Ze.flags|=n,d.memoizedState=Da(1|i,a,void 0,c===void 0?null:c)}function mu(n,i,a,c){var d=Tn();c=c===void 0?null:c;var m=void 0;if(yt!==null){var _=yt.memoizedState;if(m=_.destroy,c!==null&&Uh(c,_.deps)){d.memoizedState=Da(i,a,m,c);return}}Ze.flags|=n,d.memoizedState=Da(1|i,a,m,c)}function hm(n,i){return pu(8390656,8,n,i)}function Bh(n,i){return mu(2048,8,n,i)}function dm(n,i){return mu(4,2,n,i)}function fm(n,i){return mu(4,4,n,i)}function pm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function mm(n,i,a){return a=a!=null?a.concat([n]):null,mu(4,4,pm.bind(null,i,n),a)}function jh(){}function gm(n,i){var a=Tn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Uh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function ym(n,i){var a=Tn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Uh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function vm(n,i,a){return si&21?(Mn(a,i)||(a=Ws(),Ze.lanes|=a,ii|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,en=!0),n.memoizedState=a)}function aE(n,i){var a=Pe;Pe=a!==0&&4>a?a:4,n(!0);var c=Oh.transition;Oh.transition={};try{n(!1),i()}finally{Pe=a,Oh.transition=c}}function _m(){return Tn().memoizedState}function lE(n,i,a){var c=ds(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Am(n))Em(i,a);else if(a=Xp(n,i,a,c),a!==null){var d=Wt();zn(a,n,c,d),wm(a,i,c)}}function uE(n,i,a){var c=ds(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Am(n))Em(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,I=m(_,a);if(d.hasEagerState=!0,d.eagerState=I,Mn(I,_)){var P=i.interleaved;P===null?(d.next=d,kh(i)):(d.next=P.next,P.next=d),i.interleaved=d;return}}catch{}finally{}a=Xp(n,i,d,c),a!==null&&(d=Wt(),zn(a,n,c,d),wm(a,i,c))}}function Am(n){var i=n.alternate;return n===Ze||i!==null&&i===Ze}function Em(n,i){ka=fu=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function wm(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Xr(n,a)}}var gu={readContext:In,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},cE={readContext:In,useCallback:function(n,i){return rr().memoizedState=[n,i===void 0?null:i],n},useContext:In,useEffect:hm,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,pu(4194308,4,pm.bind(null,i,n),a)},useLayoutEffect:function(n,i){return pu(4194308,4,n,i)},useInsertionEffect:function(n,i){return pu(4,2,n,i)},useMemo:function(n,i){var a=rr();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=rr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=lE.bind(null,Ze,n),[c.memoizedState,n]},useRef:function(n){var i=rr();return n={current:n},i.memoizedState=n},useState:um,useDebugValue:jh,useDeferredValue:function(n){return rr().memoizedState=n},useTransition:function(){var n=um(!1),i=n[0];return n=aE.bind(null,n[1]),rr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Ze,d=rr();if(Je){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Tt===null)throw Error(t(349));si&30||sm(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,hm(om.bind(null,c,m,n),[n]),c.flags|=2048,Da(9,im.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=rr(),i=Tt.identifierPrefix;if(Je){var a=Sr,c=Cr;a=(c&~(1<<32-Gt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Pa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=oE++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},hE={readContext:In,useCallback:gm,useContext:In,useEffect:Bh,useImperativeHandle:mm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:ym,useReducer:Mh,useRef:cm,useState:function(){return Mh(Na)},useDebugValue:jh,useDeferredValue:function(n){var i=Tn();return vm(i,yt.memoizedState,n)},useTransition:function(){var n=Mh(Na)[0],i=Tn().memoizedState;return[n,i]},useMutableSource:nm,useSyncExternalStore:rm,useId:_m,unstable_isNewReconciler:!1},dE={readContext:In,useCallback:gm,useContext:In,useEffect:Bh,useImperativeHandle:mm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:ym,useReducer:Fh,useRef:cm,useState:function(){return Fh(Na)},useDebugValue:jh,useDeferredValue:function(n){var i=Tn();return yt===null?i.memoizedState=n:vm(i,yt.memoizedState,n)},useTransition:function(){var n=Fh(Na)[0],i=Tn().memoizedState;return[n,i]},useMutableSource:nm,useSyncExternalStore:rm,useId:_m,unstable_isNewReconciler:!1};function Bn(n,i){if(n&&n.defaultProps){i=ne({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Qh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:ne({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var yu={isMounted:function(n){return(n=n._reactInternals)?Dn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Wt(),d=ds(n),m=kr(c,d);m.payload=i,a!=null&&(m.callback=a),i=ls(n,m,d),i!==null&&(zn(i,n,d,c),uu(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Wt(),d=ds(n),m=kr(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=ls(n,m,d),i!==null&&(zn(i,n,d,c),uu(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Wt(),c=ds(n),d=kr(a,c);d.tag=2,i!=null&&(d.callback=i),i=ls(n,d,c),i!==null&&(zn(i,n,c,a),uu(i,n,c))}};function Im(n,i,a,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!ya(a,c)||!ya(d,m):!0}function Tm(n,i,a){var c=!1,d=is,m=i.contextType;return typeof m=="object"&&m!==null?m=In(m):(d=$t(i)?$s:bt.current,c=i.contextTypes,m=(c=c!=null)?oo(n,d):is),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=yu,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function Cm(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&yu.enqueueReplaceState(i,i.state,null)}function zh(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Ph(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=In(m):(m=$t(i)?$s:bt.current,d.context=oo(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Qh(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&yu.enqueueReplaceState(d,d.state,null),cu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function mo(n,i){try{var a="",c=i;do a+=Ce(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function Gh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function qh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var fE=typeof WeakMap=="function"?WeakMap:Map;function Sm(n,i,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Tu||(Tu=!0,od=c),qh(n,i)},a}function Rm(n,i,a){a=kr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){qh(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){qh(n,i),typeof c!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function km(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new fE;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=RE.bind(null,n,i,a),i.then(n,n))}function Pm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Nm(n,i,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=kr(-1,1),i.tag=2,ls(a,i,1))),a.lanes|=1),n)}var pE=ce.ReactCurrentOwner,en=!1;function Kt(n,i,a,c){i.child=n===null?Jp(i,null,a,c):co(i,n.child,a,c)}function Dm(n,i,a,c,d){a=a.render;var m=i.ref;return fo(i,d),c=bh(n,i,a,c,m,d),a=Lh(),n!==null&&!en?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Pr(n,i,d)):(Je&&a&&_h(i),i.flags|=1,Kt(n,i,c,d),i.child)}function xm(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!fd(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Vm(n,i,m,c,d)):(n=Nu(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!(n.lanes&d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:ya,a(_,c)&&n.ref===i.ref)return Pr(n,i,d)}return i.flags|=1,n=ps(m,c),n.ref=i.ref,n.return=i,i.child=n}function Vm(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(ya(m,c)&&n.ref===i.ref)if(en=!1,i.pendingProps=c=m,(n.lanes&d)!==0)n.flags&131072&&(en=!0);else return i.lanes=n.lanes,Pr(n,i,d)}return Kh(n,i,a,c,d)}function Om(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(yo,pn),pn|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,qe(yo,pn),pn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,qe(yo,pn),pn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,qe(yo,pn),pn|=c;return Kt(n,i,d,a),i.child}function Um(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Kh(n,i,a,c,d){var m=$t(a)?$s:bt.current;return m=oo(i,m),fo(i,d),a=bh(n,i,a,c,m,d),c=Lh(),n!==null&&!en?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Pr(n,i,d)):(Je&&c&&_h(i),i.flags|=1,Kt(n,i,a,d),i.child)}function bm(n,i,a,c,d){if($t(a)){var m=!0;tu(i)}else m=!1;if(fo(i,d),i.stateNode===null)_u(n,i),Tm(i,a,c),zh(i,a,c,d),c=!0;else if(n===null){var _=i.stateNode,I=i.memoizedProps;_.props=I;var P=_.context,B=a.contextType;typeof B=="object"&&B!==null?B=In(B):(B=$t(a)?$s:bt.current,B=oo(i,B));var Y=a.getDerivedStateFromProps,J=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==c||P!==B)&&Cm(i,_,c,B),as=!1;var H=i.memoizedState;_.state=H,cu(i,c,_,d),P=i.memoizedState,I!==c||H!==P||Zt.current||as?(typeof Y=="function"&&(Qh(i,a,Y,c),P=i.memoizedState),(I=as||Im(i,a,I,c,H,P,B))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),_.props=c,_.state=P,_.context=B,c=I):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Zp(n,i),I=i.memoizedProps,B=i.type===i.elementType?I:Bn(i.type,I),_.props=B,J=i.pendingProps,H=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=In(P):(P=$t(a)?$s:bt.current,P=oo(i,P));var te=a.getDerivedStateFromProps;(Y=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==J||H!==P)&&Cm(i,_,c,P),as=!1,H=i.memoizedState,_.state=H,cu(i,c,_,d);var oe=i.memoizedState;I!==J||H!==oe||Zt.current||as?(typeof te=="function"&&(Qh(i,a,te,c),oe=i.memoizedState),(B=as||Im(i,a,B,c,H,oe,P)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,oe,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,oe,P)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=oe),_.props=c,_.state=oe,_.context=P,c=B):(typeof _.componentDidUpdate!="function"||I===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),c=!1)}return Wh(n,i,a,c,m,d)}function Wh(n,i,a,c,d,m){Um(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return d&&jp(i,a,!1),Pr(n,i,m);c=i.stateNode,pE.current=i;var I=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=co(i,n.child,null,m),i.child=co(i,null,I,m)):Kt(n,i,I,m),i.memoizedState=c.state,d&&jp(i,a,!0),i.child}function Lm(n){var i=n.stateNode;i.pendingContext?Fp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Fp(n,i.context,!1),Nh(n,i.containerInfo)}function Mm(n,i,a,c,d){return uo(),Ih(d),i.flags|=256,Kt(n,i,a,c),i.child}var Hh={dehydrated:null,treeContext:null,retryLane:0};function Yh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Fm(n,i,a){var c=i.pendingProps,d=Xe.current,m=!1,_=(i.flags&128)!==0,I;if((I=_)||(I=n!==null&&n.memoizedState===null?!1:(d&2)!==0),I?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),qe(Xe,d&1),n===null)return wh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Du(_,c,0,null),n=ui(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Yh(a),i.memoizedState=Hh,n):Jh(i,_));if(d=n.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return mE(n,i,_,c,I,d,a);if(m){m=c.fallback,_=i.mode,d=n.child,I=d.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=ps(d,P),c.subtreeFlags=d.subtreeFlags&14680064),I!==null?m=ps(I,m):(m=ui(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?Yh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=Hh,c}return m=n.child,n=m.sibling,c=ps(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function Jh(n,i){return i=Du({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function vu(n,i,a,c){return c!==null&&Ih(c),co(i,n.child,null,a),n=Jh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function mE(n,i,a,c,d,m,_){if(a)return i.flags&256?(i.flags&=-257,c=Gh(Error(t(422))),vu(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=Du({mode:"visible",children:c.children},d,0,null),m=ui(m,d,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&co(i,n.child,null,_),i.child.memoizedState=Yh(_),i.memoizedState=Hh,m);if(!(i.mode&1))return vu(n,i,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var I=c.dgst;return c=I,m=Error(t(419)),c=Gh(m,c,void 0),vu(n,i,_,c)}if(I=(_&n.childLanes)!==0,en||I){if(c=Tt,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Rr(n,d),zn(c,n,d,-1))}return dd(),c=Gh(Error(t(421))),vu(n,i,_,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=kE.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,fn=rs(d.nextSibling),dn=i,Je=!0,Fn=null,n!==null&&(En[wn++]=Cr,En[wn++]=Sr,En[wn++]=ei,Cr=n.id,Sr=n.overflow,ei=i),i=Jh(i,c.children),i.flags|=4096,i)}function Bm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Rh(n.return,i,a)}function Xh(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function jm(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(Kt(n,i,c.children,a),c=Xe.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bm(n,a,i);else if(n.tag===19)Bm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(qe(Xe,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&hu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Xh(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&hu(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Xh(i,!0,a,null,m);break;case"together":Xh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _u(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Pr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ii|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=ps(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ps(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function gE(n,i,a){switch(i.tag){case 3:Lm(i),uo();break;case 5:tm(i);break;case 1:$t(i.type)&&tu(i);break;case 4:Nh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;qe(au,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(Xe,Xe.current&1),i.flags|=128,null):a&i.child.childLanes?Fm(n,i,a):(qe(Xe,Xe.current&1),n=Pr(n,i,a),n!==null?n.sibling:null);qe(Xe,Xe.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return jm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Xe,Xe.current),c)break;return null;case 22:case 23:return i.lanes=0,Om(n,i,a)}return Pr(n,i,a)}var Qm,Zh,zm,Gm;Qm=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Zh=function(){},zm=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,ri(nr.current);var m=null;switch(a){case"input":d=bs(n,d),c=bs(n,c),m=[];break;case"select":d=ne({},d,{value:void 0}),c=ne({},c,{value:void 0}),m=[];break;case"textarea":d=Ko(n,d),c=Ko(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Zl)}Zo(a,c);var _;a=null;for(B in d)if(!c.hasOwnProperty(B)&&d.hasOwnProperty(B)&&d[B]!=null)if(B==="style"){var I=d[B];for(_ in I)I.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?m||(m=[]):(m=m||[]).push(B,null));for(B in c){var P=c[B];if(I=d!=null?d[B]:void 0,c.hasOwnProperty(B)&&P!==I&&(P!=null||I!=null))if(B==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&I[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(m||(m=[]),m.push(B,a)),a=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(m=m||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&Ke("scroll",n),m||I===P||(m=[])):(m=m||[]).push(B,P))}a&&(m=m||[]).push("style",a);var B=m;(i.updateQueue=B)&&(i.flags|=4)}},Gm=function(n,i,a,c){a!==c&&(i.flags|=4)};function xa(n,i){if(!Je)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Mt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function yE(n,i,a){var c=i.pendingProps;switch(Ah(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return $t(i.type)&&eu(),Mt(i),null;case 3:return c=i.stateNode,po(),We(Zt),We(bt),Vh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(iu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Fn!==null&&(ud(Fn),Fn=null))),Zh(n,i),Mt(i),null;case 5:Dh(i);var d=ri(Ra.current);if(a=i.type,n!==null&&i.stateNode!=null)zm(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Mt(i),null}if(n=ri(nr.current),iu(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[tr]=i,c[wa]=m,n=(i.mode&1)!==0,a){case"dialog":Ke("cancel",c),Ke("close",c);break;case"iframe":case"object":case"embed":Ke("load",c);break;case"video":case"audio":for(d=0;d<_a.length;d++)Ke(_a[d],c);break;case"source":Ke("error",c);break;case"img":case"image":case"link":Ke("error",c),Ke("load",c);break;case"details":Ke("toggle",c);break;case"input":ki(c,m),Ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ke("invalid",c);break;case"textarea":Ni(c,m),Ke("invalid",c)}Zo(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var I=m[_];_==="children"?typeof I=="string"?c.textContent!==I&&(m.suppressHydrationWarning!==!0&&Xl(c.textContent,I,n),d=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(m.suppressHydrationWarning!==!0&&Xl(c.textContent,I,n),d=["children",""+I]):o.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&Ke("scroll",c)}switch(a){case"input":fr(c),Il(c,m,!0);break;case"textarea":fr(c),Wo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Zl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=pt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[tr]=i,n[wa]=c,Qm(n,i,!1,!1),i.stateNode=n;e:{switch(_=$o(a,c),a){case"dialog":Ke("cancel",n),Ke("close",n),d=c;break;case"iframe":case"object":case"embed":Ke("load",n),d=c;break;case"video":case"audio":for(d=0;d<_a.length;d++)Ke(_a[d],n);d=c;break;case"source":Ke("error",n),d=c;break;case"img":case"image":case"link":Ke("error",n),Ke("load",n),d=c;break;case"details":Ke("toggle",n),d=c;break;case"input":ki(n,c),d=bs(n,c),Ke("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ne({},c,{value:void 0}),Ke("invalid",n);break;case"textarea":Ni(n,c),d=Ko(n,c),Ke("invalid",n);break;default:d=c}Zo(a,d),I=d;for(m in I)if(I.hasOwnProperty(m)){var P=I[m];m==="style"?Jo(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Ho(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Kr(n,P):typeof P=="number"&&Kr(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Ke("scroll",n):P!=null&&ue(n,m,P,_))}switch(a){case"input":fr(n),Il(n,c,!1);break;case"textarea":fr(n),Wo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Me(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?mr(n,!!c.multiple,m,!1):c.defaultValue!=null&&mr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Zl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Mt(i),null;case 6:if(n&&i.stateNode!=null)Gm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=ri(Ra.current),ri(nr.current),iu(i)){if(c=i.stateNode,a=i.memoizedProps,c[tr]=i,(m=c.nodeValue!==a)&&(n=dn,n!==null))switch(n.tag){case 3:Xl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[tr]=i,i.stateNode=c}return Mt(i),null;case 13:if(We(Xe),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Je&&fn!==null&&i.mode&1&&!(i.flags&128))Wp(),uo(),i.flags|=98560,m=!1;else if(m=iu(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[tr]=i}else uo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Mt(i),m=!1}else Fn!==null&&(ud(Fn),Fn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Xe.current&1?vt===0&&(vt=3):dd())),i.updateQueue!==null&&(i.flags|=4),Mt(i),null);case 4:return po(),Zh(n,i),n===null&&Aa(i.stateNode.containerInfo),Mt(i),null;case 10:return Sh(i.type._context),Mt(i),null;case 17:return $t(i.type)&&eu(),Mt(i),null;case 19:if(We(Xe),m=i.memoizedState,m===null)return Mt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)xa(m,!1);else{if(vt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(_=hu(n),_!==null){for(i.flags|=128,xa(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return qe(Xe,Xe.current&1|2),i.child}n=n.sibling}m.tail!==null&&Ge()>vo&&(i.flags|=128,c=!0,xa(m,!1),i.lanes=4194304)}else{if(!c)if(n=hu(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),xa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Je)return Mt(i),null}else 2*Ge()-m.renderingStartTime>vo&&a!==1073741824&&(i.flags|=128,c=!0,xa(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ge(),i.sibling=null,a=Xe.current,qe(Xe,c?a&1|2:a&1),i):(Mt(i),null);case 22:case 23:return hd(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?pn&1073741824&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function vE(n,i){switch(Ah(i),i.tag){case 1:return $t(i.type)&&eu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return po(),We(Zt),We(bt),Vh(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Dh(i),null;case 13:if(We(Xe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));uo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return We(Xe),null;case 4:return po(),null;case 10:return Sh(i.type._context),null;case 22:case 23:return hd(),null;case 24:return null;default:return null}}var Au=!1,Ft=!1,_E=typeof WeakSet=="function"?WeakSet:Set,ie=null;function go(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){tt(n,i,c)}else a.current=null}function $h(n,i,a){try{a()}catch(c){tt(n,i,c)}}var qm=!1;function AE(n,i){if(hh=es,n=Ip(),rh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,I=-1,P=-1,B=0,Y=0,J=n,H=null;t:for(;;){for(var te;J!==a||d!==0&&J.nodeType!==3||(I=_+d),J!==m||c!==0&&J.nodeType!==3||(P=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(te=J.firstChild)!==null;)H=J,J=te;for(;;){if(J===n)break t;if(H===a&&++B===d&&(I=_),H===m&&++Y===c&&(P=_),(te=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=te}a=I===-1||P===-1?null:{start:I,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(dh={focusedElem:n,selectionRange:a},es=!1,ie=i;ie!==null;)if(i=ie,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ie=n;else for(;ie!==null;){i=ie;try{var oe=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ae=oe.memoizedProps,ot=oe.memoizedState,L=i.stateNode,D=L.getSnapshotBeforeUpdate(i.elementType===i.type?ae:Bn(i.type,ae),ot);L.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var M=i.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){tt(i,i.return,Z)}if(n=i.sibling,n!==null){n.return=i.return,ie=n;break}ie=i.return}return oe=qm,qm=!1,oe}function Va(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&$h(i,a,m)}d=d.next}while(d!==c)}}function Eu(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function ed(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Km(n){var i=n.alternate;i!==null&&(n.alternate=null,Km(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[tr],delete i[wa],delete i[gh],delete i[nE],delete i[rE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Wm(n){return n.tag===5||n.tag===3||n.tag===4}function Hm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function td(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zl));else if(c!==4&&(n=n.child,n!==null))for(td(n,i,a),n=n.sibling;n!==null;)td(n,i,a),n=n.sibling}function nd(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(nd(n,i,a),n=n.sibling;n!==null;)nd(n,i,a),n=n.sibling}var Pt=null,jn=!1;function us(n,i,a){for(a=a.child;a!==null;)Ym(n,i,a),a=a.sibling}function Ym(n,i,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(qs,a)}catch{}switch(a.tag){case 5:Ft||go(a,i);case 6:var c=Pt,d=jn;Pt=null,us(n,i,a),Pt=c,jn=d,Pt!==null&&(jn?(n=Pt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(jn?(n=Pt,a=a.stateNode,n.nodeType===8?mh(n.parentNode,a):n.nodeType===1&&mh(n,a),bn(n)):mh(Pt,a.stateNode));break;case 4:c=Pt,d=jn,Pt=a.stateNode.containerInfo,jn=!0,us(n,i,a),Pt=c,jn=d;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&$h(a,i,_),d=d.next}while(d!==c)}us(n,i,a);break;case 1:if(!Ft&&(go(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(I){tt(a,i,I)}us(n,i,a);break;case 21:us(n,i,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,us(n,i,a),Ft=c):us(n,i,a);break;default:us(n,i,a)}}function Jm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new _E),i.forEach(function(c){var d=PE.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Qn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,_=i,I=_;e:for(;I!==null;){switch(I.tag){case 5:Pt=I.stateNode,jn=!1;break e;case 3:Pt=I.stateNode.containerInfo,jn=!0;break e;case 4:Pt=I.stateNode.containerInfo,jn=!0;break e}I=I.return}if(Pt===null)throw Error(t(160));Ym(m,_,d),Pt=null,jn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(B){tt(d,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Xm(i,n),i=i.sibling}function Xm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Qn(i,n),sr(n),c&4){try{Va(3,n,n.return),Eu(3,n)}catch(ae){tt(n,n.return,ae)}try{Va(5,n,n.return)}catch(ae){tt(n,n.return,ae)}}break;case 1:Qn(i,n),sr(n),c&512&&a!==null&&go(a,a.return);break;case 5:if(Qn(i,n),sr(n),c&512&&a!==null&&go(a,a.return),n.flags&32){var d=n.stateNode;try{Kr(d,"")}catch(ae){tt(n,n.return,ae)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,I=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{I==="input"&&m.type==="radio"&&m.name!=null&&Go(d,m),$o(I,_);var B=$o(I,m);for(_=0;_<P.length;_+=2){var Y=P[_],J=P[_+1];Y==="style"?Jo(d,J):Y==="dangerouslySetInnerHTML"?Ho(d,J):Y==="children"?Kr(d,J):ue(d,Y,J,B)}switch(I){case"input":qo(d,m);break;case"textarea":Di(d,m);break;case"select":var H=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var te=m.value;te!=null?mr(d,!!m.multiple,te,!1):H!==!!m.multiple&&(m.defaultValue!=null?mr(d,!!m.multiple,m.defaultValue,!0):mr(d,!!m.multiple,m.multiple?[]:"",!1))}d[wa]=m}catch(ae){tt(n,n.return,ae)}}break;case 6:if(Qn(i,n),sr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(ae){tt(n,n.return,ae)}}break;case 3:if(Qn(i,n),sr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{bn(i.containerInfo)}catch(ae){tt(n,n.return,ae)}break;case 4:Qn(i,n),sr(n);break;case 13:Qn(i,n),sr(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(id=Ge())),c&4&&Jm(n);break;case 22:if(Y=a!==null&&a.memoizedState!==null,n.mode&1?(Ft=(B=Ft)||Y,Qn(i,n),Ft=B):Qn(i,n),sr(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!Y&&n.mode&1)for(ie=n,Y=n.child;Y!==null;){for(J=ie=Y;ie!==null;){switch(H=ie,te=H.child,H.tag){case 0:case 11:case 14:case 15:Va(4,H,H.return);break;case 1:go(H,H.return);var oe=H.stateNode;if(typeof oe.componentWillUnmount=="function"){c=H,a=H.return;try{i=c,oe.props=i.memoizedProps,oe.state=i.memoizedState,oe.componentWillUnmount()}catch(ae){tt(c,a,ae)}}break;case 5:go(H,H.return);break;case 22:if(H.memoizedState!==null){eg(J);continue}}te!==null?(te.return=H,ie=te):eg(J)}Y=Y.sibling}e:for(Y=null,J=n;;){if(J.tag===5){if(Y===null){Y=J;try{d=J.stateNode,B?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(I=J.stateNode,P=J.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=Yo("display",_))}catch(ae){tt(n,n.return,ae)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=B?"":J.memoizedProps}catch(ae){tt(n,n.return,ae)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===n)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===n)break e;for(;J.sibling===null;){if(J.return===null||J.return===n)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Qn(i,n),sr(n),c&4&&Jm(n);break;case 21:break;default:Qn(i,n),sr(n)}}function sr(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Wm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Kr(d,""),c.flags&=-33);var m=Hm(n);nd(n,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,I=Hm(n);td(n,I,_);break;default:throw Error(t(161))}}catch(P){tt(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function EE(n,i,a){ie=n,Zm(n)}function Zm(n,i,a){for(var c=(n.mode&1)!==0;ie!==null;){var d=ie,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||Au;if(!_){var I=d.alternate,P=I!==null&&I.memoizedState!==null||Ft;I=Au;var B=Ft;if(Au=_,(Ft=P)&&!B)for(ie=d;ie!==null;)_=ie,P=_.child,_.tag===22&&_.memoizedState!==null?tg(d):P!==null?(P.return=_,ie=P):tg(d);for(;m!==null;)ie=m,Zm(m),m=m.sibling;ie=d,Au=I,Ft=B}$m(n)}else d.subtreeFlags&8772&&m!==null?(m.return=d,ie=m):$m(n)}}function $m(n){for(;ie!==null;){var i=ie;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Ft||Eu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Bn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&em(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}em(i,_,a)}break;case 5:var I=i.stateNode;if(a===null&&i.flags&4){a=I;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var Y=B.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&bn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||i.flags&512&&ed(i)}catch(H){tt(i,i.return,H)}}if(i===n){ie=null;break}if(a=i.sibling,a!==null){a.return=i.return,ie=a;break}ie=i.return}}function eg(n){for(;ie!==null;){var i=ie;if(i===n){ie=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ie=a;break}ie=i.return}}function tg(n){for(;ie!==null;){var i=ie;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Eu(4,i)}catch(P){tt(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(P){tt(i,d,P)}}var m=i.return;try{ed(i)}catch(P){tt(i,m,P)}break;case 5:var _=i.return;try{ed(i)}catch(P){tt(i,_,P)}}}catch(P){tt(i,i.return,P)}if(i===n){ie=null;break}var I=i.sibling;if(I!==null){I.return=i.return,ie=I;break}ie=i.return}}var wE=Math.ceil,wu=ce.ReactCurrentDispatcher,rd=ce.ReactCurrentOwner,Cn=ce.ReactCurrentBatchConfig,Oe=0,Tt=null,ct=null,Nt=0,pn=0,yo=ss(0),vt=0,Oa=null,ii=0,Iu=0,sd=0,Ua=null,tn=null,id=0,vo=1/0,Nr=null,Tu=!1,od=null,cs=null,Cu=!1,hs=null,Su=0,ba=0,ad=null,Ru=-1,ku=0;function Wt(){return Oe&6?Ge():Ru!==-1?Ru:Ru=Ge()}function ds(n){return n.mode&1?Oe&2&&Nt!==0?Nt&-Nt:iE.transition!==null?(ku===0&&(ku=Ws()),ku):(n=Pe,n!==0||(n=window.event,n=n===void 0?16:ca(n.type)),n):1}function zn(n,i,a,c){if(50<ba)throw ba=0,ad=null,Error(t(185));Jr(n,a,c),(!(Oe&2)||n!==Tt)&&(n===Tt&&(!(Oe&2)&&(Iu|=a),vt===4&&fs(n,Nt)),nn(n,c),a===1&&Oe===0&&!(i.mode&1)&&(vo=Ge()+500,nu&&os()))}function nn(n,i){var a=n.callbackNode;vr(n,i);var c=Ks(n,n===Tt?Nt:0);if(c===0)a!==null&&ia(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&ia(a),i===1)n.tag===0?sE(rg.bind(null,n)):Qp(rg.bind(null,n)),eE(function(){!(Oe&6)&&os()}),a=null;else{switch(Zr(c)){case 1:a=Gs;break;case 4:a=Wr;break;case 16:a=vn;break;case 536870912:a=kl;break;default:a=vn}a=hg(a,ng.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function ng(n,i){if(Ru=-1,ku=0,Oe&6)throw Error(t(327));var a=n.callbackNode;if(_o()&&n.callbackNode!==a)return null;var c=Ks(n,n===Tt?Nt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=Pu(n,c);else{i=c;var d=Oe;Oe|=2;var m=ig();(Tt!==n||Nt!==i)&&(Nr=null,vo=Ge()+500,ai(n,i));do try{CE();break}catch(I){sg(n,I)}while(!0);Ch(),wu.current=m,Oe=d,ct!==null?i=0:(Tt=null,Nt=0,i=vt)}if(i!==0){if(i===2&&(d=un(n),d!==0&&(c=d,i=ld(n,d))),i===1)throw a=Oa,ai(n,0),fs(n,c),nn(n,Ge()),a;if(i===6)fs(n,c);else{if(d=n.current.alternate,!(c&30)&&!IE(d)&&(i=Pu(n,c),i===2&&(m=un(n),m!==0&&(c=m,i=ld(n,m))),i===1))throw a=Oa,ai(n,0),fs(n,c),nn(n,Ge()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:li(n,tn,Nr);break;case 3:if(fs(n,c),(c&130023424)===c&&(i=id+500-Ge(),10<i)){if(Ks(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Wt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=ph(li.bind(null,n,tn,Nr),i);break}li(n,tn,Nr);break;case 4:if(fs(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var _=31-Gt(c);m=1<<_,_=i[_],_>d&&(d=_),c&=~m}if(c=d,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*wE(c/1960))-c,10<c){n.timeoutHandle=ph(li.bind(null,n,tn,Nr),c);break}li(n,tn,Nr);break;case 5:li(n,tn,Nr);break;default:throw Error(t(329))}}}return nn(n,Ge()),n.callbackNode===a?ng.bind(null,n):null}function ld(n,i){var a=Ua;return n.current.memoizedState.isDehydrated&&(ai(n,i).flags|=256),n=Pu(n,i),n!==2&&(i=tn,tn=a,i!==null&&ud(i)),n}function ud(n){tn===null?tn=n:tn.push.apply(tn,n)}function IE(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Mn(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fs(n,i){for(i&=~sd,i&=~Iu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Gt(i),c=1<<a;n[a]=-1,i&=~c}}function rg(n){if(Oe&6)throw Error(t(327));_o();var i=Ks(n,0);if(!(i&1))return nn(n,Ge()),null;var a=Pu(n,i);if(n.tag!==0&&a===2){var c=un(n);c!==0&&(i=c,a=ld(n,c))}if(a===1)throw a=Oa,ai(n,0),fs(n,i),nn(n,Ge()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,li(n,tn,Nr),nn(n,Ge()),null}function cd(n,i){var a=Oe;Oe|=1;try{return n(i)}finally{Oe=a,Oe===0&&(vo=Ge()+500,nu&&os())}}function oi(n){hs!==null&&hs.tag===0&&!(Oe&6)&&_o();var i=Oe;Oe|=1;var a=Cn.transition,c=Pe;try{if(Cn.transition=null,Pe=1,n)return n()}finally{Pe=c,Cn.transition=a,Oe=i,!(Oe&6)&&os()}}function hd(){pn=yo.current,We(yo)}function ai(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,$A(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Ah(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&eu();break;case 3:po(),We(Zt),We(bt),Vh();break;case 5:Dh(c);break;case 4:po();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Sh(c.type._context);break;case 22:case 23:hd()}a=a.return}if(Tt=n,ct=n=ps(n.current,null),Nt=pn=i,vt=0,Oa=null,sd=Iu=ii=0,tn=Ua=null,ni!==null){for(i=0;i<ni.length;i++)if(a=ni[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}ni=null}return n}function sg(n,i){do{var a=ct;try{if(Ch(),du.current=gu,fu){for(var c=Ze.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}fu=!1}if(si=0,It=yt=Ze=null,ka=!1,Pa=0,rd.current=null,a===null||a.return===null){vt=1,Oa=i,ct=null;break}e:{var m=n,_=a.return,I=a,P=i;if(i=Nt,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,Y=I,J=Y.tag;if(!(Y.mode&1)&&(J===0||J===11||J===15)){var H=Y.alternate;H?(Y.updateQueue=H.updateQueue,Y.memoizedState=H.memoizedState,Y.lanes=H.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var te=Pm(_);if(te!==null){te.flags&=-257,Nm(te,_,I,m,i),te.mode&1&&km(m,B,i),i=te,P=B;var oe=i.updateQueue;if(oe===null){var ae=new Set;ae.add(P),i.updateQueue=ae}else oe.add(P);break e}else{if(!(i&1)){km(m,B,i),dd();break e}P=Error(t(426))}}else if(Je&&I.mode&1){var ot=Pm(_);if(ot!==null){!(ot.flags&65536)&&(ot.flags|=256),Nm(ot,_,I,m,i),Ih(mo(P,I));break e}}m=P=mo(P,I),vt!==4&&(vt=2),Ua===null?Ua=[m]:Ua.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var L=Sm(m,P,i);$p(m,L);break e;case 1:I=P;var D=m.type,M=m.stateNode;if(!(m.flags&128)&&(typeof D.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(cs===null||!cs.has(M)))){m.flags|=65536,i&=-i,m.lanes|=i;var Z=Rm(m,I,i);$p(m,Z);break e}}m=m.return}while(m!==null)}ag(a)}catch(le){i=le,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function ig(){var n=wu.current;return wu.current=gu,n===null?gu:n}function dd(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||!(ii&268435455)&&!(Iu&268435455)||fs(Tt,Nt)}function Pu(n,i){var a=Oe;Oe|=2;var c=ig();(Tt!==n||Nt!==i)&&(Nr=null,ai(n,i));do try{TE();break}catch(d){sg(n,d)}while(!0);if(Ch(),Oe=a,wu.current=c,ct!==null)throw Error(t(261));return Tt=null,Nt=0,vt}function TE(){for(;ct!==null;)og(ct)}function CE(){for(;ct!==null&&!Sl();)og(ct)}function og(n){var i=cg(n.alternate,n,pn);n.memoizedProps=n.pendingProps,i===null?ag(n):ct=i,rd.current=null}function ag(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=vE(a,i),a!==null){a.flags&=32767,ct=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,ct=null;return}}else if(a=yE(a,i,pn),a!==null){ct=a;return}if(i=i.sibling,i!==null){ct=i;return}ct=i=n}while(i!==null);vt===0&&(vt=5)}function li(n,i,a){var c=Pe,d=Cn.transition;try{Cn.transition=null,Pe=1,SE(n,i,a,c)}finally{Cn.transition=d,Pe=c}return null}function SE(n,i,a,c){do _o();while(hs!==null);if(Oe&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Qe(n,m),n===Tt&&(ct=Tt=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Cu||(Cu=!0,hg(vn,function(){return _o(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=Cn.transition,Cn.transition=null;var _=Pe;Pe=1;var I=Oe;Oe|=4,rd.current=null,AE(n,a),Xm(a,n),KA(dh),es=!!hh,dh=hh=null,n.current=a,EE(a),Yc(),Oe=I,Pe=_,Cn.transition=m}else n.current=a;if(Cu&&(Cu=!1,hs=n,Su=d),m=n.pendingLanes,m===0&&(cs=null),Pl(a.stateNode),nn(n,Ge()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Tu)throw Tu=!1,n=od,od=null,n;return Su&1&&n.tag!==0&&_o(),m=n.pendingLanes,m&1?n===ad?ba++:(ba=0,ad=n):ba=0,os(),null}function _o(){if(hs!==null){var n=Zr(Su),i=Cn.transition,a=Pe;try{if(Cn.transition=null,Pe=16>n?16:n,hs===null)var c=!1;else{if(n=hs,hs=null,Su=0,Oe&6)throw Error(t(331));var d=Oe;for(Oe|=4,ie=n.current;ie!==null;){var m=ie,_=m.child;if(ie.flags&16){var I=m.deletions;if(I!==null){for(var P=0;P<I.length;P++){var B=I[P];for(ie=B;ie!==null;){var Y=ie;switch(Y.tag){case 0:case 11:case 15:Va(8,Y,m)}var J=Y.child;if(J!==null)J.return=Y,ie=J;else for(;ie!==null;){Y=ie;var H=Y.sibling,te=Y.return;if(Km(Y),Y===B){ie=null;break}if(H!==null){H.return=te,ie=H;break}ie=te}}}var oe=m.alternate;if(oe!==null){var ae=oe.child;if(ae!==null){oe.child=null;do{var ot=ae.sibling;ae.sibling=null,ae=ot}while(ae!==null)}}ie=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,ie=_;else e:for(;ie!==null;){if(m=ie,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Va(9,m,m.return)}var L=m.sibling;if(L!==null){L.return=m.return,ie=L;break e}ie=m.return}}var D=n.current;for(ie=D;ie!==null;){_=ie;var M=_.child;if(_.subtreeFlags&2064&&M!==null)M.return=_,ie=M;else e:for(_=D;ie!==null;){if(I=ie,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Eu(9,I)}}catch(le){tt(I,I.return,le)}if(I===_){ie=null;break e}var Z=I.sibling;if(Z!==null){Z.return=I.return,ie=Z;break e}ie=I.return}}if(Oe=d,os(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(qs,n)}catch{}c=!0}return c}finally{Pe=a,Cn.transition=i}}return!1}function lg(n,i,a){i=mo(a,i),i=Sm(n,i,1),n=ls(n,i,1),i=Wt(),n!==null&&(Jr(n,1,i),nn(n,i))}function tt(n,i,a){if(n.tag===3)lg(n,n,a);else for(;i!==null;){if(i.tag===3){lg(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cs===null||!cs.has(c))){n=mo(a,n),n=Rm(i,n,1),i=ls(i,n,1),n=Wt(),i!==null&&(Jr(i,1,n),nn(i,n));break}}i=i.return}}function RE(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Wt(),n.pingedLanes|=n.suspendedLanes&a,Tt===n&&(Nt&a)===a&&(vt===4||vt===3&&(Nt&130023424)===Nt&&500>Ge()-id?ai(n,0):sd|=a),nn(n,i)}function ug(n,i){i===0&&(n.mode&1?(i=ji,ji<<=1,!(ji&130023424)&&(ji=4194304)):i=1);var a=Wt();n=Rr(n,i),n!==null&&(Jr(n,i,a),nn(n,a))}function kE(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),ug(n,a)}function PE(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),ug(n,a)}var cg;cg=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Zt.current)en=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return en=!1,gE(n,i,a);en=!!(n.flags&131072)}else en=!1,Je&&i.flags&1048576&&zp(i,su,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;_u(n,i),n=i.pendingProps;var d=oo(i,bt.current);fo(i,a),d=bh(null,i,c,n,d,a);var m=Lh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,$t(c)?(m=!0,tu(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ph(i),d.updater=yu,i.stateNode=d,d._reactInternals=i,zh(i,c,n,a),i=Wh(null,i,c,!0,m,a)):(i.tag=0,Je&&m&&_h(i),Kt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(_u(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=DE(c),n=Bn(c,n),d){case 0:i=Kh(null,i,c,n,a);break e;case 1:i=bm(null,i,c,n,a);break e;case 11:i=Dm(null,i,c,n,a);break e;case 14:i=xm(null,i,c,Bn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Bn(c,d),Kh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Bn(c,d),bm(n,i,c,d,a);case 3:e:{if(Lm(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,Zp(n,i),cu(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=mo(Error(t(423)),i),i=Mm(n,i,c,a,d);break e}else if(c!==d){d=mo(Error(t(424)),i),i=Mm(n,i,c,a,d);break e}else for(fn=rs(i.stateNode.containerInfo.firstChild),dn=i,Je=!0,Fn=null,a=Jp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(uo(),c===d){i=Pr(n,i,a);break e}Kt(n,i,c,a)}i=i.child}return i;case 5:return tm(i),n===null&&wh(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,_=d.children,fh(c,d)?_=null:m!==null&&fh(c,m)&&(i.flags|=32),Um(n,i),Kt(n,i,_,a),i.child;case 6:return n===null&&wh(i),null;case 13:return Fm(n,i,a);case 4:return Nh(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=co(i,null,c,a):Kt(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Bn(c,d),Dm(n,i,c,d,a);case 7:return Kt(n,i,i.pendingProps,a),i.child;case 8:return Kt(n,i,i.pendingProps.children,a),i.child;case 12:return Kt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,_=d.value,qe(au,c._currentValue),c._currentValue=_,m!==null)if(Mn(m.value,_)){if(m.children===d.children&&!Zt.current){i=Pr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var I=m.dependencies;if(I!==null){_=m.child;for(var P=I.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=kr(-1,a&-a),P.tag=2;var B=m.updateQueue;if(B!==null){B=B.shared;var Y=B.pending;Y===null?P.next=P:(P.next=Y.next,Y.next=P),B.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Rh(m.return,a,i),I.lanes|=a;break}P=P.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),Rh(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}Kt(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,fo(i,a),d=In(d),c=c(d),i.flags|=1,Kt(n,i,c,a),i.child;case 14:return c=i.type,d=Bn(c,i.pendingProps),d=Bn(c.type,d),xm(n,i,c,d,a);case 15:return Vm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Bn(c,d),_u(n,i),i.tag=1,$t(c)?(n=!0,tu(i)):n=!1,fo(i,a),Tm(i,c,d),zh(i,c,d,a),Wh(null,i,c,!0,n,a);case 19:return jm(n,i,a);case 22:return Om(n,i,a)}throw Error(t(156,i.tag))};function hg(n,i){return Fi(n,i)}function NE(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,i,a,c){return new NE(n,i,a,c)}function fd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function DE(n){if(typeof n=="function")return fd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===U)return 11;if(n===Ot)return 14}return 2}function ps(n,i){var a=n.alternate;return a===null?(a=Sn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Nu(n,i,a,c,d,m){var _=2;if(c=n,typeof n=="function")fd(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case x:return ui(a.children,d,m,i);case T:_=8,d|=8;break;case R:return n=Sn(12,a,i,d|2),n.elementType=R,n.lanes=m,n;case S:return n=Sn(13,a,i,d),n.elementType=S,n.lanes=m,n;case st:return n=Sn(19,a,i,d),n.elementType=st,n.lanes=m,n;case je:return Du(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:_=10;break e;case V:_=9;break e;case U:_=11;break e;case Ot:_=14;break e;case Ut:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Sn(_,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function ui(n,i,a,c){return n=Sn(7,n,c,i),n.lanes=a,n}function Du(n,i,a,c){return n=Sn(22,n,c,i),n.elementType=je,n.lanes=a,n.stateNode={isHidden:!1},n}function pd(n,i,a){return n=Sn(6,n,null,i),n.lanes=a,n}function md(n,i,a){return i=Sn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function xE(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function gd(n,i,a,c,d,m,_,I,P){return n=new xE(n,i,a,I,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Sn(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ph(m),n}function VE(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function dg(n){if(!n)return is;n=n._reactInternals;e:{if(Dn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if($t(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if($t(a))return Bp(n,a,i)}return i}function fg(n,i,a,c,d,m,_,I,P){return n=gd(a,c,!0,n,d,m,_,I,P),n.context=dg(null),a=n.current,c=Wt(),d=ds(a),m=kr(c,d),m.callback=i??null,ls(a,m,d),n.current.lanes=d,Jr(n,d,c),nn(n,c),n}function xu(n,i,a,c){var d=i.current,m=Wt(),_=ds(d);return a=dg(a),i.context===null?i.context=a:i.pendingContext=a,i=kr(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=ls(d,i,_),n!==null&&(zn(n,d,_,m),uu(n,d,_)),_}function Vu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function pg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function yd(n,i){pg(n,i),(n=n.alternate)&&pg(n,i)}var mg=typeof reportError=="function"?reportError:function(n){console.error(n)};function vd(n){this._internalRoot=n}Ou.prototype.render=vd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));xu(n,i,null,null)},Ou.prototype.unmount=vd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;oi(function(){xu(null,n,null,null)}),i[Ir]=null}};function Ou(n){this._internalRoot=n}Ou.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ol();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Xn.length&&i!==0&&i<Xn[a].priority;a++);Xn.splice(a,0,n),a===0&&Ll(n)}};function _d(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Uu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function gg(){}function OE(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var B=Vu(_);m.call(B)}}var _=fg(i,c,n,0,null,!1,!1,"",gg);return n._reactRootContainer=_,n[Ir]=_.current,Aa(n.nodeType===8?n.parentNode:n),oi(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var I=c;c=function(){var B=Vu(P);I.call(B)}}var P=gd(n,0,!1,null,null,!1,!1,"",gg);return n._reactRootContainer=P,n[Ir]=P.current,Aa(n.nodeType===8?n.parentNode:n),oi(function(){xu(i,P,a,c)}),P}function bu(n,i,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var I=d;d=function(){var P=Vu(_);I.call(P)}}xu(i,_,n,d)}else _=OE(a,i,n,d,c);return Vu(_)}xl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Hr(i.pendingLanes);a!==0&&(Xr(i,a|1),nn(i,Ge()),!(Oe&6)&&(vo=Ge()+500,os()))}break;case 13:oi(function(){var c=Rr(n,1);if(c!==null){var d=Wt();zn(c,n,1,d)}}),yd(n,1)}},Qi=function(n){if(n.tag===13){var i=Rr(n,134217728);if(i!==null){var a=Wt();zn(i,n,134217728,a)}yd(n,134217728)}},Vl=function(n){if(n.tag===13){var i=ds(n),a=Rr(n,i);if(a!==null){var c=Wt();zn(a,n,i,c)}yd(n,i)}},Ol=function(){return Pe},Ul=function(n,i){var a=Pe;try{return Pe=n,i()}finally{Pe=a}},Vi=function(n,i,a){switch(i){case"input":if(qo(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=$l(c);if(!d)throw Error(t(90));Ri(c),qo(c,d)}}}break;case"textarea":Di(n,a);break;case"select":i=a.value,i!=null&&mr(n,!!a.multiple,i,!1)}},Bs=cd,ta=oi;var UE={usingClientEntryPoint:!1,Events:[Ia,so,$l,Yn,ea,cd]},La={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bE={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=sa(n),n===null?null:n.stateNode},findFiberByHostInstance:La.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{qs=Lu.inject(bE),ln=Lu}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UE,rn.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(i))throw Error(t(200));return VE(n,i,null,a)},rn.createRoot=function(n,i){if(!_d(n))throw Error(t(299));var a=!1,c="",d=mg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=gd(n,1,!1,null,null,a,!1,c,d),n[Ir]=i.current,Aa(n.nodeType===8?n.parentNode:n),new vd(i)},rn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=sa(i),n=n===null?null:n.stateNode,n},rn.flushSync=function(n){return oi(n)},rn.hydrate=function(n,i,a){if(!Uu(i))throw Error(t(200));return bu(null,n,i,!0,a)},rn.hydrateRoot=function(n,i,a){if(!_d(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=mg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=fg(i,null,n,1,a??null,d,!1,m,_),n[Ir]=i.current,Aa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Ou(i)},rn.render=function(n,i,a){if(!Uu(i))throw Error(t(200));return bu(null,n,i,!1,a)},rn.unmountComponentAtNode=function(n){if(!Uu(n))throw Error(t(40));return n._reactRootContainer?(oi(function(){bu(null,null,n,!1,function(){n._reactRootContainer=null,n[Ir]=null})}),!0):!1},rn.unstable_batchedUpdates=cd,rn.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Uu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return bu(n,i,a,!1,c)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var Tg;function WE(){if(Tg)return wd.exports;Tg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wd.exports=KE(),wd.exports}var Cg;function HE(){if(Cg)return Mu;Cg=1;var r=WE();return Mu.createRoot=r.createRoot,Mu.hydrateRoot=r.hydrateRoot,Mu}var YE=HE(),Sg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Zy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,E=l>>2,C=(l&3)<<4|f>>4;let k=(f&15)<<2|v>>6,F=v&63;g||(F=64,h||(k=64)),s.push(t[E],t[C],t[k],t[F])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Xy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const C=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||v==null||C==null)throw new XE;const k=l<<2|f>>4;if(s.push(k),v!==64){const F=f<<4&240|v>>2;if(s.push(F),C!==64){const z=v<<6&192|C;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class XE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZE=function(r){const e=Xy(r);return Zy.encodeByteArray(e,!0)},rc=function(r){return ZE(r).replace(/\./g,"")},$y=function(r){try{return Zy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=()=>$E().__FIREBASE_DEFAULTS__,tw=()=>{if(typeof process>"u"||typeof Sg>"u")return;const r=Sg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&$y(r[1]);return e&&JSON.parse(e)},Ic=()=>{try{return ew()||tw()||nw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ev=r=>{var e,t;return(t=(e=Ic())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},tv=r=>{const e=ev(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},nv=()=>{var r;return(r=Ic())===null||r===void 0?void 0:r.config},rv=r=>{var e;return(e=Ic())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[rc(JSON.stringify(t)),rc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function iw(){var r;const e=(r=Ic())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ow(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uw(){const r=zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cw(){return!iw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hw(){try{return typeof indexedDB=="object"}catch{return!1}}function dw(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="FirebaseError";class dr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=fw,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?pw(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new dr(o,f,s)}}function pw(r,e){return r.replace(mw,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mw=/\{\$([^}]+)}/g;function gw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sc(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(Rg(l)&&Rg(h)){if(!sc(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Rg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ba(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function ja(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function yw(r,e){const t=new vw(r,e);return t.subscribe.bind(t)}class vw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");_w(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Cd),o.error===void 0&&(o.error=Cd),o.complete===void 0&&(o.complete=Cd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _w(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(r){return r&&r._delegate?r._delegate:r}class Ss{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new rw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ww(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ew(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ew(r){return r===ci?void 0:r}function ww(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Aw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Re||(Re={}));const Tw={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Cw=Re.INFO,Sw={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Rw=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Sw[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hf{constructor(e){this.name=e,this._logLevel=Cw,this._logHandler=Rw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const kw=(r,e)=>e.some(t=>r instanceof t);let kg,Pg;function Pw(){return kg||(kg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nw(){return Pg||(Pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,Md=new WeakMap,ov=new WeakMap,Sd=new WeakMap,df=new WeakMap;function Dw(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Is(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&iv.set(t,r)}).catch(()=>{}),df.set(e,r),e}function xw(r){if(Md.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Md.set(r,e)}let Fd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Md.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ov.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Vw(r){Fd=r(Fd)}function Ow(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Rd(this),e,...t);return ov.set(s,e.sort?e.sort():[e]),Is(s)}:Nw().includes(r)?function(...e){return r.apply(Rd(this),e),Is(iv.get(this))}:function(...e){return Is(r.apply(Rd(this),e))}}function Uw(r){return typeof r=="function"?Ow(r):(r instanceof IDBTransaction&&xw(r),kw(r,Pw())?new Proxy(r,Fd):r)}function Is(r){if(r instanceof IDBRequest)return Dw(r);if(Sd.has(r))return Sd.get(r);const e=Uw(r);return e!==r&&(Sd.set(r,e),df.set(e,r)),e}const Rd=r=>df.get(r);function bw(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=Is(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Is(h.result),g.oldVersion,g.newVersion,Is(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const Lw=["get","getKey","getAll","getAllKeys","count"],Mw=["put","add","delete","clear"],kd=new Map;function Ng(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Mw.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Lw.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return kd.set(e,l),l}Vw(r=>({...r,get:(e,t,s)=>Ng(e,t)||r.get(e,t,s),has:(e,t)=>!!Ng(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Bw(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Bw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bd="@firebase/app",Dg="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new hf("@firebase/app"),jw="@firebase/app-compat",Qw="@firebase/analytics-compat",zw="@firebase/analytics",Gw="@firebase/app-check-compat",qw="@firebase/app-check",Kw="@firebase/auth",Ww="@firebase/auth-compat",Hw="@firebase/database",Yw="@firebase/data-connect",Jw="@firebase/database-compat",Xw="@firebase/functions",Zw="@firebase/functions-compat",$w="@firebase/installations",eI="@firebase/installations-compat",tI="@firebase/messaging",nI="@firebase/messaging-compat",rI="@firebase/performance",sI="@firebase/performance-compat",iI="@firebase/remote-config",oI="@firebase/remote-config-compat",aI="@firebase/storage",lI="@firebase/storage-compat",uI="@firebase/firestore",cI="@firebase/vertexai",hI="@firebase/firestore-compat",dI="firebase",fI="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",pI={[Bd]:"fire-core",[jw]:"fire-core-compat",[zw]:"fire-analytics",[Qw]:"fire-analytics-compat",[qw]:"fire-app-check",[Gw]:"fire-app-check-compat",[Kw]:"fire-auth",[Ww]:"fire-auth-compat",[Hw]:"fire-rtdb",[Yw]:"fire-data-connect",[Jw]:"fire-rtdb-compat",[Xw]:"fire-fn",[Zw]:"fire-fn-compat",[$w]:"fire-iid",[eI]:"fire-iid-compat",[tI]:"fire-fcm",[nI]:"fire-fcm-compat",[rI]:"fire-perf",[sI]:"fire-perf-compat",[iI]:"fire-rc",[oI]:"fire-rc-compat",[aI]:"fire-gcs",[lI]:"fire-gcs-compat",[uI]:"fire-fst",[hI]:"fire-fst-compat",[cI]:"fire-vertex","fire-js":"fire-js",[dI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,mI=new Map,Qd=new Map;function xg(r,e){try{r.container.addComponent(e)}catch(t){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function mi(r){const e=r.name;if(Qd.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;Qd.set(e,r);for(const t of ic.values())xg(t,r);for(const t of mI.values())xg(t,r);return!0}function Tc(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new cl("app","Firebase",gI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=fI;function av(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(t||(t=nv()),!t)throw Ts.create("no-options");const l=ic.get(o);if(l){if(sc(t,l.options)&&sc(s,l.config))return l;throw Ts.create("duplicate-app",{appName:o})}const h=new Iw(o);for(const g of Qd.values())h.addComponent(g);const f=new yI(t,s,h);return ic.set(o,f),f}function ff(r=jd){const e=ic.get(r);if(!e&&r===jd&&nv())return av();if(!e)throw Ts.create("no-app",{appName:r});return e}function or(r,e,t){var s;let o=(s=pI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(f.join(" "));return}mi(new Ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firebase-heartbeat-database",_I=1,$a="firebase-heartbeat-store";let Pd=null;function lv(){return Pd||(Pd=bw(vI,_I,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($a)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ts.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function AI(r){try{const t=(await lv()).transaction($a),s=await t.objectStore($a).get(uv(r));return await t.done,s}catch(e){if(e instanceof dr)Lr.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lr.warn(t.message)}}}async function Vg(r,e){try{const s=(await lv()).transaction($a,"readwrite");await s.objectStore($a).put(e,uv(r)),await s.done}catch(t){if(t instanceof dr)Lr.warn(t.message);else{const s=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Lr.warn(s.message)}}}function uv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=1024,wI=30*24*60*60*1e3;class II{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Og();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=wI}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Og(),{heartbeatsToSend:s,unsentEntries:o}=TI(this._heartbeatsCache.heartbeats),l=rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Lr.warn(t),""}}}function Og(){return new Date().toISOString().substring(0,10)}function TI(r,e=EI){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Ug(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ug(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class CI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hw()?dw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ug(r){return rc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r){mi(new Ss("platform-logger",e=>new Fw(e),"PRIVATE")),mi(new Ss("heartbeat",e=>new II(e),"PRIVATE")),or(Bd,Dg,r),or(Bd,Dg,"esm2017"),or("fire-js","")}SI("");function pf(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function cv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RI=cv,hv=new cl("auth","Firebase",cv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new hf("@firebase/auth");function kI(r,...e){oc.logLevel<=Re.WARN&&oc.warn(`Auth (${Ii}): ${r}`,...e)}function Wu(r,...e){oc.logLevel<=Re.ERROR&&oc.error(`Auth (${Ii}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(r,...e){throw gf(r,...e)}function qn(r,...e){return gf(r,...e)}function mf(r,e,t){const s=Object.assign(Object.assign({},RI()),{[e]:t});return new cl("auth","Firebase",s).create(e,{appName:r.name})}function Ur(r){return mf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PI(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&kn(r,"argument-error"),mf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gf(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return hv.create(r,...e)}function ve(r,e,...t){if(!r)throw gf(e,...t)}function xr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Wu(e),new Error(e)}function Mr(r,e){r||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function NI(){return bg()==="http:"||bg()==="https:"}function bg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NI()||aw()||"connection"in navigator)?navigator.onLine:!0}function xI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mr(t>e,"Short delay should be less than long delay!"),this.isMobile=sw()||lw()}get(){return DI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(r,e){Mr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new dl(3e4,6e4);function Qr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function zr(r,e,t,s,o={}){return fv(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=hl(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:e,headers:g},l);return ow()||(v.referrerPolicy="no-referrer"),dv.fetch()(pv(r,r.config.apiHost,t,f),v)})}async function fv(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},VI),e);try{const o=new bI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Fu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Fu(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Fu(r,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw mf(r,E,v);kn(r,E)}}catch(o){if(o instanceof dr)throw o;kn(r,"network-request-failed",{message:String(o)})}}async function fl(r,e,t,s,o={}){const l=await zr(r,e,t,s,o);return"mfaPendingCredential"in l&&kn(r,"multi-factor-auth-required",{_serverResponse:l}),l}function pv(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?yf(r.config,o):`${r.config.apiScheme}://${o}`}function UI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(qn(this.auth,"network-request-failed")),OI.get())})}}function Fu(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=qn(r,e,s);return o.customData._tokenResponse=t,o}function Lg(r){return r!==void 0&&r.enterprise!==void 0}class LI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MI(r,e){return zr(r,"GET","/v2/recaptchaConfig",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,e){return zr(r,"POST","/v1/accounts:delete",e)}async function mv(r,e){return zr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BI(r,e=!1){const t=$e(r),s=await t.getIdToken(e),o=Cc(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Wa(Nd(o.auth_time)),issuedAtTime:Wa(Nd(o.iat)),expirationTime:Wa(Nd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Nd(r){return Number(r)*1e3}function Cc(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{const o=$y(t);return o?JSON.parse(o):(Wu("Failed to decode base64 JWT payload"),null)}catch(o){return Wu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Mg(r){const e=Cc(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof dr&&jI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function jI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(r){var e;const t=r.auth,s=await r.getIdToken(),o=await el(r,mv(t,{idToken:s}));ve(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?gv(l.providerUserInfo):[],f=GI(r.providerData,h),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),E=g?v:!1,C={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,C)}async function zI(r){const e=$e(r);await ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function gv(r){return r.map(e=>{var{providerId:t}=e,s=pf(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(r,e){const t=await fv(r,{},async()=>{const s=hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=pv(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",dv.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KI(r,e){return zr(r,"POST","/v2/accounts:revokeToken",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=Mg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await qI(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new To;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(ve(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Vr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=pf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await el(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BI(this,e)}reload(){return zI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ac(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await el(this,FI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,f,g,v,E;const C=(s=t.displayName)!==null&&s!==void 0?s:void 0,k=(o=t.email)!==null&&o!==void 0?o:void 0,F=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,z=(h=t.photoURL)!==null&&h!==void 0?h:void 0,X=(f=t.tenantId)!==null&&f!==void 0?f:void 0,Q=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,ye=(v=t.createdAt)!==null&&v!==void 0?v:void 0,pe=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ue,emailVerified:ce,isAnonymous:Ue,providerData:Ie,stsTokenManager:x}=t;ve(ue&&x,e,"internal-error");const T=To.fromJSON(this.name,x);ve(typeof ue=="string",e,"internal-error"),gs(C,e.name),gs(k,e.name),ve(typeof ce=="boolean",e,"internal-error"),ve(typeof Ue=="boolean",e,"internal-error"),gs(F,e.name),gs(z,e.name),gs(X,e.name),gs(Q,e.name),gs(ye,e.name),gs(pe,e.name);const R=new Vr({uid:ue,auth:e,email:k,emailVerified:ce,displayName:C,isAnonymous:Ue,photoURL:z,phoneNumber:F,tenantId:X,stsTokenManager:T,createdAt:ye,lastLoginAt:pe});return Ie&&Array.isArray(Ie)&&(R.providerData=Ie.map(N=>Object.assign({},N))),Q&&(R._redirectEventId=Q),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new To;o.updateFromServerResponse(t);const l=new Vr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ac(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?gv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new To;f.updateFromIdToken(s);const g=new Vr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new Map;function Or(r){Mr(r instanceof Function,"Expected a class definition");let e=Fg.get(r);return e?(Mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Fg.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yv.type="NONE";const Bg=yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(r,e,t){return`firebase:${r}:${e}:${t}`}class Co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Hu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Hu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Co(Or(Bg),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Or(Bg);const h=Hu(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const E=await v._get(h);if(E){const C=Vr._fromJSON(e,E);v!==l&&(f=C),l=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Co(l,e,s):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new Co(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ev(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Iv(e))return"Blackberry";if(Tv(e))return"Webos";if(_v(e))return"Safari";if((e.includes("chrome/")||Av(e))&&!e.includes("edge/"))return"Chrome";if(wv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function vv(r=zt()){return/firefox\//i.test(r)}function _v(r=zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Av(r=zt()){return/crios\//i.test(r)}function Ev(r=zt()){return/iemobile/i.test(r)}function wv(r=zt()){return/android/i.test(r)}function Iv(r=zt()){return/blackberry/i.test(r)}function Tv(r=zt()){return/webos/i.test(r)}function vf(r=zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function WI(r=zt()){var e;return vf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HI(){return uw()&&document.documentMode===10}function Cv(r=zt()){return vf(r)||wv(r)||Tv(r)||Iv(r)||/windows phone/i.test(r)||Ev(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(r,e=[]){let t;switch(r){case"Browser":t=jg(zt());break;case"Worker":t=`${jg(zt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ii}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e={}){return zr(r,"GET","/v2/passwordPolicy",Qr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6;class ZI{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:XI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qg(this),this.idTokenSubscription=new Qg(this),this.beforeStateQueue=new YI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mv(this,{idToken:e}),s=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ac(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Ur(this));const t=e?$e(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JI(this),t=new ZI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await KI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&kI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Gr(r){return $e(r)}class Qg{constructor(e){this.auth=e,this.observer=null,this.addObserver=yw(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eT(r){Sc=r}function Rv(r){return Sc.loadJS(r)}function tT(){return Sc.recaptchaEnterpriseScript}function nT(){return Sc.gapiScript}function rT(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class sT{constructor(){this.enterprise=new iT}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class iT{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const oT="recaptcha-enterprise",kv="NO_RECAPTCHA";class aT{constructor(e){this.type=oT,this.auth=Gr(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{MI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new LI(g);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,h(v.siteKey)}}).catch(g=>{f(g)})})}function o(l,h,f){const g=window.grecaptcha;Lg(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(v=>{h(v)}).catch(()=>{h(kv)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sT().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(f=>{if(!t&&Lg(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=tT();g.length!==0&&(g+=f),Rv(g).then(()=>{o(f,l,h)}).catch(v=>{h(v)})}}).catch(f=>{h(f)})})}}async function zg(r,e,t,s=!1,o=!1){const l=new aT(r);let h;if(o)h=kv;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const g=f.phoneEnrollmentInfo.phoneNumber,v=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const g=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function lc(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await zg(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await zg(r,e,t,t==="getOobCode");return s(r,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(r,e){const t=Tc(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(sc(l,e??{}))return o;kn(o,"already-initialized")}return t.initialize({options:e})}function uT(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Or);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function cT(r,e,t){const s=Gr(r);ve(s._canInitEmulator,s,"emulator-config-failed"),ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Pv(e),{host:h,port:f}=hT(e),g=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${h}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),dT()}function Pv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function hT(r){const e=Pv(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Gg(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:Gg(h)}}}function Gg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dT(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,t){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function fT(r,e){return zr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(r,e){return fl(r,"POST","/v1/accounts:signInWithPassword",Qr(r,e))}async function mT(r,e){return zr(r,"POST","/v1/accounts:sendOobCode",Qr(r,e))}async function gT(r,e){return mT(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(r,e){return fl(r,"POST","/v1/accounts:signInWithEmailLink",Qr(r,e))}async function vT(r,e){return fl(r,"POST","/v1/accounts:signInWithEmailLink",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends _f{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new tl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new tl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lc(e,t,"signInWithPassword",pT);case"emailLink":return yT(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lc(e,s,"signUpPassword",fT);case"emailLink":return vT(e,{idToken:t,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r,e){return fl(r,"POST","/v1/accounts:signInWithIdp",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="http://localhost";class gi extends _f{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=pf(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new gi(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return So(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,So(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,So(e,t)}buildRequest(){const e={requestUri:_T,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ET(r){const e=Ba(ja(r)).link,t=e?Ba(ja(e)).deep_link_id:null,s=Ba(ja(r)).deep_link_id;return(s?Ba(ja(s)).link:null)||s||t||e||r}class Af{constructor(e){var t,s,o,l,h,f;const g=Ba(ja(e)),v=(t=g.apiKey)!==null&&t!==void 0?t:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,C=AT((o=g.mode)!==null&&o!==void 0?o:null);ve(v&&E&&C,"argument-error"),this.apiKey=v,this.operation=C,this.code=E,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=g.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=g.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=ET(e);try{return new Af(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,t){return tl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Af.parseLink(t);return ve(s,"argument-error"),tl._fromEmailAndCode(e,s.code,s.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends pl{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Dr.credential(t,s)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends pl{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends pl{constructor(){super("twitter.com")}static credential(e,t){return gi._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return As.credential(t,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(r,e){return fl(r,"POST","/v1/accounts:signUp",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Vr._fromIdTokenResponse(e,s,o),h=qg(s);return new yi({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=qg(s);return new yi({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function qg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends dr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new uc(e,t,s,o)}}function Nv(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(r,l,e,s):l})}async function IT(r,e,t=!1){const s=await el(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return yi._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(r,e,t=!1){const{auth:s}=r;if(Gn(s.app))return Promise.reject(Ur(s));const o="reauthenticate";try{const l=await el(r,Nv(s,o,e,r),t);ve(l.idToken,s,"internal-error");const h=Cc(l.idToken);ve(h,s,"internal-error");const{sub:f}=h;return ve(r.uid===f,s,"user-mismatch"),yi._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&kn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dv(r,e,t=!1){if(Gn(r.app))return Promise.reject(Ur(r));const s="signIn",o=await Nv(r,s,e),l=await yi._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function CT(r,e){return Dv(Gr(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(r){const e=Gr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ST(r,e,t){const s=Gr(r);await lc(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",gT)}async function RT(r,e,t){if(Gn(r.app))return Promise.reject(Ur(r));const s=Gr(r),h=await lc(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wT).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&xv(r),g}),f=await yi._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function kT(r,e,t){return Gn(r.app)?Promise.reject(Ur(r)):CT($e(r),Lo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xv(r),s})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(r){var e,t;if(!r)return null;const{providerId:s}=r,o=r.rawUserInfo?JSON.parse(r.rawUserInfo):{},l=r.isNewUser||r.kind==="identitytoolkit#SignupNewUserResponse";if(!s&&(r!=null&&r.idToken)){const h=(t=(e=Cc(r.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(h){const f=h!=="anonymous"&&h!=="custom"?h:null;return new Ro(l,f)}}if(!s)return null;switch(s){case"facebook.com":return new NT(l,o);case"github.com":return new DT(l,o);case"google.com":return new xT(l,o);case"twitter.com":return new VT(l,o,r.screenName||null);case"custom":case"anonymous":return new Ro(l,null);default:return new Ro(l,s,o)}}class Ro{constructor(e,t,s={}){this.isNewUser=e,this.providerId=t,this.profile=s}}class Vv extends Ro{constructor(e,t,s,o){super(e,t,s),this.username=o}}class NT extends Ro{constructor(e,t){super(e,"facebook.com",t)}}class DT extends Vv{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class xT extends Ro{constructor(e,t){super(e,"google.com",t)}}class VT extends Vv{constructor(e,t,s){super(e,"twitter.com",t,s)}}function OT(r){const{user:e,_tokenResponse:t}=r;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:PT(t)}function UT(r,e,t,s){return $e(r).onIdTokenChanged(e,t,s)}function bT(r,e,t){return $e(r).beforeAuthStateChanged(e,t)}function LT(r,e,t,s){return $e(r).onAuthStateChanged(e,t,s)}function ml(r){return $e(r).signOut()}const cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=1e3,FT=10;class Uv extends Ov{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);HI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FT):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},MT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uv.type="LOCAL";const BT=Uv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends Ov{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bv.type="SESSION";const Lv=bv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Rc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,l)),g=await jT(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const v=wf("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(C){const k=C;if(k.data.eventId===v)switch(k.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(k.data.response);break;default:clearTimeout(E),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function zT(r){ar().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function GT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qT(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function KT(){return Mv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="firebaseLocalStorageDb",WT=1,hc="firebaseLocalStorage",Bv="fbase_key";class gl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kc(r,e){return r.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function HT(){const r=indexedDB.deleteDatabase(Fv);return new gl(r).toPromise()}function qd(){const r=indexedDB.open(Fv,WT);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(hc,{keyPath:Bv})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(hc)?e(s):(s.close(),await HT(),e(await qd()))})})}async function Kg(r,e,t){const s=kc(r,!0).put({[Bv]:e,value:t});return new gl(s).toPromise()}async function YT(r,e){const t=kc(r,!1).get(e),s=await new gl(t).toPromise();return s===void 0?null:s.value}function Wg(r,e){const t=kc(r,!0).delete(e);return new gl(t).toPromise()}const JT=800,XT=3;class jv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>XT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rc._getInstance(KT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GT(),!this.activeServiceWorker)return;this.sender=new QT(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qd();return await Kg(e,cc,"1"),await Wg(e,cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Kg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>YT(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Wg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=kc(o,!1).getAll();return new gl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jv.type="LOCAL";const ZT=jv;new dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(r,e){return e?Or(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends _f{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,t){return So(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $T(r){return Dv(r.auth,new If(r),r.bypassAuthState)}function eC(r){const{auth:e,user:t}=r;return ve(t,e,"internal-error"),TT(t,new If(r),r.bypassAuthState)}async function tC(r){const{auth:e,user:t}=r;return ve(t,e,"internal-error"),IT(t,new If(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $T;case"linkViaPopup":case"linkViaRedirect":return tC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:kn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new dl(2e3,1e4);async function rC(r,e,t){if(Gn(r.app))return Promise.reject(qn(r,"operation-not-supported-in-this-environment"));const s=Gr(r);PI(r,e,Ef);const o=Qv(s,t);return new hi(s,"signInViaPopup",e,o).executeNotNull()}class hi extends zv{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=wf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nC.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="pendingRedirect",Yu=new Map;class iC extends zv{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const s=await oC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oC(r,e){const t=uC(e),s=lC(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function aC(r,e){Yu.set(r._key(),e)}function lC(r){return Or(r._redirectPersistence)}function uC(r){return Hu(sC,r.config.apiKey,r.name)}async function cC(r,e,t=!1){if(Gn(r.app))return Promise.reject(Ur(r));const s=Gr(r),o=Qv(s,e),h=await new iC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=10*60*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Gv(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hg(e))}saveEventToCache(e){this.cachedEventUids.add(Hg(e)),this.lastProcessedEventTime=Date.now()}}function Hg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Gv({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gv(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,e={}){return zr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function yC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pC(r);for(const t of e)try{if(vC(t))return}catch{}kn(r,"unauthorized-domain")}function vC(r){const e=zd(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!gC.test(t))return!1;if(mC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new dl(3e4,6e4);function Yg(){const r=ar().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function AC(r){return new Promise((e,t)=>{var s,o,l;function h(){Yg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yg(),t(qn(r,"network-request-failed"))},timeout:_C.get()})}if(!((o=(s=ar().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ar().gapi)===null||l===void 0)&&l.load)h();else{const f=rT("iframefcb");return ar()[f]=()=>{gapi.load?h():t(qn(r,"network-request-failed"))},Rv(`${nT()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function EC(r){return Ju=Ju||AC(r),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new dl(5e3,15e3),IC="__/auth/iframe",TC="emulator/auth/iframe",CC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?yf(e,TC):`https://${r.config.authDomain}/${IC}`,s={apiKey:e.apiKey,appName:r.name,v:Ii},o=SC.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${hl(s).slice(1)}`}async function kC(r){const e=await EC(r),t=ar().gapi;return ve(t,r,"internal-error"),e.open({where:document.body,url:RC(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CC,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=qn(r,"network-request-failed"),f=ar().setTimeout(()=>{l(h)},wC.get());function g(){ar().clearTimeout(f),o(s)}s.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NC=500,DC=600,xC="_blank",VC="http://localhost";class Jg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OC(r,e,t,s=NC,o=DC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g=Object.assign(Object.assign({},PC),{width:s.toString(),height:o.toString(),top:l,left:h}),v=zt().toLowerCase();t&&(f=Av(v)?xC:t),vv(v)&&(e=e||VC,g.scrollbars="yes");const E=Object.entries(g).reduce((k,[F,z])=>`${k}${F}=${z},`,"");if(WI(v)&&f!=="_self")return UC(e||"",f),new Jg(null);const C=window.open(e||"",f,E);ve(C,r,"popup-blocked");try{C.focus()}catch{}return new Jg(C)}function UC(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="__/auth/handler",LC="emulator/auth/handler",MC=encodeURIComponent("fac");async function Xg(r,e,t,s,o,l){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Ii,eventId:o};if(e instanceof Ef){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",gw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,C]of Object.entries({}))h[E]=C}if(e instanceof pl){const E=e.getScopes().filter(C=>C!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const g=await r._getAppCheckToken(),v=g?`#${MC}=${encodeURIComponent(g)}`:"";return`${FC(r)}?${hl(f).slice(1)}${v}`}function FC({config:r}){return r.emulator?yf(r,LC):`https://${r.authDomain}/${bC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class BC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lv,this._completeRedirectFn=cC,this._overrideRedirectResult=aC}async _openPopup(e,t,s,o){var l;Mr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Xg(e,t,s,zd(),o);return OC(e,h,wf())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Xg(e,t,s,zd(),o);return zT(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Mr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await kC(e),s=new dC(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dd,{type:Dd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Dd];h!==void 0&&t(!!h),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Cv()||_v()||vf()}}const jC=BC;var Zg="@firebase/auth",$g="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GC(r){mi(new Ss("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sv(r)},v=new $I(s,o,l,g);return uT(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),mi(new Ss("auth-internal",e=>{const t=Gr(e.getProvider("auth").getImmediate());return(s=>new QC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(Zg,$g,zC(r)),or(Zg,$g,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=5*60,KC=rv("authIdTokenMaxAge")||qC;let ey=null;const WC=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>KC)return;const o=t==null?void 0:t.token;ey!==o&&(ey=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Rn(r=ff()){const e=Tc(r,"auth");if(e.isInitialized())return e.getImmediate();const t=lT(r,{popupRedirectResolver:jC,persistence:[ZT,BT,Lv]}),s=rv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=WC(l.toString());bT(t,h,()=>h(t.currentUser)),UT(t,f=>h(f))}}const o=ev("auth");return o&&cT(t,`http://${o}`),t}function HC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}eT({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=qn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",HC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GC("Browser");var YC="firebase",JC="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(YC,JC,"app");const XC={apiKey:"AIzaSyApIZ7PIgS2fzeAi4pFmoa_GvMTJRw_zZ8",authDomain:"barrioconectado-6b915.firebaseapp.com",projectId:"barrioconectado-6b915",storageBucket:"barrioconectado-6b915.appspot.com",messagingSenderId:"234626111050",appId:"1:234626111050:web:1e8f3f3971849c00c8b8b3",measurementId:"G-HKZ9J44QS5",databaseURL:"https://barrioconectado.southamerica-east1.firebasedatabase.app"},qv=av(XC),yl=Rn(qv),ZC="/assets/logo-KmK57o_g.png",$C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAOh0lEQVR4nO2de1SUZR7Hn/cdZoZq27Z2286sWpmUhggY4gUFxLtycURFRVHBu4suonLTcUBFEBTFC4rioqJpVsx9BhSZGSt1XW3NtVNZ25bl5exqmpWWCL89z7R4sLxwmed93pl5Pud8z+Efznmf3+87z+X3PM/7IsRgMBgMBoPBYDAYDAaDwWAwGAwGg8FgMNwGmI+egwX8ZJjDbYVZXC0k8p9BPHcVlNwtiObqYDDXAINRA4QhgP4IHH9HcXWg5H6E0dz3MIG7Ckn8OZjLV0MqtwYyJGNBjf5Au10MAoAaeUEKHwdzeQ3E8xcdRghFQERRXB1M5v8N8yV7IEsSyRLqokCurAsskOyEeP5rGIgaiBkm9BEaytVDAn8e/iIphSzUjnZcGA8BEtGzMJPbCHHcZQinZJjQh2gAApjMX4TFkmIoQU+zZIoEWCKdAkn8R1R7mtAWahBqgCT+Q1giGUI7fh4JIMRBMr8YRnPfUDdDaBuEJ+kJ/CXI9JpFO6YeAagRDyncKhjFfU89+c5WHHcdFvJLacfYbYEl0mkQ54bGCf2FxnNXIEMSRTvebgOkoK6QwH3k6O5DPUT9EcAs/gyskHeiHX+XBQ4gCcyTVDgmnLQTSktDUT2kcCW0c+FyQJpXCMRz16knUCxK4M/DQtSRdl5cApjHrXapJXmoQBrB3YFFfArt/IgWUKPfwHT+feqJErPCEMBM/hiokYx2vkQFLJcGwVjuO+oJchVN4i9DLnqOdt5EAaRLoolucLqrlNwtyPLqjTwZSOXnePQqK7SNGsbVw2I+AXkikMKtcNQ7aCfB1TWHP4g8DcjiVjPzIGeYx4o8DVjEq5l5UNvNM9sjzeM1i5kHMfO0yjwqSTQMYRNmYD1PK8yTJw1iS3XE5jyt6nnU6HGI425QX624umZ74JwHw7YnEDNPq82TyuWL+hwPrkPhe17T+I8hhdfAIm4FpEtGQ75XT1iCOkI58nb0oPhvfEIgU6KEhVweJPMGx5nmUdxN4u2bzduQJ4LL7KKsMuNdbbxpu5DLhvVt30+CJaiDozQxjT/ruMbDzOME8wDiIUFEB95xT5PEfwZpXqn4oiGxdquRDFL5NJjMf9nmq0We2vNgHJf6aJsGC/eAc/n3YKHUT/AYZHj1gln88VadbfJo8yyU+lEfunCPM50/AWrkQz0emVJ/x7215s6VPNk8GMdLB2hfj1GJ7146ZEpiHRN2Zp6HBGmZNJHateIIBJAseQPfHUMiBdTIG+bwNffdzvH4ngcQBxMonSqM4X6CNH48chEgjU+E4dwdZp6mQTksiwG15Odzu0KaZzx3FS+lkYsBWdJAGMvd8Pie525A7LJjYJcD7JQCRHLCmCeR/wIK0RPIRQE18qb9DKIAjsgHOszTqGo5PuxE2jwfk6zpMAQE7LLaewyEZZMD5Hv9vKR2tnmS+PMwE0mFbCODEHDksV6/Mk9THZABjHHikBbHfQOr0ZOk2sMQGLDLtj3UQFiH5ADzJG03TxR3G9LR80K3kUEIsCJvsMuvPdJAjdosxdsLrTMPHgoz+XhSbWFQAGzSuGabp1Fvy/Aw1HIDzZUcoNFGBkHAJje22EBYtXJw1IyaW7Uew92AsUhCsi0MgYH3nvgj2OS3W2WgRpVKAYZwjx66lkqUQrePQRiwyWe2yTyNMskApj6kZpTEnyLdFgYFwCbf7xQDYVkfUDPCZ2lSZV1otI9BeuPULrvsNAM16pfbILP4YyTbwaAEWKV+TjfPL7dBcG+UIQ2i1UYGQcAqn0fMQI3bIBu8qkm2gUERsMsriRro53nRIJptZBAE7LIvyBpI9hW+2YFEgCLtDLijhq96/WpTjVn91y8ECSgcRY+BTV5PeAhbh0QC7UQrBFK7tNOQX5r+FPGAwjvSAOLD1xGZaF71TzuxCgGVszU9Wpz7Xy3THbCi3yGRQDupCgGVvnlZHvGAgl22lLCBTiARQTupCgE1Z/0aM/GAgk1WQXb+IytDIoJ2UhUCakLB1k/oHF91qmSLkYignVSFgBqe+/oV4gEFu/wM4R4oBokI2klVCKiwHN1N4gEFu+xrogY6IvVHIoJ2UhUCKlBVU0c8oGCXXydqoMPeLyARQTupCgHVOevdBuIBBZv8JlEDHUXPIBFBO6kKAfVSxgkgHlBHnYakgc6K61NGtJOqEFDt008zAzEDnWm1gZ5PPyWAgdgQ5rbqLMgciE2i3VbdVTX1AhiILePdVX2yTbfJG8gm/4AVEt1T4cs1PwhgINlhogZiWxlAy0DDVu6/KoSB2Gaqm2p8Qemn5A3EjnO4raavW3eIvIFssrFkhzB2oExByUDJG/LXkzfQEak/YQPhHXnyRyubiUcZaH3BJPc4VG+Xk/8lNBPaSVUIqBEr9rzgHtd6bLILcEAcr3OhnVSFQApQHSZ/lKMRsMvfJmmgdw69CNssAaI6mUiTjE1L1aQNFJtf/rXLX22+Y/eGnRZ/iNYoYZEh/LxgDRI5MXkVl0gbaPb6NXrBGgRHZL7ONs9/rU/BYkN/iNIoHRqpGQkl5h7dkYezclta7w7p/yA+hGVsVM8W+vUul5xlnjOHFZCgG37XPI3KNoacRB5OQmHJGdLmeTHj7zCzNJ/8rdSmgE2+r63GabDL4c3qVyFGM/JX5sGK1UZDiaGH4B+LEwsrNy0KxMklbaCo3D2XBG8cWOUz2mKeG9YnIccUcl/jNJXK2O808lDiCrZ/Qto8WPOK83e51Es2/1X7LEzXD3mkebCi8VyoKsjj3g+tLk2Pxy88IG2eP6V/AIvW59K5CQM2uaGl5rEc9HEMTc0xT6P+rB9wQ20N95gPq6jLp3iH5Wi/F6L3Cck2XqPW0Jbsi/1kexw2mHu0yDhNtdLY24A8hOlFRbVCmAdrUuHmHaL/1MGF2mcgWT+w1ebBUmpjoNTin4DcnKxNS5Oez3hfEPO8kHESRhVVKKg2GOyy0oeZ53hNBxinjWyTeRo1UTuibrWlR2fkpizfmN7NX2W9I1TvMzJvF/nzP48CbF7BD6oq77AEOKrKUU5UsmHAtQqzz2+Rm5FRkvH0gBVv3RDKPFhziwvmIDEANllNU/Nctz4JS4yhTjVOU6UZwi8Wm33kyE2YolZ7R+buJb5d0VS9ss03EAIOiQGwySMeVVV2trIM/T4tPRkkdQfzxOaXfymkebCmrt24HImJepvsXV11Z8dkl7R5GrXYEH5xr7Hb08hFKS6e99uRq3ZfENo8garDt5DaKq6yyL5q31ShjNNU8/UR17bp/DsiFyNzi9o3YuXb3wptHqyJa7YUI7GBN1jTDWHXaZhoinZYnSst8YsOxCYEqGoFW201VbC66qboep9G9lf5TXzQxihpjdLEwGpjr0oxV6yLzT7yXFMfCx7mZ+xYAELVe5pq+rp1qUjMLDP0+5iGgRqVrB9wY5el20gkMkosQWOTdQO/a/qsSbtnwMtLjglmnvDlmgtI7Ow1BL48QTuinqaJ8C9cbQw5veuQ/yu047GjJtB3mbHvh3hT+H7PmrB/IvTIriZung7ppxqUBWV9kCtQagkspWmgRo3VRDXkGnufKK8OCBQ6BmWm7j2yjSGnYjXRDY96znFvjYGheXuJGiiuYLsOuQr4QymZ+rCrtA3UdH601Nj389Iq/4yTpeRqR1ZruNcmw2tZaYbw80pNy8oZyspYGF20mYh5eiw7+EO42uqNXIn9h7oGT9ANpzqU3U+TdcPuZBv7/nNLVUCuoaZ9u7a28/Uav+c2WQJXqox9P5ykG36nLc8WXTkKZpRmQrt0550Dwuep4wq3i+aiZovYag5UR2vprMqaI3xwf5Z+0E2Voe8n60zB+hJzwKrtJv9xlZYuffYeevmlo0fbP4ZXTrurX+mIh6Qys//4zZbueYXmYM0yY99zM3WDb5FYdc7YORc6ZjrnKGtsQTm94xrOYJWp199oG8UVNWVvIvip7G0yT/8czedIDaL47lqrKbe+4J2i70+lwOjqin8zDsJXVrbKPIGq2h+HrqR81sdZGKq7+E3XDqmjnRBXlPKtMRBZUN4i83TKON4wtWjDAORO7KnqGkG7PuSqiq5UwtTNy5v9qt74gi0zkDuyxfTajNGalh2oZ1LejcHMsodvf+BbHJPXblqK3JktpoC0lt7KYFLejUFSxUx4Jev+2x/jCrZvQZ7A7iq/XGYiZat/GAn7JkKQ+uA9Pc/Uoo3lyJPAFdvmlPmZlA/c/hiWt9dRKExaW1yEPJGtpoDE8WxiDa39kUzWRNWrylKEe6uGGNln7jpkmo4t8aNaaJ7Z+kE/7a/qGkE7f6JAY/QNXKDv/y0brpTNMo/K0O/KUWt7H9p5E13FOscU8p6z75G5k6K1I2GNOfj4WZF9U01UFJqCs+O0kazgqLnXPFO0w+p3VPll0M6PS/DmoVe7ZxpCr9D+xYtFKkPf/5hrfHxp58WlwLc8ikzBZXGaSI9d6sdrRzTstnTdgQ/o0c6Hy7LT3LVTjrHPaVq3PWid6c4xhpwrc+MXSQhOmSVg6nx9xD23GtxRSwyhVystXWJpx9ttKTT2XDxXN9DtlvzJ+ohvd5q6ZuGhm3aMPYJ1pqDUeboBojm4H9UK4WEZ13QqzP7zaMfTY6mw+E7INoacxVd4aBsiqpnCz7rCGHJGe7BzDO34Mf7Pxsrg3+eZehYv0Pe/JOQbQqKaKXwOSmXod3mbOaD4QJXvMyxxIuZAla/PRlNQeboh/MJ47QhqPdMk7fCGLH3oV1ssr5VWVXXqQDsujFZwzuwjr6juNmWtKViXYQi7kKgbepvUdslU7bA6lbHfl5vN3d+oPPhqHFiRaF/0wGjjcFdsDp642tSzJNfY6zC+47XIEHYF3/NK1A2twwW8cZrIBrz3hIdD/Heidmj9LN3g28m6AT8s1Idfxf9TaOxVvcnUvbDU1H30WjYsMRgMBoPBYDAYDAaDwWAwGAwGg8FgMBjInfgfpyTD84gxgdAAAAAASUVORK5CYII=";class Vs{static validateLogin(e,t){const s=this.validateEmail(e),o=this.validatePassword(t);return s.valid?o.valid?{valid:!0}:o:s}static validateSignUp(e,t,s,o){const l=this.validateFirstName(e),h=this.validateLastName(t),f=this.validateEmail(s),g=this.validatePassword(o);return l.valid?h.valid?f.valid?g.valid?{valid:!0}:g:f:h:l}static validateRecoverPassword(e){const t=this.validateEmail(e);return t.valid?{valid:!0}:t}static validateAnnouncementForm(e,t,s,o){const l=this.validateAnnouncementTitle(e),h=this.validateAnnouncementDescription(t),f=this.validateAnnouncementPhoneNumber(s,o);return l.valid?h.valid?f.valid?{valid:!0}:f:h:l}static validateEventData(e,t,s,o,l,h,f,g,v,E){const C=this.validateEventTitle(e);if(!C.valid)return C;const k=this.validateEventDescription(t);if(!k.valid)return k;const F=this.validateEventLocation(s);if(!F.valid)return F;const z=this.validateEventCategory(o);if(!z.valid)return z;const X=this.validateEventDate(l,h,f,g,v,E);return X.valid?{valid:!0}:X}static validateHomeDescription(e){const t=this.validateProfileDescription(e);return t.valid?{valid:!0}:t}static validatePost(e){const t=this.validateHomePost(e);return t.valid?{valid:!0}:t}static validateComment(e){const t=this.validateHomeComment(e);return t.valid?{valid:!0}:t}static validateHomeComment(e){return e?e.length<6?{valid:!1,message:"El comentario debe tener al menos 6 caracteres."}:e.length>300?{valid:!1,message:"El comentario no puede tener mas de 300 caracteres."}:{valid:!0}:{valid:!1,message:"EL comentario no puede estar vaco."}}static validateHomePost(e){return e?e.length<6?{valid:!1,message:"El post debe tener al menos 6 caracteres."}:e.length>300?{valid:!1,message:"El post no puede tener mas de 300 caracteres."}:{valid:!0}:{valid:!1,message:"EL post no puede estar vaco."}}static validateProfileDescription(e){return e?e.length<6?{valid:!1,message:"La descripcin debe tener al menos 6 caracteres."}:e.length>100?{valid:!1,message:"La descripcin no puede tener mas de 100 caracteres."}:{valid:!0}:{valid:!1,message:"La descripcin no puede estar vaca."}}static validateEventDate(e,t,s,o,l,h){if(!e||!t||!s)return{valid:!1,message:"Selecciona una fecha."};const f=new Date,g=new Date(f.setHours(0,0,0,0));if(new Date(s,t-1,e)<g)return{valid:!1,message:"La fecha elegida debe ser de hoy o de un da posterior."};const E=f.getFullYear()+1;if(s>E)return{valid:!1,message:"Solo se pueden crear eventos de este ao o del ao siguiente."};if(!o){if(!l)return{valid:!1,message:"Selecciona una hora."};if(!h)return{valid:!1,message:"Selecciona los minutos."}}return{valid:!0}}static validateEventTitle(e){return e?e.length<6?{valid:!1,message:"El ttulo debe tener al menos 6 caracteres."}:e.length>50?{valid:!1,message:"El ttulo debe tener menos de 50 caracteres."}:{valid:!0}:{valid:!1,message:"El ttulo del evento no puede estar vaco."}}static validateEventCategory(e){return e?{valid:!0}:{valid:!1,message:"Selecciona una categora."}}static validateEventDescription(e){return e?e.length<10?{valid:!1,message:"La descripcin debe tener al menos 10 caracteres."}:e.length>100?{valid:!1,message:"La descripcin debe tener menos de 100 caracteres."}:{valid:!0}:{valid:!1,message:"La descripcin del evento no puede estar vaca."}}static validateAnnouncementTitle(e){return e?e.length<6?{valid:!1,message:"El ttulo debe tener al menos 6 caracteres."}:e.length>50?{valid:!1,message:"El ttulo debe tener menos de 50 caracteres."}:{valid:!0}:{valid:!1,message:"El ttulo del anuncio no puede estar vaco."}}static validateEventLocation(e){return e?e.length<6?{valid:!1,message:"La ubicacin debe tener al menos 6 caracteres."}:e.length>100?{valid:!1,message:"La ubicacin debe tener menos de 100 caracteres."}:{valid:!0}:{valid:!1,message:"La ubicacin del evento no puede estar vaca."}}static validateAnnouncementDescription(e){return e?e.length<10?{valid:!1,message:"La descripcin debe tener al menos 10 caracteres."}:e.length>300?{valid:!1,message:"La descripcin debe tener menos de 300 caracteres."}:{valid:!0}:{valid:!1,message:"La descripcin del anuncio no puede estar vaca."}}static validateAnnouncementPhoneNumber(e,t){return t?e?e.length<8?{valid:!1,message:"El nmero de telfono debe tener al menos 8 caracteres."}:e.length>11?{valid:!1,message:"El nmero de telfono debe tener entre 8 y 11 caracteres."}:{valid:!0}:{valid:!1,message:"El nmero de telfono no puede estar vaco."}:{valid:!0}}static validateEmail(e){return e?e.length<10?{valid:!1,message:"El e-mail debe tener al menos 10 caracteres."}:e.length>50?{valid:!1,message:"El e-mail debe tener menos de 50 caracteres."}:{valid:!0}:{valid:!1,message:"Ingresa tu e-mail."}}static validatePassword(e){return e?e.length<6?{valid:!1,message:"La contrasea debe tener al menos 6 caracteres."}:e.length>20?{valid:!1,message:"La contrasea debe tener menos de 20 caracteres."}:{valid:!0}:{valid:!1,message:"Ingresa una contrasea."}}static validateFirstName(e){return e?e.length<3?{valid:!1,message:"El nombre debe tener al menos 3 caracteres."}:e.length>20?{valid:!1,message:"El nombre debe tener menos de 20 caracteres."}:{valid:!0}:{valid:!1,message:"Ingresa tu nombre."}}static validateLastName(e){return e?e.length<3?{valid:!1,message:"El apellido debe tener al menos 3 caracteres."}:e.length>20?{valid:!1,message:"El apellido debe tener menos de 20 caracteres."}:{valid:!0}:{valid:!0}}}var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fi,Kv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function R(){}R.prototype=T.prototype,x.D=T.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(N,V,U){for(var S=Array(arguments.length-2),st=2;st<arguments.length;st++)S[st-2]=arguments[st];return T.prototype[V].apply(N,S)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,T,R){R||(R=0);var N=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)N[V]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(V=0;16>V;++V)N[V]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=x.g[0],R=x.g[1],V=x.g[2];var U=x.g[3],S=T+(U^R&(V^U))+N[0]+3614090360&4294967295;T=R+(S<<7&4294967295|S>>>25),S=U+(V^T&(R^V))+N[1]+3905402710&4294967295,U=T+(S<<12&4294967295|S>>>20),S=V+(R^U&(T^R))+N[2]+606105819&4294967295,V=U+(S<<17&4294967295|S>>>15),S=R+(T^V&(U^T))+N[3]+3250441966&4294967295,R=V+(S<<22&4294967295|S>>>10),S=T+(U^R&(V^U))+N[4]+4118548399&4294967295,T=R+(S<<7&4294967295|S>>>25),S=U+(V^T&(R^V))+N[5]+1200080426&4294967295,U=T+(S<<12&4294967295|S>>>20),S=V+(R^U&(T^R))+N[6]+2821735955&4294967295,V=U+(S<<17&4294967295|S>>>15),S=R+(T^V&(U^T))+N[7]+4249261313&4294967295,R=V+(S<<22&4294967295|S>>>10),S=T+(U^R&(V^U))+N[8]+1770035416&4294967295,T=R+(S<<7&4294967295|S>>>25),S=U+(V^T&(R^V))+N[9]+2336552879&4294967295,U=T+(S<<12&4294967295|S>>>20),S=V+(R^U&(T^R))+N[10]+4294925233&4294967295,V=U+(S<<17&4294967295|S>>>15),S=R+(T^V&(U^T))+N[11]+2304563134&4294967295,R=V+(S<<22&4294967295|S>>>10),S=T+(U^R&(V^U))+N[12]+1804603682&4294967295,T=R+(S<<7&4294967295|S>>>25),S=U+(V^T&(R^V))+N[13]+4254626195&4294967295,U=T+(S<<12&4294967295|S>>>20),S=V+(R^U&(T^R))+N[14]+2792965006&4294967295,V=U+(S<<17&4294967295|S>>>15),S=R+(T^V&(U^T))+N[15]+1236535329&4294967295,R=V+(S<<22&4294967295|S>>>10),S=T+(V^U&(R^V))+N[1]+4129170786&4294967295,T=R+(S<<5&4294967295|S>>>27),S=U+(R^V&(T^R))+N[6]+3225465664&4294967295,U=T+(S<<9&4294967295|S>>>23),S=V+(T^R&(U^T))+N[11]+643717713&4294967295,V=U+(S<<14&4294967295|S>>>18),S=R+(U^T&(V^U))+N[0]+3921069994&4294967295,R=V+(S<<20&4294967295|S>>>12),S=T+(V^U&(R^V))+N[5]+3593408605&4294967295,T=R+(S<<5&4294967295|S>>>27),S=U+(R^V&(T^R))+N[10]+38016083&4294967295,U=T+(S<<9&4294967295|S>>>23),S=V+(T^R&(U^T))+N[15]+3634488961&4294967295,V=U+(S<<14&4294967295|S>>>18),S=R+(U^T&(V^U))+N[4]+3889429448&4294967295,R=V+(S<<20&4294967295|S>>>12),S=T+(V^U&(R^V))+N[9]+568446438&4294967295,T=R+(S<<5&4294967295|S>>>27),S=U+(R^V&(T^R))+N[14]+3275163606&4294967295,U=T+(S<<9&4294967295|S>>>23),S=V+(T^R&(U^T))+N[3]+4107603335&4294967295,V=U+(S<<14&4294967295|S>>>18),S=R+(U^T&(V^U))+N[8]+1163531501&4294967295,R=V+(S<<20&4294967295|S>>>12),S=T+(V^U&(R^V))+N[13]+2850285829&4294967295,T=R+(S<<5&4294967295|S>>>27),S=U+(R^V&(T^R))+N[2]+4243563512&4294967295,U=T+(S<<9&4294967295|S>>>23),S=V+(T^R&(U^T))+N[7]+1735328473&4294967295,V=U+(S<<14&4294967295|S>>>18),S=R+(U^T&(V^U))+N[12]+2368359562&4294967295,R=V+(S<<20&4294967295|S>>>12),S=T+(R^V^U)+N[5]+4294588738&4294967295,T=R+(S<<4&4294967295|S>>>28),S=U+(T^R^V)+N[8]+2272392833&4294967295,U=T+(S<<11&4294967295|S>>>21),S=V+(U^T^R)+N[11]+1839030562&4294967295,V=U+(S<<16&4294967295|S>>>16),S=R+(V^U^T)+N[14]+4259657740&4294967295,R=V+(S<<23&4294967295|S>>>9),S=T+(R^V^U)+N[1]+2763975236&4294967295,T=R+(S<<4&4294967295|S>>>28),S=U+(T^R^V)+N[4]+1272893353&4294967295,U=T+(S<<11&4294967295|S>>>21),S=V+(U^T^R)+N[7]+4139469664&4294967295,V=U+(S<<16&4294967295|S>>>16),S=R+(V^U^T)+N[10]+3200236656&4294967295,R=V+(S<<23&4294967295|S>>>9),S=T+(R^V^U)+N[13]+681279174&4294967295,T=R+(S<<4&4294967295|S>>>28),S=U+(T^R^V)+N[0]+3936430074&4294967295,U=T+(S<<11&4294967295|S>>>21),S=V+(U^T^R)+N[3]+3572445317&4294967295,V=U+(S<<16&4294967295|S>>>16),S=R+(V^U^T)+N[6]+76029189&4294967295,R=V+(S<<23&4294967295|S>>>9),S=T+(R^V^U)+N[9]+3654602809&4294967295,T=R+(S<<4&4294967295|S>>>28),S=U+(T^R^V)+N[12]+3873151461&4294967295,U=T+(S<<11&4294967295|S>>>21),S=V+(U^T^R)+N[15]+530742520&4294967295,V=U+(S<<16&4294967295|S>>>16),S=R+(V^U^T)+N[2]+3299628645&4294967295,R=V+(S<<23&4294967295|S>>>9),S=T+(V^(R|~U))+N[0]+4096336452&4294967295,T=R+(S<<6&4294967295|S>>>26),S=U+(R^(T|~V))+N[7]+1126891415&4294967295,U=T+(S<<10&4294967295|S>>>22),S=V+(T^(U|~R))+N[14]+2878612391&4294967295,V=U+(S<<15&4294967295|S>>>17),S=R+(U^(V|~T))+N[5]+4237533241&4294967295,R=V+(S<<21&4294967295|S>>>11),S=T+(V^(R|~U))+N[12]+1700485571&4294967295,T=R+(S<<6&4294967295|S>>>26),S=U+(R^(T|~V))+N[3]+2399980690&4294967295,U=T+(S<<10&4294967295|S>>>22),S=V+(T^(U|~R))+N[10]+4293915773&4294967295,V=U+(S<<15&4294967295|S>>>17),S=R+(U^(V|~T))+N[1]+2240044497&4294967295,R=V+(S<<21&4294967295|S>>>11),S=T+(V^(R|~U))+N[8]+1873313359&4294967295,T=R+(S<<6&4294967295|S>>>26),S=U+(R^(T|~V))+N[15]+4264355552&4294967295,U=T+(S<<10&4294967295|S>>>22),S=V+(T^(U|~R))+N[6]+2734768916&4294967295,V=U+(S<<15&4294967295|S>>>17),S=R+(U^(V|~T))+N[13]+1309151649&4294967295,R=V+(S<<21&4294967295|S>>>11),S=T+(V^(R|~U))+N[4]+4149444226&4294967295,T=R+(S<<6&4294967295|S>>>26),S=U+(R^(T|~V))+N[11]+3174756917&4294967295,U=T+(S<<10&4294967295|S>>>22),S=V+(T^(U|~R))+N[2]+718787259&4294967295,V=U+(S<<15&4294967295|S>>>17),S=R+(U^(V|~T))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var R=T-this.blockSize,N=this.B,V=this.h,U=0;U<T;){if(V==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<T;)if(N[V++]=x.charCodeAt(U++),V==this.blockSize){o(this,N),V=0;break}}else for(;U<T;)if(N[V++]=x[U++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var R=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=R&255,R/=256;for(this.u(x),x=Array(16),T=R=0;4>T;++T)for(var N=0;32>N;N+=8)x[R++]=this.g[T]>>>N&255;return x};function l(x,T){var R=f;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=T(x)}function h(x,T){this.h=T;for(var R=[],N=!0,V=x.length-1;0<=V;V--){var U=x[V]|0;N&&U==T||(R[V]=U,N=!1)}this.g=R}var f={};function g(x){return-128<=x&&128>x?l(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return C;if(0>x)return Q(v(-x));for(var T=[],R=1,N=0;x>=R;N++)T[N]=x/R|0,R*=4294967296;return new h(T,0)}function E(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return Q(E(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(T,8)),N=C,V=0;V<x.length;V+=8){var U=Math.min(8,x.length-V),S=parseInt(x.substring(V,V+U),T);8>U?(U=v(Math.pow(T,U)),N=N.j(U).add(v(S))):(N=N.j(R),N=N.add(v(S)))}return N}var C=g(0),k=g(1),F=g(16777216);r=h.prototype,r.m=function(){if(X(this))return-Q(this).m();for(var x=0,T=1,R=0;R<this.g.length;R++){var N=this.i(R);x+=(0<=N?N:4294967296+N)*T,T*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(X(this))return"-"+Q(this).toString(x);for(var T=v(Math.pow(x,6)),R=this,N="";;){var V=ce(R,T).g;R=ye(R,V.j(T));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=V,z(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function X(x){return x.h==-1}r.l=function(x){return x=ye(this,x),X(x)?-1:z(x)?0:1};function Q(x){for(var T=x.g.length,R=[],N=0;N<T;N++)R[N]=~x.g[N];return new h(R,~x.h).add(k)}r.abs=function(){return X(this)?Q(this):this},r.add=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],N=0,V=0;V<=T;V++){var U=N+(this.i(V)&65535)+(x.i(V)&65535),S=(U>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);N=S>>>16,U&=65535,S&=65535,R[V]=S<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ye(x,T){return x.add(Q(T))}r.j=function(x){if(z(this)||z(x))return C;if(X(this))return X(x)?Q(this).j(Q(x)):Q(Q(this).j(x));if(X(x))return Q(this.j(Q(x)));if(0>this.l(F)&&0>x.l(F))return v(this.m()*x.m());for(var T=this.g.length+x.g.length,R=[],N=0;N<2*T;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<x.g.length;V++){var U=this.i(N)>>>16,S=this.i(N)&65535,st=x.i(V)>>>16,Ot=x.i(V)&65535;R[2*N+2*V]+=S*Ot,pe(R,2*N+2*V),R[2*N+2*V+1]+=U*Ot,pe(R,2*N+2*V+1),R[2*N+2*V+1]+=S*st,pe(R,2*N+2*V+1),R[2*N+2*V+2]+=U*st,pe(R,2*N+2*V+2)}for(N=0;N<T;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=T;N<2*T;N++)R[N]=0;return new h(R,0)};function pe(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function ue(x,T){this.g=x,this.h=T}function ce(x,T){if(z(T))throw Error("division by zero");if(z(x))return new ue(C,C);if(X(x))return T=ce(Q(x),T),new ue(Q(T.g),Q(T.h));if(X(T))return T=ce(x,Q(T)),new ue(Q(T.g),T.h);if(30<x.g.length){if(X(x)||X(T))throw Error("slowDivide_ only works with positive integers.");for(var R=k,N=T;0>=N.l(x);)R=Ue(R),N=Ue(N);var V=Ie(R,1),U=Ie(N,1);for(N=Ie(N,2),R=Ie(R,2);!z(N);){var S=U.add(N);0>=S.l(x)&&(V=V.add(R),U=S),N=Ie(N,1),R=Ie(R,1)}return T=ye(x,V.j(T)),new ue(V,T)}for(V=C;0<=x.l(T);){for(R=Math.max(1,Math.floor(x.m()/T.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=v(R),S=U.j(T);X(S)||0<S.l(x);)R-=N,U=v(R),S=U.j(T);z(U)&&(U=k),V=V.add(U),x=ye(x,S)}return new ue(V,x)}r.A=function(x){return ce(this,x).h},r.and=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],N=0;N<T;N++)R[N]=this.i(N)&x.i(N);return new h(R,this.h&x.h)},r.or=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],N=0;N<T;N++)R[N]=this.i(N)|x.i(N);return new h(R,this.h|x.h)},r.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),R=[],N=0;N<T;N++)R[N]=this.i(N)^x.i(N);return new h(R,this.h^x.h)};function Ue(x){for(var T=x.g.length+1,R=[],N=0;N<T;N++)R[N]=x.i(N)<<1|x.i(N-1)>>>31;return new h(R,x.h)}function Ie(x,T){var R=T>>5;T%=32;for(var N=x.g.length-R,V=[],U=0;U<N;U++)V[U]=0<T?x.i(U+R)>>>T|x.i(U+R+1)<<32-T:x.i(U+R);return new h(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Kv=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,fi=h}).apply(typeof ty<"u"?ty:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wv,Qa,Hv,Xu,Kd,Yv,Jv,Xv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var y=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var b=u[w];if(!(b in y))break e;y=y[b]}u=u[u.length-1],w=y[u],p=p(w),p!=w&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var y=0,w=!1,b={next:function(){if(!w&&y<u.length){var j=y++;return{value:p(j,u[j]),done:!1}}return w=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,y){return u.call.apply(u.bind,arguments)}function C(u,p,y){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,w),u.apply(p,b)}}return function(){return u.apply(p,arguments)}}function k(u,p,y){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:C,k.apply(null,arguments)}function F(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function z(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(w,b,j){for(var $=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)$[Be-2]=arguments[Be];return p.prototype[b].apply(w,$)}}function X(u){const p=u.length;if(0<p){const y=Array(p);for(let w=0;w<p;w++)y[w]=u[w];return y}return[]}function Q(u,p){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const b=u.length||0,j=w.length||0;u.length=b+j;for(let $=0;$<j;$++)u[b+$]=w[$]}else u.push(w)}}class ye{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function pe(u){return/^[\s\xa0]*$/.test(u)}function ue(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ce(u){return ce[" "](u),u}ce[" "]=function(){};var Ue=ue().indexOf("Gecko")!=-1&&!(ue().toLowerCase().indexOf("webkit")!=-1&&ue().indexOf("Edge")==-1)&&!(ue().indexOf("Trident")!=-1||ue().indexOf("MSIE")!=-1)&&ue().indexOf("Edge")==-1;function Ie(u,p,y){for(const w in u)p.call(y,u[w],w,u)}function x(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function T(u){const p={};for(const y in u)p[y]=u[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,p){let y,w;for(let b=1;b<arguments.length;b++){w=arguments[b];for(y in w)u[y]=w[y];for(let j=0;j<R.length;j++)y=R[j],Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y])}}function V(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function U(u){f.setTimeout(()=>{throw u},0)}function S(){var u=fe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class st{constructor(){this.h=this.g=null}add(p,y){const w=Ot.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var Ot=new ye(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let je,ee=!1,fe=new st,ne=()=>{const u=f.Promise.resolve(void 0);je=()=>{u.then(O)}};var O=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(y){U(y)}var p=Ot;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ee=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return u}();function Ce(u,p){if(he.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Ue){e:{try{ce(p.nodeName);var b=!0;break e}catch{}b=!1}b||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}z(Ce,he);var De={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function ze(u,p,y,w,b){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=b,this.key=++Me,this.da=this.fa=!1}function Et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fr(u){this.src=u,this.g={},this.h=0}fr.prototype.add=function(u,p,y,w,b){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var $=qr(u,p,w,b);return-1<$?(p=u[$],y||(p.fa=!1)):(p=new ze(p,this.src,j,!!w,b),p.fa=y,u.push(p)),p};function Ri(u,p){var y=p.type;if(y in u.g){var w=u.g[y],b=Array.prototype.indexOf.call(w,p,void 0),j;(j=0<=b)&&Array.prototype.splice.call(w,b,1),j&&(Et(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function qr(u,p,y,w){for(var b=0;b<u.length;++b){var j=u[b];if(!j.da&&j.listener==p&&j.capture==!!y&&j.ha==w)return b}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),ki={};function Go(u,p,y,w,b){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Go(u,p[j],y,w,b);return null}return y=Wo(y),u&&u[Le]?u.K(p,y,v(w)?!!w.capture:!1,b):qo(u,p,y,!1,w,b)}function qo(u,p,y,w,b,j){if(!p)throw Error("Invalid event type");var $=v(b)?!!b.capture:!!b,Be=Ni(u);if(Be||(u[bs]=Be=new fr(u)),y=Be.add(p,y,w,$,j),y.proxy)return y;if(w=Il(),y.proxy=w,w.src=u,w.listener=y,u.addEventListener)Te||(b=$),b===void 0&&(b=!1),u.addEventListener(p.toString(),w,b);else if(u.attachEvent)u.attachEvent(mr(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Il(){function u(y){return p.call(u.src,u.listener,y)}const p=Ko;return u}function Pi(u,p,y,w,b){if(Array.isArray(p))for(var j=0;j<p.length;j++)Pi(u,p[j],y,w,b);else w=v(w)?!!w.capture:!!w,y=Wo(y),u&&u[Le]?(u=u.i,p=String(p).toString(),p in u.g&&(j=u.g[p],y=qr(j,y,w,b),-1<y&&(Et(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[p],u.h--)))):u&&(u=Ni(u))&&(p=u.g[p.toString()],u=-1,p&&(u=qr(p,y,w,b)),(y=-1<u?p[u]:null)&&pr(y))}function pr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Le])Ri(p.i,u);else{var y=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(y,w,u.capture):p.detachEvent?p.detachEvent(mr(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=Ni(p))?(Ri(y,u),y.h==0&&(y.src=null,p[bs]=null)):Et(u)}}}function mr(u){return u in ki?ki[u]:ki[u]="on"+u}function Ko(u,p){if(u.da)u=!0;else{p=new Ce(p,this);var y=u.listener,w=u.ha||u.src;u.fa&&pr(u),u=y.call(w,p)}return u}function Ni(u){return u=u[bs],u instanceof fr?u:null}var Di="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(u){return typeof u=="function"?u:(u[Di]||(u[Di]=function(p){return u.handleEvent(p)}),u[Di])}function pt(){W.call(this),this.i=new fr(this),this.M=this,this.F=null}z(pt,W),pt.prototype[Le]=!0,pt.prototype.removeEventListener=function(u,p,y,w){Pi(this,u,p,y,w)};function mt(u,p){var y,w=u.F;if(w)for(y=[];w;w=w.F)y.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new he(p,u);else if(p instanceof he)p.target=p.target||u;else{var b=p;p=new he(w,u),N(p,b)}if(b=!0,y)for(var j=y.length-1;0<=j;j--){var $=p.g=y[j];b=gr($,w,!0,p)&&b}if($=p.g=u,b=gr($,w,!0,p)&&b,b=gr($,w,!1,p)&&b,y)for(j=0;j<y.length;j++)$=p.g=y[j],b=gr($,w,!1,p)&&b}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],w=0;w<y.length;w++)Et(y[w]);delete u.g[p],u.h--}}this.F=null},pt.prototype.K=function(u,p,y,w){return this.i.add(String(u),p,!1,y,w)},pt.prototype.L=function(u,p,y,w){return this.i.add(String(u),p,!0,y,w)};function gr(u,p,y,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var b=!0,j=0;j<p.length;++j){var $=p[j];if($&&!$.da&&$.capture==y){var Be=$.listener,gt=$.ha||$.src;$.fa&&Ri(u.i,$),b=Be.call(gt,w)!==!1&&b}}return b&&!w.defaultPrevented}function Ho(u,p,y){if(typeof u=="function")y&&(u=k(u,y));else if(u&&typeof u.handleEvent=="function")u=k(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function Kr(u){u.g=Ho(()=>{u.g=null,u.i&&(u.i=!1,Kr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ls extends W{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(u){W.call(this),this.h=u,this.g={}}z(Ms,W);var Yo=[];function Jo(u){Ie(u.g,function(p,y){this.g.hasOwnProperty(y)&&pr(p)},u),u.g={}}Ms.prototype.N=function(){Ms.aa.N.call(this),Jo(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=f.JSON.stringify,Zo=f.JSON.parse,$o=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Fs(){}Fs.prototype.h=null;function xi(u){return u.h||(u.h=u.i())}function Vi(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hn(){he.call(this,"d")}z(Hn,he);function Oi(){he.call(this,"c")}z(Oi,he);var Yn={},ea=null;function Bs(){return ea=ea||new pt}Yn.La="serverreachability";function ta(u){he.call(this,Yn.La,u)}z(ta,he);function yr(u){const p=Bs();mt(p,new ta(p))}Yn.STAT_EVENT="statevent";function na(u,p){he.call(this,Yn.STAT_EVENT,u),this.stat=p}z(na,he);function it(u){const p=Bs();mt(p,new na(p,u))}Yn.Ma="timingevent";function Ui(u,p){he.call(this,Yn.Ma,u),this.size=p}z(Ui,he);function Pn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function js(){this.g=!0}js.prototype.xa=function(){this.g=!1};function Qs(u,p,y,w,b,j){u.info(function(){if(u.g)if(j)for(var $="",Be=j.split("&"),gt=0;gt<Be.length;gt++){var xe=Be[gt].split("=");if(1<xe.length){var wt=xe[0];xe=xe[1];var ut=wt.split("_");$=2<=ut.length&&ut[1]=="type"?$+(wt+"="+xe+"&"):$+(wt+"=redacted&")}}else $=null;else $=j;return"XMLHTTP REQ ("+w+") [attempt "+b+"]: "+p+`
`+y+`
`+$})}function bi(u,p,y,w,b,j,$){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+b+"]: "+p+`
`+y+`
`+j+" "+$})}function Nn(u,p,y,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Hc(u,y)+(w?" "+w:"")})}function ra(u,p){u.info(function(){return"TIMEOUT: "+p})}js.prototype.info=function(){};function Hc(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var w=y[u];if(!(2>w.length)){var b=w[1];if(Array.isArray(b)&&!(1>b.length)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(var $=1;$<b.length;$++)b[$]=""}}}}return Xo(y)}catch{return p}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function zs(){}z(zs,Fs),zs.prototype.g=function(){return new XMLHttpRequest},zs.prototype.i=function(){return{}},Dn=new zs;function xn(u,p,y,w){this.j=u,this.i=p,this.l=y,this.R=w||1,this.U=new Ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}var sa={},Mi={};function Fi(u,p,y){u.L=1,u.v=Xr(un(p)),u.m=y,u.P=!0,ia(u,null)}function ia(u,p){u.F=Date.now(),Ge(u),u.A=un(u.v);var y=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),$r(y.i,"t",w),u.C=0,y=u.j.J,u.h=new Cl,u.g=zl(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Ls(k(u.Y,u,u.g),u.O)),p=u.U,y=u.g,w=u.ca;var b="readystatechange";Array.isArray(b)||(b&&(Yo[0]=b.toString()),b=Yo);for(var j=0;j<b.length;j++){var $=Go(y,b[j],w||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),yr(),Qs(u.i,u.u,u.A,u.l,u.R,u.m)}xn.prototype.ca=function(u){u=u.target;const p=this.M;p&&Xt(u)==3?p.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)e:{const ut=Xt(this.g);var p=this.g.Ba();const An=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||ha(this.g)))){this.J||ut!=4||p==7||(p==8||0>=An?yr(3):yr(2)),Gs(this);var y=this.g.Z();this.X=y;t:if(Sl(this)){var w=ha(this.g);u="";var b=w.length,j=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Wr(this);var $="";break t}this.h.i=new f.TextDecoder}for(p=0;p<b;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!(j&&p==b-1)});w.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=y==200,bi(this.i,this.u,this.A,this.l,this.R,ut,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,gt=this.g;if((Be=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pe(Be)){var xe=Be;break t}}xe=null}if(y=xe)Nn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,y);else{this.o=!1,this.s=3,it(12),vn(this),Wr(this);break e}}if(this.P){y=!0;let hn;for(;!this.J&&this.C<$.length;)if(hn=Yc(this,$),hn==Mi){ut==4&&(this.s=4,it(14),y=!1),Nn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==sa){this.s=4,it(15),Nn(this.i,this.l,$,"[Invalid Chunk]"),y=!1;break}else Nn(this.i,this.l,hn,null),oa(this,hn);if(Sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||$.length!=0||this.h.h||(this.s=1,it(16),y=!1),this.o=this.o&&y,!y)Nn(this.i,this.l,$,"[Invalid Chunked Response]"),vn(this),Wr(this);else if(0<$.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),fa(wt),wt.M=!0,it(11))}}else Nn(this.i,this.l,$,null),oa(this,$);ut==4&&vn(this),this.o&&!this.J&&(ut==4?Ji(this.j,this):(this.o=!1,Ge(this)))}else qi(this.g),y==400&&0<$.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),vn(this),Wr(this)}}}catch{}finally{}};function Sl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yc(u,p){var y=u.C,w=p.indexOf(`
`,y);return w==-1?Mi:(y=Number(p.substring(y,w)),isNaN(y)?sa:(w+=1,w+y>p.length?Mi:(p=p.slice(w,w+y),u.C=w+y,p)))}xn.prototype.cancel=function(){this.J=!0,vn(this)};function Ge(u){u.S=Date.now()+u.I,Rl(u,u.I)}function Rl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Pn(k(u.ba,u),p)}function Gs(u){u.B&&(f.clearTimeout(u.B),u.B=null)}xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ra(this.i,this.A),this.L!=2&&(yr(),it(17)),vn(this),this.s=2,Wr(this)):Rl(this,this.S-u)};function Wr(u){u.j.G==0||u.J||Ji(u.j,u)}function vn(u){Gs(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Jo(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function oa(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Gt(y.h,u))){if(!u.K&&Gt(y.h,u)&&y.G==3){try{var w=y.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var b=w;if(b[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Yi(y),Ln(y);else break e;Hi(y),it(18)}}else y.za=b[1],0<y.za-y.T&&37500>b[2]&&y.F&&y.v==0&&!y.C&&(y.C=Pn(k(y.Za,y),6e3));if(1>=Pl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wr(y,11)}else if((u.K||y.g==u)&&Yi(y),!pe(p))for(b=y.Da.g.parse(p),p=0;p<b.length;p++){let xe=b[p];if(y.T=xe[0],xe=xe[1],y.G==2)if(xe[0]=="c"){y.K=xe[1],y.ia=xe[2];const wt=xe[3];wt!=null&&(y.la=wt,y.j.info("VER="+y.la));const ut=xe[4];ut!=null&&(y.Aa=ut,y.j.info("SVER="+y.Aa));const An=xe[5];An!=null&&typeof An=="number"&&0<An&&(w=1.5*An,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const hn=u.g;if(hn){const Xs=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var j=w.h;j.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(aa(j,j.h),j.h=null))}if(w.D){const Zi=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zi&&(w.ya=Zi,Qe(w.I,w.D,Zi))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var $=u;if(w.qa=Ql(w,w.J?w.ia:null,w.W),$.K){Nl(w.h,$);var Be=$,gt=w.L;gt&&(Be.I=gt),Be.B&&(Gs(Be),Ge(Be)),w.g=$}else Js(w);0<y.i.length&&$n(y)}else xe[0]!="stop"&&xe[0]!="close"||wr(y,7);else y.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?wr(y,7):kt(y):xe[0]!="noop"&&y.l&&y.l.ta(xe),y.v=0)}}yr(4)}catch{}}var kl=class{constructor(u,p){this.g=u,this.map=p}};function qs(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pl(u){return u.h?1:u.g?u.g.size:0}function Gt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function aa(u,p){u.g?u.g.add(p):u.h=p}function Nl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}qs.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return X(u.i)}function Bi(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,w=0;w<y;w++)p.push(u[w]);return p}p=[],y=0;for(w in u)p[y++]=u[w];return p}function ji(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const w in u)p[y++]=w;return p}}}function Hr(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=ji(u),w=Bi(u),b=w.length,j=0;j<b;j++)p.call(void 0,w[j],y&&y[j],u)}var Ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jc(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var w=u[y].indexOf("="),b=null;if(0<=w){var j=u[y].substring(0,w);b=u[y].substring(w+1)}else j=u[y];p(j,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function vr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vr){this.h=u.h,Ws(this,u.j),this.o=u.o,this.g=u.g,Yr(this,u.s),this.l=u.l;var p=u.i,y=new Jn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Jr(this,y),this.m=u.m}else u&&(p=String(u).match(Ks))?(this.h=!1,Ws(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),Yr(this,p[4]),this.l=Pe(p[5]||"",!0),Jr(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}vr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Zr(p,Qi,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Zr(p,Qi,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Zr(y,y.charAt(0)=="/"?Ol:Vl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Zr(y,la)),u.join("")};function un(u){return new vr(u)}function Ws(u,p,y){u.j=y?Pe(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Yr(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Jr(u,p,y){p instanceof Jn?(u.i=p,Xn(u.i,u.h)):(y||(p=Zr(p,Ul)),u.i=new Jn(p,u.h))}function Qe(u,p,y){u.i.set(p,y)}function Xr(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pe(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zr(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,xl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qi=/[#\/\?@]/g,Vl=/[#\?:]/g,Ol=/[#\?]/g,Ul=/[#\?@]/g,la=/#/g;function Jn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Rt(u){u.g||(u.g=new Map,u.h=0,u.i&&Jc(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Jn.prototype,r.add=function(u,p){Rt(this),this.i=null,u=_n(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Vn(u,p){Rt(u),p=_n(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function On(u,p){return Rt(u),p=_n(u,p),u.g.has(p)}r.forEach=function(u,p){Rt(this),this.g.forEach(function(y,w){y.forEach(function(b){u.call(p,b,w,this)},this)},this)},r.na=function(){Rt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let w=0;w<p.length;w++){const b=u[w];for(let j=0;j<b.length;j++)y.push(p[w])}return y},r.V=function(u){Rt(this);let p=[];if(typeof u=="string")On(this,u)&&(p=p.concat(this.g.get(_n(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},r.set=function(u,p){return Rt(this),this.i=null,u=_n(this,u),On(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function $r(u,p,y){Vn(u,p),0<y.length&&(u.i=null,u.g.set(_n(u,p),X(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var w=p[y];const j=encodeURIComponent(String(w)),$=this.V(w);for(w=0;w<$.length;w++){var b=j;$[w]!==""&&(b+="="+encodeURIComponent(String($[w]))),u.push(b)}}return this.i=u.join("&")};function _n(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Xn(u,p){p&&!u.j&&(Rt(u),u.i=null,u.g.forEach(function(y,w){var b=w.toLowerCase();w!=b&&(Vn(this,w),$r(this,b,y))},u)),u.j=p}function Xc(u,p){const y=new js;if(f.Image){const w=new Image;w.onload=F(Jt,y,"TestLoadImage: loaded",!0,p,w),w.onerror=F(Jt,y,"TestLoadImage: error",!1,p,w),w.onabort=F(Jt,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=F(Jt,y,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function bl(u,p){const y=new js,w=new AbortController,b=setTimeout(()=>{w.abort(),Jt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(j=>{clearTimeout(b),j.ok?Jt(y,"TestPingServer: ok",!0,p):Jt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(b),Jt(y,"TestPingServer: error",!1,p)})}function Jt(u,p,y,w,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),w(y)}catch{}}function Zc(){this.g=new $o}function Ll(u,p,y){const w=y||"";try{Hr(u,function(b,j){let $=b;v(b)&&($=Xo(b)),p.push(w+j+"="+encodeURIComponent($))})}catch(b){throw p.push(w+"type="+encodeURIComponent("_badmap")),b}}function _r(u){this.l=u.Ub||null,this.j=u.eb||!1}z(_r,Fs),_r.prototype.g=function(){return new Hs(this.l,this.j)},_r.prototype.i=function(u){return function(){return u}}({});function Hs(u,p){pt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Hs,pt),r=Hs.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Un(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Un(this):bn(this),this.readyState==3&&Ml(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Un(this))},r.Qa=function(u){this.g&&(this.response=u,Un(this))},r.ga=function(){this.g&&Un(this)};function Un(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ar(u){let p="";return Ie(u,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function es(u,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=Ar(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qe(u,p,y))}function Ye(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Ye,pt);var $c=/^https?$/i,ua=["POST","PUT"];r=Ye.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?xi(this.o):xi(Dn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(j){Ys(this,j);return}if(u=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var b in w)y.set(b,w[b]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const j of w.keys())y.set(j,w.get(j));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),b=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ua,p,void 0))||w||b||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,$]of y)this.g.setRequestHeader(j,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gi(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Ys(this,j)}};function Ys(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,zi(u),cn(u)}function zi(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),cn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Ye.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},r.bb=function(){ca(this)};function ca(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Xt(u)!=4||u.Z()!=2)){if(u.u&&Xt(u)==4)Ho(u.Ea,0,u);else if(mt(u,"readystatechange"),Xt(u)==4){u.h=!1;try{const $=u.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=$===0){var b=String(u.D).match(Ks)[1]||null;!b&&f.self&&f.self.location&&(b=f.self.location.protocol.slice(0,-1)),w=!$c.test(b?b.toLowerCase():"")}y=w}if(y)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var j=2<Xt(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",zi(u)}}finally{cn(u)}}}}function cn(u,p){if(u.g){Gi(u);const y=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||mt(u,"ready");try{y.onreadystatechange=w}catch{}}}function Gi(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Xt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Zo(p)}};function ha(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const p={};u=(u.g&&2<=Xt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(pe(u[w]))continue;var y=V(u[w]);const b=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=p[b]||[];p[b]=j,j.push(y)}x(p,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function da(u){this.Aa=0,this.i=[],this.j=new js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,u),this.cb=Zn("retryDelaySeedMs",1e4,u),this.Wa=Zn("forwardChannelMaxRetries",2,u),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new qs(u&&u.concurrentRequestLimit),this.Da=new Zc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=da.prototype,r.la=8,r.G=1,r.connect=function(u,p,y,w){it(0),this.W=u,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Ql(this,null,this.W),$n(this)};function kt(u){if(Ki(u),u.G==3){var p=u.U++,y=un(u.I);if(Qe(y,"SID",u.K),Qe(y,"RID",p),Qe(y,"TYPE","terminate"),Er(u,y),p=new xn(u,u.j,p),p.L=2,p.v=Xr(un(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=zl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ge(p)}jl(u)}function Ln(u){u.g&&(fa(u),u.g.cancel(),u.g=null)}function Ki(u){Ln(u),u.u&&(f.clearTimeout(u.u),u.u=null),Yi(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function $n(u){if(!ln(u.h)&&!u.s){u.s=!0;var p=u.Ga;je||ne(),ee||(je(),ee=!0),fe.add(p,u),u.B=0}}function eh(u,p){return Pl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Pn(k(u.Ga,u,p),Bl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const b=new xn(this,this.j,u);let j=this.o;if(this.S&&(j?(j=T(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(b.H=j,j=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=ts(this,b,p),y=un(this.I),Qe(y,"RID",u),Qe(y,"CVER",22),this.D&&Qe(y,"X-HTTP-Session-Id",this.D),Er(this,y),j&&(this.O?p="headers="+encodeURIComponent(String(Ar(j)))+"&"+p:this.m&&es(y,this.m,j)),aa(this.h,b),this.Ua&&Qe(y,"TYPE","init"),this.P?(Qe(y,"$req",p),Qe(y,"SID","null"),b.T=!0,Fi(b,y,null)):Fi(b,y,p),this.G=2}}else this.G==3&&(u?Wi(this,u):this.i.length==0||ln(this.h)||Wi(this))};function Wi(u,p){var y;p?y=p.l:y=u.U++;const w=un(u.I);Qe(w,"SID",u.K),Qe(w,"RID",y),Qe(w,"AID",u.T),Er(u,w),u.m&&u.o&&es(w,u.m,u.o),y=new xn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=ts(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),aa(u.h,y),Fi(y,w,p)}function Er(u,p){u.H&&Ie(u.H,function(y,w){Qe(p,w,y)}),u.l&&Hr({},function(y,w){Qe(p,w,y)})}function ts(u,p,y){y=Math.min(u.i.length,y);var w=u.l?k(u.l.Na,u.l,u):null;e:{var b=u.i;let j=-1;for(;;){const $=["count="+y];j==-1?0<y?(j=b[0].g,$.push("ofs="+j)):j=0:$.push("ofs="+j);let Be=!0;for(let gt=0;gt<y;gt++){let xe=b[gt].g;const wt=b[gt].map;if(xe-=j,0>xe)j=Math.max(0,b[gt].g-100),Be=!1;else try{Ll(wt,$,"req"+xe+"_")}catch{w&&w(wt)}}if(Be){w=$.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,w}function Js(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;je||ne(),ee||(je(),ee=!0),fe.add(p,u),u.v=0}}function Hi(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Pn(k(u.Fa,u),Bl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Fl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Pn(k(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ln(this),Fl(this))};function fa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Fl(u){u.g=new xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=un(u.qa);Qe(p,"RID","rpc"),Qe(p,"SID",u.K),Qe(p,"AID",u.T),Qe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(p,"TO",u.ja),Qe(p,"TYPE","xmlhttp"),Er(u,p),u.m&&u.o&&es(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Xr(un(p)),y.m=null,y.P=!0,ia(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Ln(this),Hi(this),it(19))};function Yi(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Ji(u,p){var y=null;if(u.g==p){Yi(u),fa(u),u.g=null;var w=2}else if(Gt(u.h,p))y=p.D,Nl(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var b=u.B;w=Bs(),mt(w,new Ui(w,y)),$n(u)}else Js(u);else if(b=p.s,b==3||b==0&&0<p.X||!(w==1&&eh(u,p)||w==2&&Hi(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),b){case 1:wr(u,5);break;case 4:wr(u,10);break;case 3:wr(u,6);break;default:wr(u,2)}}}function Bl(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function wr(u,p){if(u.j.info("Error code "+p),p==2){var y=k(u.fb,u),w=u.Xa;const b=!w;w=new vr(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ws(w,"https"),Xr(w),b?Xc(w.toString(),y):bl(w.toString(),y)}else it(2);u.G=0,u.l&&u.l.sa(p),jl(u),Ki(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function jl(u){if(u.G=0,u.ka=[],u.l){const p=Dl(u.h);(p.length!=0||u.i.length!=0)&&(Q(u.ka,p),Q(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function Ql(u,p,y){var w=y instanceof vr?un(y):new vr(y);if(w.g!="")p&&(w.g=p+"."+w.g),Yr(w,w.s);else{var b=f.location;w=b.protocol,p=p?p+"."+b.hostname:b.hostname,b=+b.port;var j=new vr(null);w&&Ws(j,w),p&&(j.g=p),b&&Yr(j,b),y&&(j.l=y),w=j}return y=u.D,p=u.ya,y&&p&&Qe(w,y,p),Qe(w,"VER",u.la),Er(u,w),w}function zl(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ye(new _r({eb:y})):new Ye(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pa(){}r=pa.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Xi(){}Xi.prototype.g=function(u,p){return new qt(u,p)};function qt(u,p){pt.call(this),this.g=new da(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!pe(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!pe(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new er(this)}z(qt,pt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){kt(this.g)},qt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Xo(u),u=y);p.i.push(new kl(p.Ya++,u)),p.G==3&&$n(p)},qt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,qt.aa.N.call(this)};function Gl(u){Hn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}z(Gl,Hn);function ql(){Oi.call(this),this.status=1}z(ql,Oi);function er(u){this.g=u}z(er,pa),er.prototype.ua=function(){mt(this.g,"a")},er.prototype.ta=function(u){mt(this.g,new Gl(u))},er.prototype.sa=function(u){mt(this.g,new ql)},er.prototype.ra=function(){mt(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Xv=function(){return new Xi},Jv=function(){return Bs()},Yv=Yn,Kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Xu=Li,Tl.COMPLETE="complete",Hv=Tl,Vi.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Qa=Vi,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Wv=Ye}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const ny="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new hf("@firebase/firestore");function Ao(){return vi.logLevel}function re(r,...e){if(vi.logLevel<=Re.DEBUG){const t=e.map(Tf);vi.debug(`Firestore (${Mo}): ${r}`,...t)}}function Fr(r,...e){if(vi.logLevel<=Re.ERROR){const t=e.map(Tf);vi.error(`Firestore (${Mo}): ${r}`,...t)}}function Po(r,...e){if(vi.logLevel<=Re.WARN){const t=e.map(Tf);vi.warn(`Firestore (${Mo}): ${r}`,...t)}}function Tf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+r;throw Fr(e),new Error(e)}function Fe(r,e){r||Ae()}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class tS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nS{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new br;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new br,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new br)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new Zv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new jt(e)}}class rS{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sS{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new rS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fe(this.o===void 0);const s=l=>{l.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,re("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new iS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=aS(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function No(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new _t(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new _t(0,0))}static max(){return new Ee(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(),s===void 0?s=e.length-t:s>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return nl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class He extends nl{construct(e,t,s){return new He(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new He(t)}static emptyPath(){return new He([])}}const lS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends nl{construct(e,t,s){return new xt(e,t,s)}static isValidIdentifier(e){return lS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new se(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new se(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new se(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new se(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(t)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(He.fromString(e))}static fromName(e){return new de(He.fromString(e).popFirst(5))}static empty(){return new de(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return He.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new He(e.slice()))}}function uS(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new _t(t+1,0):new _t(t,s));return new Rs(o,de.empty(),e)}function cS(r){return new Rs(r.readTime,r.key,-1)}class Rs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Rs(Ee.min(),de.empty(),-1)}static max(){return new Rs(Ee.max(),de.empty(),-1)}}function hS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(r.documentKey,e.documentKey),t!==0?t:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(r){if(r.code!==q.FAILED_PRECONDITION||r.message!==dS)throw r;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,s)=>{t(e)})}static reject(e){return new K((t,s)=>{s(e)})}static waitFor(e){return new K((t,s)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},g=>s(g))}),h=!0,l===o&&t()})}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next(o=>o?K.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new K((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const v=g;t(e[v]).next(E=>{h[v]=E,++f,f===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new K((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function pS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pc.oe=-1;function Nc(r){return r==null}function dc(r){return r===0&&1/r==-1/0}function mS(r){return typeof r=="number"&&Number.isInteger(r)&&!dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ry(e)),e=yS(r.get(t),e);return ry(e)}function yS(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function ry(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Os(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function e_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Dt.RED,this.left=o??Dt.EMPTY,this.right=l??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Dt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iy(this.data.getIterator())}getIteratorFrom(e){return new iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new mn([])}unionWith(e){let t=new At(xt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new t_("Invalid base64 string: "+l):l}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const vS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(r){if(Fe(!!r),typeof r=="string"){let e=0;const t=vS.exec(r);if(Fe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(r.seconds),nanos:at(r.nanos)}}function at(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ps(r){return typeof r=="string"?Vt.fromBase64String(r):Vt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dc(r){const e=r.mapValue.fields.__previous_value__;return Cf(e)?Dc(e):e}function rl(r){const e=ks(r.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,s,o,l,h,f,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v}}class sl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cf(r)?4:ES(r)?9007199254740991:AS(r)?10:11:Ae()}function cr(r,e){if(r===e)return!0;const t=Ns(r);if(t!==Ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return rl(r).isEqual(rl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ks(o.timestampValue),f=ks(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Ps(o.bytesValue).isEqual(Ps(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return at(o.geoPointValue.latitude)===at(l.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return at(o.integerValue)===at(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=at(o.doubleValue),f=at(l.doubleValue);return h===f?dc(h)===dc(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return No(r.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(sy(h)!==sy(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!cr(h[g],f[g])))return!1;return!0}(r,e);default:return Ae()}}function il(r,e){return(r.values||[]).find(t=>cr(t,e))!==void 0}function Do(r,e){if(r===e)return 0;const t=Ns(r),s=Ns(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(l,h){const f=at(l.integerValue||l.doubleValue),g=at(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return oy(r.timestampValue,e.timestampValue);case 4:return oy(rl(r),rl(e));case 5:return Ne(r.stringValue,e.stringValue);case 6:return function(l,h){const f=Ps(l),g=Ps(h);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const E=Ne(f[v],g[v]);if(E!==0)return E}return Ne(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const f=Ne(at(l.latitude),at(h.latitude));return f!==0?f:Ne(at(l.longitude),at(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ay(r.arrayValue,e.arrayValue);case 10:return function(l,h){var f,g,v,E;const C=l.fields||{},k=h.fields||{},F=(f=C.value)===null||f===void 0?void 0:f.arrayValue,z=(g=k.value)===null||g===void 0?void 0:g.arrayValue,X=Ne(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((E=z==null?void 0:z.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:ay(F,z)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===Qu.mapValue&&h===Qu.mapValue)return 0;if(l===Qu.mapValue)return 1;if(h===Qu.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let C=0;C<g.length&&C<E.length;++C){const k=Ne(g[C],E[C]);if(k!==0)return k;const F=Do(f[g[C]],v[E[C]]);if(F!==0)return F}return Ne(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Ae()}}function oy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const t=ks(r),s=ks(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function ay(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Do(t[o],s[o]);if(l)return l}return Ne(t.length,s.length)}function xo(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ks(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ps(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return de.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Wd(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Wd(t.fields[h])}`;return o+"}"}(r.mapValue):Ae()}function Zu(r){switch(Ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dc(r);return e?16+Zu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Zu(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Os(s.fields,(l,h)=>{o+=l.length+Zu(h)}),o}(r.mapValue);default:throw Ae()}}function ly(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Hd(r){return!!r&&"integerValue"in r}function Sf(r){return!!r&&"arrayValue"in r}function uy(r){return!!r&&"nullValue"in r}function cy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $u(r){return!!r&&"mapValue"in r}function AS(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ha(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Os(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ha(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ha(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ES(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!$u(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(t)}setAll(e){let t=xt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=Ha(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());$u(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];$u(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Os(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new on(Ha(this.value))}}function n_(r){const e=[];return Os(r.fields,(t,s)=>{const o=new xt([t]);if($u(s)){const l=n_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Qt(e,0,Ee.min(),Ee.min(),Ee.min(),on.empty(),0)}static newFoundDocument(e,t,s,o){return new Qt(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Ee.min(),Ee.min(),on.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Ee.min(),Ee.min(),on.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.position=e,this.inclusive=t}}function hy(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),t.key):s=Do(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function dy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!cr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function wS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{}class dt extends r_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new TS(e,t,s):t==="array-contains"?new RS(e,s):t==="in"?new kS(e,s):t==="not-in"?new PS(e,s):t==="array-contains-any"?new NS(e,s):new dt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new CS(e,s):new SS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Do(t,this.value)):t!==null&&Ns(this.value)===Ns(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends r_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Wn(e,t)}matches(e){return s_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function s_(r){return r.op==="and"}function i_(r){return IS(r)&&s_(r)}function IS(r){for(const e of r.filters)if(e instanceof Wn)return!1;return!0}function Yd(r){if(r instanceof dt)return r.field.canonicalString()+r.op.toString()+xo(r.value);if(i_(r))return r.filters.map(e=>Yd(e)).join(",");{const e=r.filters.map(t=>Yd(t)).join(",");return`${r.op}(${e})`}}function o_(r,e){return r instanceof dt?function(s,o){return o instanceof dt&&s.op===o.op&&s.field.isEqual(o.field)&&cr(s.value,o.value)}(r,e):r instanceof Wn?function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,f)=>l&&o_(h,o.filters[f]),!0):!1}(r,e):void Ae()}function a_(r){return r instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`}(r):r instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(a_).join(" ,")+"}"}(r):"Filter"}class TS extends dt{constructor(e,t,s){super(e,t,s),this.key=de.fromName(s.referenceValue)}matches(e){const t=de.comparator(e.key,this.key);return this.matchesComparison(t)}}class CS extends dt{constructor(e,t){super(e,"in",t),this.keys=l_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SS extends dt{constructor(e,t){super(e,"not-in",t),this.keys=l_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function l_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>de.fromName(s.referenceValue))}class RS extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sf(t)&&il(t.arrayValue,this.value)}}class kS extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&il(this.value.arrayValue,t)}}class PS extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!il(this.value.arrayValue,t)}}class NS extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>il(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function fy(r,e=null,t=[],s=[],o=null,l=null,h=null){return new DS(r,e,t,s,o,l,h)}function Rf(r){const e=we(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Yd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Nc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>xo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>xo(s)).join(",")),e.ue=t}return e.ue}function kf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!wS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!o_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dy(r.startAt,e.startAt)&&dy(r.endAt,e.endAt)}function Jd(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xS(r,e,t,s,o,l,h,f){return new jo(r,e,t,s,o,l,h,f)}function Pf(r){return new jo(r)}function py(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u_(r){return r.collectionGroup!==null}function Ya(r){const e=we(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new At(xt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new ol(l,s))}),t.has(xt.keyField().canonicalString())||e.ce.push(new ol(xt.keyField(),s))}return e.ce}function lr(r){const e=we(r);return e.le||(e.le=VS(e,Ya(r))),e.le}function VS(r,e){if(r.limitType==="F")return fy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new ol(o.field,l)});const t=r.endAt?new fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fc(r.startAt.position,r.startAt.inclusive):null;return fy(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Xd(r,e){const t=r.filters.concat([e]);return new jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Zd(r,e,t){return new jo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function xc(r,e){return kf(lr(r),lr(e))&&r.limitType===e.limitType}function c_(r){return`${Rf(lr(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>a_(o)).join(", ")}]`),Nc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>xo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>xo(o)).join(",")),`Target(${s})`}(lr(r))}; limitType=${r.limitType})`}function Vc(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):de.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of Ya(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,g){const v=hy(h,f,g);return h.inclusive?v<=0:v<0}(s.startAt,Ya(s),o)||s.endAt&&!function(h,f,g){const v=hy(h,f,g);return h.inclusive?v>=0:v>0}(s.endAt,Ya(s),o))}(r,e)}function OS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function h_(r){return(e,t)=>{let s=!1;for(const o of Ya(r)){const l=US(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function US(r,e,t){const s=r.field.isKeyField()?de.comparator(e.key,t.key):function(l,h,f){const g=h.data.field(l),v=f.data.field(l);return g!==null&&v!==null?Do(g,v):Ae()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return e_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new et(de.comparator);function Br(){return bS}const d_=new et(de.comparator);function za(...r){let e=d_;for(const t of r)e=e.insert(t.key,t);return e}function f_(r){let e=d_;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function di(){return Ja()}function p_(){return Ja()}function Ja(){return new Ti(r=>r.toString(),(r,e)=>r.isEqual(e))}const LS=new et(de.comparator),MS=new At(de.comparator);function ke(...r){let e=MS;for(const t of r)e=e.add(t);return e}const FS=new At(Ne);function BS(){return FS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function m_(r){return{integerValue:""+r}}function jS(r,e){return mS(e)?m_(e):Nf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this._=void 0}}function QS(r,e,t){return r instanceof pc?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Cf(l)&&(l=Dc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):r instanceof al?y_(r,e):r instanceof ll?v_(r,e):function(o,l){const h=g_(o,l),f=my(h)+my(o.Pe);return Hd(h)&&Hd(o.Pe)?m_(f):Nf(o.serializer,f)}(r,e)}function zS(r,e,t){return r instanceof al?y_(r,e):r instanceof ll?v_(r,e):t}function g_(r,e){return r instanceof mc?function(s){return Hd(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class pc extends Oc{}class al extends Oc{constructor(e){super(),this.elements=e}}function y_(r,e){const t=__(e);for(const s of r.elements)t.some(o=>cr(o,s))||t.push(s);return{arrayValue:{values:t}}}class ll extends Oc{constructor(e){super(),this.elements=e}}function v_(r,e){let t=__(e);for(const s of r.elements)t=t.filter(o=>!cr(o,s));return{arrayValue:{values:t}}}class mc extends Oc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function my(r){return at(r.integerValue||r.doubleValue)}function __(r){return Sf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function GS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof al&&o instanceof al||s instanceof ll&&o instanceof ll?No(s.elements,o.elements,cr):s instanceof mc&&o instanceof mc?cr(s.Pe,o.Pe):s instanceof pc&&o instanceof pc}(r.transform,e.transform)}class qS{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uc{}function A_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Df(r.key,Kn.none()):new vl(r.key,r.data,Kn.none());{const t=r.data,s=on.empty();let o=new At(xt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Us(r.key,s,new mn(o.toArray()),Kn.none())}}function KS(r,e,t){r instanceof vl?function(o,l,h){const f=o.value.clone(),g=yy(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Us?function(o,l,h){if(!ec(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=yy(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(E_(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Xa(r,e,t,s){return r instanceof vl?function(l,h,f,g){if(!ec(l.precondition,h))return f;const v=l.value.clone(),E=vy(l.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(r,e,t,s):r instanceof Us?function(l,h,f,g){if(!ec(l.precondition,h))return f;const v=vy(l.fieldTransforms,g,h),E=h.data;return E.setAll(E_(l)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(C=>C.field))}(r,e,t,s):function(l,h,f){return ec(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function WS(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=g_(s.transform,o||null);l!=null&&(t===null&&(t=on.empty()),t.set(s.field,l))}return t||null}function gy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,(l,h)=>GS(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vl extends Uc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Us extends Uc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function E_(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function yy(r,e,t){const s=new Map;Fe(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,zS(h,f,t[o]))}return s}function vy(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,QS(l,h,e))}return s}class Df extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HS extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&KS(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Xa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Xa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=p_();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=A_(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(t,s)=>gy(t,s))&&No(this.baseMutations,e.baseMutations,(t,s)=>gy(t,s))}}class xf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length);let o=function(){return LS}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new xf(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ve;function ZS(r){switch(r){default:return Ae();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function w_(r){if(r===void 0)return Fr("GRPC error has no .code"),q.UNKNOWN;switch(r){case ht.OK:return q.OK;case ht.CANCELLED:return q.CANCELLED;case ht.UNKNOWN:return q.UNKNOWN;case ht.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ht.INTERNAL:return q.INTERNAL;case ht.UNAVAILABLE:return q.UNAVAILABLE;case ht.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ht.NOT_FOUND:return q.NOT_FOUND;case ht.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ht.ABORTED:return q.ABORTED;case ht.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ht.DATA_LOSS:return q.DATA_LOSS;default:return Ae()}}(Ve=ht||(ht={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new fi([4294967295,4294967295],0);function _y(r){const e=$S().encode(r),t=new Kv;return t.update(e),new Uint8Array(t.digest())}function Ay(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fi([t,s],0),new fi([o,l],0)]}class Vf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ga(`Invalid padding: ${t}`);if(s<0)throw new Ga(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=fi.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(fi.fromNumber(s)));return o.compare(eR)===1&&(o=new fi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=_y(e),[s,o]=Ay(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Vf(l,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=_y(e),[s,o]=Ay(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(s,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new bc(Ee.min(),o,new et(Ne),Br(),ke())}}class _l{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new _l(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class I_{constructor(e,t){this.targetId=e,this.me=t}}class T_{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Ey{constructor(){this.fe=0,this.ge=wy(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),t=ke(),s=ke();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae()}}),new _l(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=wy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=zu(),this.Qe=zu(),this.Ke=new et(Ne)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Jd(l))if(s===0){const h=new de(l.path);this.We(t,h,Qt.newNoDocument(h,Ee.min()))}else Fe(s===1);else{const h=this.Ze(t);if(h!==s){const f=this.Xe(e),g=f?this.et(f,e,h):1;if(g!==0){this.He(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,v)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Ps(s).toUint8Array()}catch(g){if(g instanceof t_)return Po("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Vf(h,o,l)}catch(g){return Po(g instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Te===0?null:f}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&Jd(f.target)){const g=new de(f.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Qt.newNoDocument(g,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let s=ke();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(g=>{const v=this.Ye(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new bc(e,t,this.Ke,this.ke,s);return this.ke=Br(),this.qe=zu(),this.Qe=zu(),this.Ke=new et(Ne),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Ey,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new At(Ne),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(Ne),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||re("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ey),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function zu(){return new et(de.comparator)}function wy(){return new et(de.comparator)}const nR={asc:"ASCENDING",desc:"DESCENDING"},rR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sR={and:"AND",or:"OR"};class iR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $d(r,e){return r.useProto3Json||Nc(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function oR(r,e){return gc(r,e.toTimestamp())}function ur(r){return Fe(!!r),Ee.fromTimestamp(function(t){const s=ks(t);return new _t(s.seconds,s.nanos)}(r))}function Of(r,e){return ef(r,e).canonicalString()}function ef(r,e){const t=function(o){return new He(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function S_(r){const e=He.fromString(r);return Fe(D_(e)),e}function tf(r,e){return Of(r.databaseId,e.path)}function xd(r,e){const t=S_(e);if(t.get(1)!==r.databaseId.projectId)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new de(k_(t))}function R_(r,e){return Of(r.databaseId,e)}function aR(r){const e=S_(r);return e.length===4?He.emptyPath():k_(e)}function nf(r){return new He(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function k_(r){return Fe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Iy(r,e,t){return{name:tf(r,e),fields:t.value.mapValue.fields}}function lR(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(v,E){return v.useProto3Json?(Fe(E===void 0||typeof E=="string"),Vt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Vt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const E=v.code===void 0?q.UNKNOWN:w_(v.code);return new se(E,v.message||"")}(h);t=new T_(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xd(r,s.document.name),l=ur(s.document.updateTime),h=s.document.createTime?ur(s.document.createTime):Ee.min(),f=new on({mapValue:{fields:s.document.fields}}),g=Qt.newFoundDocument(o,l,h,f),v=s.targetIds||[],E=s.removedTargetIds||[];t=new tc(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xd(r,s.document),l=s.readTime?ur(s.readTime):Ee.min(),h=Qt.newNoDocument(o,l),f=s.removedTargetIds||[];t=new tc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xd(r,s.document),l=s.removedTargetIds||[];t=new tc([],l,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new XS(o,l),f=s.targetId;t=new I_(f,h)}}return t}function uR(r,e){let t;if(e instanceof vl)t={update:Iy(r,e.key,e.value)};else if(e instanceof Df)t={delete:tf(r,e.key)};else if(e instanceof Us)t={update:Iy(r,e.key,e.data),updateMask:vR(e.fieldMask)};else{if(!(e instanceof HS))return Ae();t={verify:tf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const f=h.transform;if(f instanceof pc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof al)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ll)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof mc)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Ae()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:oR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()}(r,e.precondition)),t}function cR(r,e){return r&&r.length>0?(Fe(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?ur(o.updateTime):ur(l);return h.isEqual(Ee.min())&&(h=ur(l)),new qS(h,o.transformResults||[])}(t,e))):[]}function hR(r,e){return{documents:[R_(r,e.path)]}}function dR(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=R_(r,o);const l=function(v){if(v.length!==0)return N_(Wn.create(v,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(v){if(v.length!==0)return v.map(E=>function(k){return{field:wo(k.field),direction:mR(k.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=$d(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:t,parent:o}}function fR(r){let e=aR(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(C){const k=P_(C);return k instanceof Wn&&i_(k)?k.getFilters():[k]}(t.where));let h=[];t.orderBy&&(h=function(C){return C.map(k=>function(z){return new ol(Io(z.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(k))}(t.orderBy));let f=null;t.limit&&(f=function(C){let k;return k=typeof C=="object"?C.value:C,Nc(k)?null:k}(t.limit));let g=null;t.startAt&&(g=function(C){const k=!!C.before,F=C.values||[];return new fc(F,k)}(t.startAt));let v=null;return t.endAt&&(v=function(C){const k=!C.before,F=C.values||[];return new fc(F,k)}(t.endAt)),xS(e,o,h,l,f,"F",g,v)}function pR(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function P_(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Io(t.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(t.unaryFilter.field);return dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Io(t.unaryFilter.field);return dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Io(t.unaryFilter.field);return dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(r):r.fieldFilter!==void 0?function(t){return dt.create(Io(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(s=>P_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(r):Ae()}function mR(r){return nR[r]}function gR(r){return rR[r]}function yR(r){return sR[r]}function wo(r){return{fieldPath:r.canonicalString()}}function Io(r){return xt.fromServerFormat(r.fieldPath)}function N_(r){return r instanceof dt?function(t){if(t.op==="=="){if(cy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(uy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(uy(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:gR(t.op),value:t.value}}}(r):r instanceof Wn?function(t){const s=t.getFilters().map(o=>N_(o));return s.length===1?s[0]:{compositeFilter:{op:yR(t.op),filters:s}}}(r):Ae()}function vR(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function D_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,s,o,l=Ee.min(),h=Ee.min(),f=Vt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.ht=e}}function AR(r){const e=fR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.ln=new wR}addToCollectionParentIndex(e,t){return this.ln.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Rs.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class wR{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new At(He.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new At(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Vo(0)}static Qn(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy([r,e],[t,s]){const o=Ne(r,t);return o===0?Ne(e,s):o}class IR{constructor(e){this.Gn=e,this.buffer=new At(Cy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Cy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TR{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Fo(t)}await this.Yn(3e5)})}}class CR{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Pc.oe);const s=new IR(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Ty)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ty):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,l,h,f,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,h=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,f=Date.now(),this.removeTargets(e,s,t))).next(C=>(l=C,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(v=Date.now(),Ao()<=Re.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${C} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:C})))}}function SR(r,e){return new CR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.changes=new Ti(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Xa(s.mutation,o,mn.empty(),_t.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=di();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=za();return l.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=di();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let l=Br();const h=Ja(),f=function(){return Ja()}();return t.forEach((g,v)=>{const E=s.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof Us)?l=l.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),Xa(E.mutation,v,E.mutation.getFieldMask(),_t.now())):h.set(v.key,mn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((v,E)=>h.set(v,E)),t.forEach((v,E)=>{var C;return f.set(v,new kR(E,(C=h.get(v))!==null&&C!==void 0?C:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Ja();let o=new et((h,f)=>h-f),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let E=s.get(g)||mn.empty();E=f.applyToLocalView(v,E),s.set(g,E);const C=(o.get(f.batchId)||ke()).add(g);o=o.insert(f.batchId,C)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,E=g.value,C=p_();E.forEach(k=>{if(!l.has(k)){const F=A_(t.get(k),s.get(k));F!==null&&C.set(k,F),l=l.add(k)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,C))}return K.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):u_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):K.resolve(di());let f=-1,g=l;return h.next(v=>K.forEach(v,(E,C)=>(f<C.largestBatchId&&(f=C.largestBatchId),l.get(E)?K.resolve():this.remoteDocumentCache.getEntry(e,E).next(k=>{g=g.insert(E,k)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,g,v,ke())).next(E=>({batchId:f,changes:f_(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next(s=>{let o=za();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=za();return this.indexManager.getCollectionParents(e,l).next(f=>K.forEach(f,g=>{const v=function(C,k){return new jo(k,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(E=>{E.forEach((C,k)=>{h=h.insert(C,k)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,Qt.newInvalidDocument(E)))});let f=za();return h.forEach((g,v)=>{const E=l.get(g);E!==void 0&&Xa(E.mutation,v,mn.empty(),_t.now()),Vc(t,v)&&(f=f.insert(g,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return K.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ur(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:AR(o.bundledQuery),readTime:ur(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.overlays=new et(de.comparator),this.Er=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=di();return K.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Tt(e,t,l)}),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=di(),l=t.length+1,h=new de(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new et((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let E=l.get(v.largestBatchId);E===null&&(E=di(),l=l.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const f=di(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>f.set(v,E)),!(f.size()>=o)););return K.resolve(f)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new JS(t,s));let l=this.Er.get(t);l===void 0&&(l=ke(),this.Er.set(t,l)),this.Er.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this.dr=new At(St.Ar),this.Rr=new At(St.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new St(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new St(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new de(new He([])),s=new St(t,e),o=new St(t,e+1),l=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new de(new He([])),s=new St(t,e),o=new St(t,e+1);let l=ke();return this.Rr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new St(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return de.comparator(e.key,t.key)||Ne(e.br,t.br)}static Vr(e,t){return Ne(e.br,t.br)||de.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new At(St.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new YS(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new St(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new St(t,0),o=new St(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,o],h=>{const f=this.Cr(h.br);l.push(f)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new At(Ne);return t.forEach(o=>{const l=new St(o,0),h=new St(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{s=s.add(f.br)})}),K.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;de.isDocumentKey(l)||(l=l.child(""));const h=new St(new de(l),0);let f=new At(Ne);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.br)),!0)},h),K.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return K.forEach(t.mutations,o=>{const l=new St(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new St(t,0),o=this.vr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.Nr=e,this.docs=function(){return new et(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let s=Br();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Qt.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Br();const h=t.path,f=new de(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||hS(cS(E),s)<=0||(o.has(E.key)||Vc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ae()}Lr(e,t){return K.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new UR(this)}getSize(e){return K.resolve(this.size)}}class UR extends RR{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),K.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.persistence=e,this.Br=new Ti(t=>Rf(t),kf),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.kr=0,this.qr=new Uf,this.targetCount=0,this.Qr=Vo.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),K.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Vo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Un(t),K.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),K.waitFor(l).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Pc(0),this.Ur=!1,this.Ur=!0,this.Wr=new xR,this.referenceDelegate=e(this),this.Gr=new bR(this),this.indexManager=new ER,this.remoteDocumentCache=function(o){return new OR(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new _R(t),this.jr=new NR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new VR(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){re("MemoryPersistence","Starting transaction:",e);const o=new LR(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return K.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class LR extends fS{constructor(e){super(),this.currentSequenceNumber=e}}class bf{constructor(e){this.persistence=e,this.Zr=new Uf,this.Xr=null}static ei(e){return new bf(e)}get ti(){if(this.Xr)return this.Xr;throw Ae()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),K.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,s=>{const o=de.fromPath(s);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ee.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return K.or([()=>K.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class yc{constructor(e,t){this.persistence=e,this.ri=new Ti(s=>gS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=SR(this,t)}static ei(e,t){return new yc(e,t)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return K.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(l=>l?K.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(s++,l.removeEntry(h,Ee.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),K.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zu(e.data.value)),t}ir(e,t,s){return K.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Lf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return cw()?8:pS(zt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new MR;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(Ao()<=Re.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(Ao()<=Re.DEBUG&&re("QueryEngine","Query:",Eo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(Ao()<=Re.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(t))):K.resolve())}Xi(e,t){if(py(t))return K.resolve(null);let s=lr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Zd(t,null,"F"),s=lr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=ke(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(t,f);return this.ss(t,v,h,g.readTime)?this.Xi(e,Zd(t,null,"F")):this.os(e,v,t,g)}))})))}es(e,t,s,o){return py(t)||o.isEqual(Ee.min())?K.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const h=this.rs(t,l);return this.ss(t,h,s,o)?K.resolve(null):(Ao()<=Re.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.os(e,h,t,uS(o,-1)).next(f=>f))})}rs(e,t){let s=new At(h_(e));return t.forEach((o,l)=>{Vc(e,l)&&(s=s.add(l))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,s){return Ao()<=Re.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Rs.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new et(Ne),this.cs=new Ti(l=>Rf(l),kf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PR(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function jR(r,e,t,s){return new BR(r,e,t,s)}async function V_(r,e){const t=we(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],f=[];let g=ke();for(const v of o){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of l){f.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:f}))})})}function QR(r,e){const t=we(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,g,v,E){const C=v.batch,k=C.keys();let F=K.resolve();return k.forEach(z=>{F=F.next(()=>E.getEntry(g,z)).next(X=>{const Q=v.docVersions.get(z);Fe(Q!==null),X.version.compareTo(Q)<0&&(C.applyToRemoteDocument(X,v),X.isValidDocument()&&(X.setReadTime(v.commitVersion),E.addEntry(X)))})}),F.next(()=>f.mutationQueue.removeMutationBatch(g,C))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=ke();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function O_(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function zR(r,e){const t=we(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((E,C)=>{const k=o.get(C);if(!k)return;f.push(t.Gr.removeMatchingKeys(l,E.removedDocuments,C).next(()=>t.Gr.addMatchingKeys(l,E.addedDocuments,C)));let F=k.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(C)!==null?F=F.withResumeToken(Vt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,s)),o=o.insert(C,F),function(X,Q,ye){return X.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0}(k,F,E)&&f.push(t.Gr.updateTargetData(l,F))});let g=Br(),v=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),f.push(GR(l,h,e.documentUpdates).next(E=>{g=E.Is,v=E.Es})),!s.isEqual(Ee.min())){const E=t.Gr.getLastRemoteSnapshotVersion(l).next(C=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(E)}return K.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,v)).next(()=>g)}).then(l=>(t.us=o,l))}function GR(r,e,t){let s=ke(),o=ke();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=Br();return t.forEach((f,g)=>{const v=l.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)}),{Is:h,Es:o}})}function qR(r,e){const t=we(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function KR(r,e){const t=we(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(l=>l?(o=l,K.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new ws(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function rf(r,e,t){const s=we(r),o=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Bo(h))throw h;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Sy(r,e,t){const s=we(r);let o=Ee.min(),l=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const C=we(g),k=C.cs.get(E);return k!==void 0?K.resolve(C.us.get(k)):C.Gr.getTargetData(v,E)}(s,h,lr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{l=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Ee.min(),t?l:ke())).next(f=>(WR(s,OS(e),f),{documents:f,ds:l})))}function WR(r,e,t){let s=r.ls.get(e)||Ee.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.ls.set(e,s)}class Ry{constructor(){this.activeTargetIds=BS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HR{constructor(){this._o=new Ry,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Ry,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function Vd(){return Gu===null?Gu=function(){return 268435456+Math.round(2147483648*Math.random())}():Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class ZR extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,s,o,l,h){const f=Vd(),g=this.No(t,s.toUriEncodedString());re("RestConnection",`Sending RPC '${t}' ${f}:`,g,o);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,l,h),this.Bo(t,g,v,o).then(E=>(re("RestConnection",`Received RPC '${t}' ${f}: `,E),E),E=>{throw Po("RestConnection",`RPC '${t}' ${f} failed with error: `,E,"url: ",g,"request:",o),E})}ko(t,s,o,l,h,f){return this.Oo(t,s,o,l,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,s){const o=JR[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const l=Vd();return new Promise((h,f)=>{const g=new Wv;g.setWithCredentials(!0),g.listenOnce(Hv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Xu.NO_ERROR:const E=g.getResponseJson();re(Bt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case Xu.TIMEOUT:re(Bt,`RPC '${e}' ${l} timed out`),f(new se(q.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const C=g.getStatus();if(re(Bt,`RPC '${e}' ${l} failed with status:`,C,"response text:",g.getResponseText()),C>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k==null?void 0:k.error;if(F&&F.status&&F.message){const z=function(Q){const ye=Q.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(ye)>=0?ye:q.UNKNOWN}(F.status);f(new se(z,F.message))}else f(new se(q.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new se(q.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{re(Bt,`RPC '${e}' ${l} completed.`)}});const v=JSON.stringify(o);re(Bt,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",v,s,15)})}qo(e,t,s){const o=Vd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Xv(),f=Jv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=l.join("");re(Bt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const C=h.createWebChannel(E,g);let k=!1,F=!1;const z=new XR({Eo:Q=>{F?re(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(k||(re(Bt,`Opening RPC '${e}' stream ${o} transport.`),C.open(),k=!0),re(Bt,`RPC '${e}' stream ${o} sending:`,Q),C.send(Q))},Ao:()=>C.close()}),X=(Q,ye,pe)=>{Q.listen(ye,ue=>{try{pe(ue)}catch(ce){setTimeout(()=>{throw ce},0)}})};return X(C,Qa.EventType.OPEN,()=>{F||(re(Bt,`RPC '${e}' stream ${o} transport opened.`),z.So())}),X(C,Qa.EventType.CLOSE,()=>{F||(F=!0,re(Bt,`RPC '${e}' stream ${o} transport closed`),z.Do())}),X(C,Qa.EventType.ERROR,Q=>{F||(F=!0,Po(Bt,`RPC '${e}' stream ${o} transport errored:`,Q),z.Do(new se(q.UNAVAILABLE,"The operation could not be completed")))}),X(C,Qa.EventType.MESSAGE,Q=>{var ye;if(!F){const pe=Q.data[0];Fe(!!pe);const ue=pe,ce=(ue==null?void 0:ue.error)||((ye=ue[0])===null||ye===void 0?void 0:ye.error);if(ce){re(Bt,`RPC '${e}' stream ${o} received error:`,ce);const Ue=ce.status;let Ie=function(R){const N=ht[R];if(N!==void 0)return w_(N)}(Ue),x=ce.message;Ie===void 0&&(Ie=q.INTERNAL,x="Unknown error status: "+Ue+" with message "+ce.message),F=!0,z.Do(new se(Ie,x)),C.close()}else re(Bt,`RPC '${e}' stream ${o} received:`,pe),z.vo(pe)}}),X(f,Yv.STAT_EVENT,Q=>{Q.stat===Kd.PROXY?re(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===Kd.NOPROXY&&re(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.bo()},0),z}}function Od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r){return new iR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t,s=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t,s,o,l,h,f,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new U_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new se(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $R extends b_{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=lR(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ee.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?ur(h.readTime):Ee.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=nf(this.serializer),t.addTarget=function(l,h){let f;const g=h.target;if(f=Jd(g)?{documents:hR(l,g)}:{query:dR(l,g).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=C_(l,h.resumeToken);const v=$d(l,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){f.readTime=gc(l,h.snapshotVersion.toTimestamp());const v=$d(l,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=pR(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=nf(this.serializer),t.removeTarget=e,this.c_(t)}}class ek extends b_{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=cR(e.writeResults,e.commitTime),s=ur(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=nf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>uR(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,ef(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(q.UNKNOWN,l.toString())})}ko(e,t,s,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,ef(t,s),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new se(q.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class nk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Fr(t),this.C_=!1):re("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Ci(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=we(g);v.k_.add(4),await Al(v),v.K_.set("Unknown"),v.k_.delete(4),await Mc(v)}(this))})}),this.K_=new nk(s,o)}}async function Mc(r){if(Ci(r))for(const e of r.q_)await e(!0)}async function Al(r){for(const e of r.q_)await e(!1)}function L_(r,e){const t=we(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),jf(t)?Bf(t):Qo(t).s_()&&Ff(t,e))}function Mf(r,e){const t=we(r),s=Qo(t);t.B_.delete(e),s.s_()&&M_(t,e),t.B_.size===0&&(s.s_()?s.a_():Ci(t)&&t.K_.set("Unknown"))}function Ff(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qo(r).V_(e)}function M_(r,e){r.U_.xe(e),Qo(r).m_(e)}function Bf(r){r.U_=new tR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Qo(r).start(),r.K_.F_()}function jf(r){return Ci(r)&&!Qo(r).i_()&&r.B_.size>0}function Ci(r){return we(r).k_.size===0}function F_(r){r.U_=void 0}async function sk(r){r.K_.set("Online")}async function ik(r){r.B_.forEach((e,t)=>{Ff(r,e)})}async function ok(r,e){F_(r),jf(r)?(r.K_.O_(e),Bf(r)):r.K_.set("Unknown")}async function ak(r,e,t){if(r.K_.set("Online"),e instanceof T_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(r,e)}catch(s){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vc(r,s)}else if(e instanceof tc?r.U_.$e(e):e instanceof I_?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Ee.min()))try{const s=await O_(r.localStore);t.compareTo(s)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.B_.get(v);E&&l.B_.set(v,E.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,v)=>{const E=l.B_.get(g);if(!E)return;l.B_.set(g,E.withResumeToken(Vt.EMPTY_BYTE_STRING,E.snapshotVersion)),M_(l,g);const C=new ws(E.target,g,v,E.sequenceNumber);Ff(l,C)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){re("RemoteStore","Failed to raise snapshot:",s),await vc(r,s)}}async function vc(r,e,t){if(!Bo(e))throw e;r.k_.add(1),await Al(r),r.K_.set("Offline"),t||(t=()=>O_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Mc(r)})}function B_(r,e){return e().catch(t=>vc(r,t,e))}async function Fc(r){const e=we(r),t=Ds(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;lk(e);)try{const o=await qR(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,uk(e,o)}catch(o){await vc(e,o)}j_(e)&&Q_(e)}function lk(r){return Ci(r)&&r.L_.length<10}function uk(r,e){r.L_.push(e);const t=Ds(r);t.s_()&&t.f_&&t.g_(e.mutations)}function j_(r){return Ci(r)&&!Ds(r).i_()&&r.L_.length>0}function Q_(r){Ds(r).start()}async function ck(r){Ds(r).w_()}async function hk(r){const e=Ds(r);for(const t of r.L_)e.g_(t.mutations)}async function dk(r,e,t){const s=r.L_.shift(),o=xf.from(s,e,t);await B_(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Fc(r)}async function fk(r,e){e&&Ds(r).f_&&await async function(s,o){if(function(h){return ZS(h)&&h!==q.ABORTED}(o.code)){const l=s.L_.shift();Ds(s).__(),await B_(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Fc(s)}}(r,e),j_(r)&&Q_(r)}async function Py(r,e){const t=we(r);t.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const s=Ci(t);t.k_.add(3),await Al(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Mc(t)}async function pk(r,e){const t=we(r);e?(t.k_.delete(2),await Mc(t)):e||(t.k_.add(2),await Al(t),t.K_.set("Unknown"))}function Qo(r){return r.W_||(r.W_=function(t,s,o){const l=we(t);return l.b_(),new $R(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:sk.bind(null,r),mo:ik.bind(null,r),po:ok.bind(null,r),R_:ak.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),jf(r)?Bf(r):r.K_.set("Unknown")):(await r.W_.stop(),F_(r))})),r.W_}function Ds(r){return r.G_||(r.G_=function(t,s,o){const l=we(t);return l.b_(),new ek(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:ck.bind(null,r),po:fk.bind(null,r),p_:hk.bind(null,r),y_:dk.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Fc(r)):(await r.G_.stop(),r.L_.length>0&&(re("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new Qf(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zf(r,e){if(Fr("AsyncQueue",`${e}: ${r}`),Bo(r))return new se(q.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||de.comparator(t.key,s.key):(t,s)=>de.comparator(t.key,s.key),this.keyedMap=za(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.z_=new et(de.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ae():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Oo{constructor(e,t,s,o,l,h,f,g,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new Oo(e,t,ko.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class gk{constructor(){this.queries=Dy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=we(t),l=o.queries;o.queries=Dy(),l.forEach((h,f)=>{for(const g of f.J_)g.onError(s)})})(this,new se(q.ABORTED,"Firestore shutting down"))}}function Dy(){return new Ti(r=>c_(r),xc)}async function z_(r,e){const t=we(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(s=2):(l=new mk,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=zf(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Gf(t)}async function G_(r,e){const t=we(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function yk(r,e){const t=we(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(o)&&(s=!0);h.H_=o}}s&&Gf(t)}function vk(r,e,t){const s=we(r),o=s.queries.get(e);if(o)for(const l of o.J_)l.onError(t);s.queries.delete(e)}function Gf(r){r.X_.forEach(e=>{e.next()})}var sf,xy;(xy=sf||(sf={})).na="default",xy.Cache="cache";class q_{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==sf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this.key=e}}class W_{constructor(e){this.key=e}}class _k{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=h_(e),this.ma=new ko(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new Ny,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,C)=>{const k=o.get(E),F=Vc(this.query,C)?C:null,z=!!k&&this.mutatedKeys.has(k.key),X=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Q=!1;k&&F?k.data.isEqual(F.data)?z!==X&&(s.track({type:3,doc:F}),Q=!0):this.ya(k,F)||(s.track({type:2,doc:F}),Q=!0,(g&&this.Va(F,g)>0||v&&this.Va(F,v)<0)&&(f=!0)):!k&&F?(s.track({type:0,doc:F}),Q=!0):k&&!F&&(s.track({type:1,doc:k}),Q=!0,(g||v)&&(f=!0)),Q&&(F?(h=h.add(F),l=X?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,C)=>function(F,z){const X=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return X(F)-X(z)}(E.type,C.type)||this.Va(E.doc,C.doc)),this.wa(s),o=o!=null&&o;const f=t&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,v=g!==this.Aa;return this.Aa=g,h.length!==0||v?{snapshot:new Oo(this.query,e.ma,l,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ny,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new W_(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new K_(s))}),t}va(e){this.da=e.ds,this.Ra=ke();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Oo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Ak{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Ek{constructor(e){this.key=e,this.Fa=!1}}class wk{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Ti(f=>c_(f),xc),this.Oa=new Map,this.Na=new Set,this.La=new et(de.comparator),this.Ba=new Map,this.ka=new Uf,this.qa={},this.Qa=new Map,this.Ka=Vo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Ik(r,e,t=!0){const s=$_(r);let o;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await H_(s,e,t,!0),o}async function Tk(r,e){const t=$_(r);await H_(t,e,!0,!1)}async function H_(r,e,t,s){const o=await KR(r.localStore,lr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await Ck(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&L_(r.remoteStore,o),f}async function Ck(r,e,t,s,o){r.Ua=(C,k,F)=>async function(X,Q,ye,pe){let ue=Q.view.ga(ye);ue.ss&&(ue=await Sy(X.localStore,Q.query,!1).then(({documents:x})=>Q.view.ga(x,ue)));const ce=pe&&pe.targetChanges.get(Q.targetId),Ue=pe&&pe.targetMismatches.get(Q.targetId)!=null,Ie=Q.view.applyChanges(ue,X.isPrimaryClient,ce,Ue);return Oy(X,Q.targetId,Ie.ba),Ie.snapshot}(r,C,k,F);const l=await Sy(r.localStore,e,!0),h=new _k(e,l.ds),f=h.ga(l.documents),g=_l.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=h.applyChanges(f,r.isPrimaryClient,g);Oy(r,t,v.ba);const E=new Ak(e,t,h);return r.xa.set(e,E),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),v.snapshot}async function Sk(r,e,t){const s=we(r),o=s.xa.get(e),l=s.Oa.get(o.targetId);if(l.length>1)return s.Oa.set(o.targetId,l.filter(h=>!xc(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Mf(s.remoteStore,o.targetId),of(s,o.targetId)}).catch(Fo)):(of(s,o.targetId),await rf(s.localStore,o.targetId,!0))}async function Rk(r,e){const t=we(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Mf(t.remoteStore,s.targetId))}async function kk(r,e,t){const s=Uk(r);try{const o=await function(h,f){const g=we(h),v=_t.now(),E=f.reduce((F,z)=>F.add(z.key),ke());let C,k;return g.persistence.runTransaction("Locally write mutations","readwrite",F=>{let z=Br(),X=ke();return g.hs.getEntries(F,E).next(Q=>{z=Q,z.forEach((ye,pe)=>{pe.isValidDocument()||(X=X.add(ye))})}).next(()=>g.localDocuments.getOverlayedDocuments(F,z)).next(Q=>{C=Q;const ye=[];for(const pe of f){const ue=WS(pe,C.get(pe.key).overlayedDocument);ue!=null&&ye.push(new Us(pe.key,ue,n_(ue.value.mapValue),Kn.exists(!0)))}return g.mutationQueue.addMutationBatch(F,v,ye,f)}).next(Q=>{k=Q;const ye=Q.applyToLocalDocumentSet(C,X);return g.documentOverlayCache.saveOverlays(F,Q.batchId,ye)})}).then(()=>({batchId:k.batchId,changes:f_(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let v=h.qa[h.currentUser.toKey()];v||(v=new et(Ne)),v=v.insert(f,g),h.qa[h.currentUser.toKey()]=v}(s,o.batchId,t),await El(s,o.changes),await Fc(s.remoteStore)}catch(o){const l=zf(o,"Failed to persist write");t.reject(l)}}async function Y_(r,e){const t=we(r);try{const s=await zR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?Fe(h.Fa):o.removedDocuments.size>0&&(Fe(h.Fa),h.Fa=!1))}),await El(t,s,e)}catch(s){await Fo(s)}}function Vy(r,e,t){const s=we(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=we(h);g.onlineState=f;let v=!1;g.queries.forEach((E,C)=>{for(const k of C.J_)k.ea(f)&&(v=!0)}),v&&Gf(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Pk(r,e,t){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),l=o&&o.key;if(l){let h=new et(de.comparator);h=h.insert(l,Qt.newNoDocument(l,Ee.min()));const f=ke().add(l),g=new bc(Ee.min(),new Map,new et(Ne),h,f);await Y_(s,g),s.La=s.La.remove(l),s.Ba.delete(e),qf(s)}else await rf(s.localStore,e,!1).then(()=>of(s,e,t)).catch(Fo)}async function Nk(r,e){const t=we(r),s=e.batch.batchId;try{const o=await QR(t.localStore,e);X_(t,s,null),J_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await El(t,o)}catch(o){await Fo(o)}}async function Dk(r,e,t){const s=we(r);try{const o=await function(h,f){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,f).next(C=>(Fe(C!==null),E=C.keys(),g.mutationQueue.removeMutationBatch(v,C))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(s.localStore,e);X_(s,e,t),J_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await El(s,o)}catch(o){await Fo(o)}}function J_(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function X_(r,e,t){const s=we(r);let o=s.qa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function of(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||Z_(r,s)})}function Z_(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(Mf(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),qf(r))}function Oy(r,e,t){for(const s of t)s instanceof K_?(r.ka.addReference(s.key,e),xk(r,s)):s instanceof W_?(re("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||Z_(r,s.key)):Ae()}function xk(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(re("SyncEngine","New document in limbo: "+t),r.Na.add(s),qf(r))}function qf(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new de(He.fromString(e)),s=r.Ka.next();r.Ba.set(s,new Ek(t)),r.La=r.La.insert(t,s),L_(r.remoteStore,new ws(lr(Pf(t.path)),s,"TargetPurposeLimboResolution",Pc.oe))}}async function El(r,e,t){const s=we(r),o=[],l=[],h=[];s.xa.isEmpty()||(s.xa.forEach((f,g)=>{h.push(s.Ua(g,e,t).then(v=>{var E;if((v||t)&&s.isPrimaryClient){const C=v?!v.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,C?"current":"not-current")}if(v){o.push(v);const C=Lf.zi(g.targetId,v);l.push(C)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,v){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(v,k=>K.forEach(k.Wi,F=>E.persistence.referenceDelegate.addReference(C,k.targetId,F)).next(()=>K.forEach(k.Gi,F=>E.persistence.referenceDelegate.removeReference(C,k.targetId,F)))))}catch(C){if(!Bo(C))throw C;re("LocalStore","Failed to update sequence numbers: "+C)}for(const C of v){const k=C.targetId;if(!C.fromCache){const F=E.us.get(k),z=F.snapshotVersion,X=F.withLastLimboFreeSnapshotVersion(z);E.us=E.us.insert(k,X)}}}(s.localStore,l))}async function Vk(r,e){const t=we(r);if(!t.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const s=await V_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(g=>{g.reject(new se(q.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await El(t,s.Ts)}}function Ok(r,e){const t=we(r),s=t.Ba.get(e);if(s&&s.Fa)return ke().add(s.key);{let o=ke();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function $_(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ok.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pk.bind(null,e),e.Ma.R_=yk.bind(null,e.eventManager),e.Ma.Wa=vk.bind(null,e.eventManager),e}function Uk(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dk.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return jR(this.persistence,new FR,e.initialUser,this.serializer)}ja(e){return new x_(bf.ei,this.serializer)}za(e){return new HR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class bk extends _c{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Fe(this.persistence.referenceDelegate instanceof yc);const s=this.persistence.referenceDelegate.garbageCollector;return new TR(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new x_(s=>yc.ei(s,t),this.serializer)}}class af{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vk.bind(null,this.syncEngine),await pk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gk}()}createDatastore(e){const t=Lc(e.databaseInfo.databaseId),s=function(l){return new ZR(l)}(e.databaseInfo);return function(l,h,f,g){return new tk(l,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,f){return new rk(s,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Vy(this.syncEngine,t,0),function(){return ky.p()?new ky:new YR}())}createSyncEngine(e,t){return function(o,l,h,f,g,v,E){const C=new wk(o,l,h,f,g,v);return E&&(C.$a=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=we(o);re("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Al(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}af.provider={build:()=>new af};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=$v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{re("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(re("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=zf(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ud(r,e){r.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await V_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Uy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Mk(r);re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Py(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Py(e.remoteStore,o)),r._onlineComponents=e}async function Mk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ud(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===q.FAILED_PRECONDITION||o.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Po("Error using user provided cache. Falling back to memory cache: "+t),await Ud(r,new _c)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Ud(r,new bk(void 0));return r._offlineComponents}async function tA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await Uy(r,r._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await Uy(r,new af))),r._onlineComponents}function Fk(r){return tA(r).then(e=>e.syncEngine)}async function nA(r){const e=await tA(r),t=e.eventManager;return t.onListen=Ik.bind(null,e.syncEngine),t.onUnlisten=Sk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Tk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Rk.bind(null,e.syncEngine),t}function Bk(r,e,t={}){const s=new br;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,g,v){const E=new eA({next:k=>{E.eu(),h.enqueueAndForget(()=>G_(l,C));const F=k.docs.has(f);!F&&k.fromCache?v.reject(new se(q.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&k.fromCache&&g&&g.source==="server"?v.reject(new se(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(k)},error:k=>v.reject(k)}),C=new q_(Pf(f.path),E,{includeMetadataChanges:!0,ua:!0});return z_(l,C)}(await nA(r),r.asyncQueue,e,t,s)),s.promise}function jk(r,e,t={}){const s=new br;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,f,g,v){const E=new eA({next:k=>{E.eu(),h.enqueueAndForget(()=>G_(l,C)),k.fromCache&&g.source==="server"?v.reject(new se(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(k)},error:k=>v.reject(k)}),C=new q_(f,E,{includeMetadataChanges:!0,ua:!0});return z_(l,C)}(await nA(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(r,e,t){if(!t)throw new se(q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Qk(r,e,t,s){if(e===!0&&s===!0)throw new se(q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ly(r){if(!de.isDocumentKey(r))throw new se(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function My(r){if(de.isDocumentKey(r))throw new se(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Bc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae()}function hr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bc(r);throw new se(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eS;switch(s.type){case"firstParty":return new sS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=by.get(t);s&&(re("ComponentProvider","Removing Datastore"),by.delete(t),s.terminate())}(this),Promise.resolve()}}function zk(r,e,t,s={}){var o;const l=(r=hr(r,jc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=jt.MOCK_USER;else{f=sv(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new se(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new jt(v)}r._authCredentials=new tS(new Zv(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class Yt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class Cs extends Si{constructor(e,t,s){super(e,t,Pf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new de(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function xs(r,e,...t){if(r=$e(r),sA("collection","path",e),r instanceof jc){const s=He.fromString(e,...t);return My(s),new Cs(r,null,s)}{if(!(r instanceof Yt||r instanceof Cs))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(He.fromString(e,...t));return My(s),new Cs(r.firestore,null,s)}}function an(r,e,...t){if(r=$e(r),arguments.length===1&&(e=$v.newId()),sA("doc","path",e),r instanceof jc){const s=He.fromString(e,...t);return Ly(s),new Yt(r,null,new de(s))}{if(!(r instanceof Yt||r instanceof Cs))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(He.fromString(e,...t));return Ly(s),new Yt(r.firestore,r instanceof Cs?r.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new U_(this,"async_queue_retry"),this.fu=()=>{const s=Od();s&&re("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Od();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Od();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new br;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Bo(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Fr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Qf.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Ae()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class zo extends jc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new By,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new By(e),this._firestoreClient=void 0,await e}}}function Gk(r,e){const t=typeof r=="object"?r:ff(),s=typeof r=="string"?r:"(default)",o=Tc(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=tv("firestore");l&&zk(o,...l)}return o}function Kf(r){if(r._terminated)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qk(r),r._firestoreClient}function qk(r){var e,t,s;const o=r._freezeSettings(),l=function(f,g,v,E){return new _S(f,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,rA(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Lk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Vt.fromBase64String(e))}catch(t){throw new se(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uo(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=/^__.*__$/;class Wk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new vl(e,this.data,t,this.fieldTransforms)}}class iA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Jf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Jf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ac(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(oA(this.Mu)&&Kk.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Hk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Lc(e)}$u(e,t,s,o=!1){return new Jf({Mu:e,methodName:t,Ku:s,path:xt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xf(r){const e=r._freezeSettings(),t=Lc(r._databaseId);return new Hk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Yk(r,e,t,s,o,l={}){const h=r.$u(l.merge||l.mergeFields?2:0,e,t,o);Zf("Data must be an object, but it was:",h,s);const f=aA(s,h);let g,v;if(l.merge)g=new mn(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const C of l.mergeFields){const k=lf(e,C,t);if(!h.contains(k))throw new se(q.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);uA(E,k)||E.push(k)}g=new mn(E),v=h.fieldTransforms.filter(C=>g.covers(C.field))}else g=null,v=h.fieldTransforms;return new Wk(new on(f),g,v)}class zc extends Wf{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function Jk(r,e,t,s){const o=r.$u(1,e,t);Zf("Data must be an object, but it was:",o,s);const l=[],h=on.empty();Os(s,(g,v)=>{const E=$f(e,g,t);v=$e(v);const C=o.Bu(E);if(v instanceof zc)l.push(E);else{const k=wl(v,C);k!=null&&(l.push(E),h.set(E,k))}});const f=new mn(l);return new iA(h,f,o.fieldTransforms)}function Xk(r,e,t,s,o,l){const h=r.$u(1,e,t),f=[lf(e,s,t)],g=[o];if(l.length%2!=0)throw new se(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<l.length;k+=2)f.push(lf(e,l[k])),g.push(l[k+1]);const v=[],E=on.empty();for(let k=f.length-1;k>=0;--k)if(!uA(v,f[k])){const F=f[k];let z=g[k];z=$e(z);const X=h.Bu(F);if(z instanceof zc)v.push(F);else{const Q=wl(z,X);Q!=null&&(v.push(F),E.set(F,Q))}}const C=new mn(v);return new iA(E,C,h.fieldTransforms)}function Zk(r,e,t,s=!1){return wl(t,r.$u(s?4:3,e))}function wl(r,e){if(lA(r=$e(r)))return Zf("Unsupported field value:",e,r),aA(r,e);if(r instanceof Wf)return function(s,o){if(!oA(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const f of s){let g=wl(f,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=$e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=_t.fromDate(s);return{timestampValue:gc(o.serializer,l)}}if(s instanceof _t){const l=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gc(o.serializer,l)}}if(s instanceof Hf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Uo)return{bytesValue:C_(o.serializer,s._byteString)};if(s instanceof Yt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Of(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yf)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw f.qu("VectorValues must only contain numeric values.");return Nf(f.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${Bc(s)}`)}(r,e)}function aA(r,e){const t={};return e_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(r,(s,o)=>{const l=wl(o,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function lA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof Hf||r instanceof Uo||r instanceof Yt||r instanceof Wf||r instanceof Yf)}function Zf(r,e,t){if(!lA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Bc(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function lf(r,e,t){if((e=$e(e))instanceof Qc)return e._internalPath;if(typeof e=="string")return $f(r,e);throw Ac("Field path arguments must be of type string or ",r,!1,void 0,t)}const $k=new RegExp("[~\\*/\\[\\]]");function $f(r,e,t){if(e.search($k)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Qc(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ac(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new se(q.INVALID_ARGUMENT,f+r+g)}function uA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class e0 extends cA{data(){return super.data()}}function Gc(r,e){return typeof e=="string"?$f(r,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ep{}class hA extends ep{}function _i(r,e,...t){let s=[];e instanceof ep&&s.push(e),s=s.concat(t),function(l){const h=l.filter(g=>g instanceof tp).length,f=l.filter(g=>g instanceof qc).length;if(h>1||h>0&&f>0)throw new se(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class qc extends hA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new qc(e,t,s)}_apply(e){const t=this._parse(e);return dA(e._query,t),new Si(e.firestore,e.converter,Xd(e._query,t))}_parse(e){const t=Xf(e.firestore);return function(l,h,f,g,v,E,C){let k;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new se(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Qy(C,E);const F=[];for(const z of C)F.push(jy(g,l,z));k={arrayValue:{values:F}}}else k=jy(g,l,C)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Qy(C,E),k=Zk(f,h,C,E==="in"||E==="not-in");return dt.create(v,E,k)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ai(r,e,t){const s=e,o=Gc("where",r);return qc._create(o,s,t)}class tp extends ep{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const f=l.getFlattenedFilters();for(const g of f)dA(h,g),h=Xd(h,g)}(e._query,t),new Si(e.firestore,e.converter,Xd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class np extends hA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new np(e,t)}_apply(e){const t=function(o,l,h){if(o.startAt!==null)throw new se(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ol(l,h)}(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new jo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function rp(r,e="asc"){const t=e,s=Gc("orderBy",r);return np._create(s,t)}function jy(r,e,t){if(typeof(t=$e(t))=="string"){if(t==="")throw new se(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u_(e)&&t.indexOf("/")!==-1)throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(He.fromString(t));if(!de.isDocumentKey(s))throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ly(r,new de(s))}if(t instanceof Yt)return ly(r,t._key);throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bc(t)}.`)}function Qy(r,e){if(!Array.isArray(r)||r.length===0)throw new se(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dA(r,e){const t=function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new se(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class n0{convertValue(e,t="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Os(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>at(h.doubleValue));return new Yf(l)}convertGeoPoint(e){return new Hf(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Dc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const t=ks(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=He.fromString(e);Fe(D_(s));const o=new sl(s.get(1),s.get(3)),l=new de(s.popFirst(5));return o.isEqual(t)||Fr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fA extends cA{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Gc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class nc extends fA{data(e={}){return super.data(e)}}class s0{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new qa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new nc(this._firestore,this._userDataWriter,s.key,s,new qa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const g=new nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const g=new nc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:i0(f.type),doc:g,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function i0(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r){r=hr(r,Yt);const e=hr(r.firestore,zo);return Bk(Kf(e),r._key).then(t=>l0(e,r,t))}class pA extends n0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}function Ei(r){r=hr(r,Si);const e=hr(r.firestore,zo),t=Kf(e),s=new pA(e);return t0(r._query),jk(t,r._query).then(o=>new s0(e,s,r,o))}function jr(r,e,t){r=hr(r,Yt);const s=hr(r.firestore,zo),o=r0(r.converter,e,t);return sp(s,[Yk(Xf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Kn.none())])}function Ka(r,e,t,...s){r=hr(r,Yt);const o=hr(r.firestore,zo),l=Xf(o);let h;return h=typeof(e=$e(e))=="string"||e instanceof Qc?Xk(l,"updateDoc",r._key,e,t,s):Jk(l,"updateDoc",r._key,e),sp(o,[h.toMutation(r._key,Kn.exists(!0))])}function a0(r){return sp(hr(r.firestore,zo),[new Df(r._key,Kn.none())])}function sp(r,e){return function(s,o){const l=new br;return s.asyncQueue.enqueueAndForget(async()=>kk(await Fk(s),o,l)),l.promise}(Kf(r),e)}function l0(r,e,t){const s=t.docs.get(e._key),o=new pA(r);return new fA(r,o,e._key,s,new qa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Mo=o})(Ii),mi(new Ss("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new zo(new nS(s.getProvider("auth-internal")),new oS(s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new se(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(v.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),or(ny,"4.7.5",e),or(ny,"4.7.5","esm2017")})();const lt=Gk(qv);class u0{async createUserInDatabase(e,t,s){var o;try{const h=(o=Rn().currentUser)==null?void 0:o.uid;if(!h)throw new Error("Ocurri un error al obtener la sesin");const f=an(lt,"users",h);await jr(f,{id:h,email:s,picture_url:"",province_id:"",neighbourhood:"",last_name:t,first_name:e,description:""})}catch(l){throw console.log(l),l}}async createUserWithCredentials(e,t,s,o){const l=Rn();try{return await RT(l,s,o),await this.createUserInDatabase(e,t,s),{valid:!0}}catch(h){return{valid:!1,message:h.message}}}validateSignUp(e,t,s,o){return Vs.validateSignUp(e,t,s,o)}}class c0 extends ft.Component{constructor(t){super(t);G(this,"handleFirstNameChange",t=>{this.setState({firstName:t.target.value})});G(this,"handleLastNameChange",t=>{this.setState({lastName:t.target.value})});G(this,"handleEmailChange",t=>{this.setState({email:t.target.value})});G(this,"handlePasswordChange",t=>{this.setState({password:t.target.value})});G(this,"handleGoBackButton",()=>{this.props.hideSignUp()});G(this,"handleShowPassword",()=>{this.state.showPassword=!this.state.showPassword,this.state.showPassword?this.setState({passwordInputType:"text"}):this.setState({passwordInputType:"password"})});G(this,"isSignUpValid",()=>{const t=this.viewModel.validateSignUp(this.state.firstName,this.state.lastName,this.state.email,this.state.password);return t.valid||this.setState({errorMessage:t.message}),t.valid});G(this,"capitalizeFirstLetter",t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());G(this,"handleSignUpButton",async()=>{if(this.setState({errorMessage:""}),this.setState({disableButton:!0}),this.isSignUpValid()){let t=await this.viewModel.createUserWithCredentials(this.capitalizeFirstLetter(this.state.firstName),this.capitalizeFirstLetter(this.state.lastName),this.state.email,this.state.password);t.valid||this.setState({errorMessage:t.message})}this.setState({disableButton:!1})});this.state={firstName:"",lastName:"",email:"",password:"",showPassword:!1,passwordInputType:"password",errorMessage:"",disableButton:!1},this.viewModel=new u0}render(){const{firstName:t,lastName:s,email:o,password:l,showPassword:h,passwordInputType:f,errorMessage:g,disableButton:v}=this.state;return A.jsxs("div",{className:"sign-up-container",children:[A.jsxs("div",{className:"button-and-title-container",children:[A.jsx("button",{className:"go-back-button",onClick:this.handleGoBackButton,children:"Ir atrs"}),A.jsx("h1",{className:"title",children:"Registrarse"})]}),A.jsxs("div",{className:"card",children:[A.jsxs("div",{className:"inputs-container",children:[A.jsxs("div",{className:"first-name-container",children:[A.jsx("label",{children:"Nombre"}),A.jsx("input",{type:"text",value:t,onChange:this.handleFirstNameChange,className:"textfield"})]}),A.jsxs("div",{className:"last-name-container",children:[A.jsx("label",{children:"Apellido (opcional)"}),A.jsx("input",{type:"text",value:s,onChange:this.handleLastNameChange,className:"textfield"})]}),A.jsxs("div",{className:"email-container",children:[A.jsx("label",{children:"Email"}),A.jsx("input",{type:"email",value:o,onChange:this.handleEmailChange,className:"textfield"})]}),A.jsxs("div",{className:"password-container",children:[A.jsxs("div",{className:"password-labels-container",children:[A.jsx("label",{children:"Contrasea"}),A.jsx("button",{className:"show-password-button",onClick:this.handleShowPassword,children:h?"Ocultar":"Mostrar"})]}),A.jsx("input",{type:f,value:l,onChange:this.handlePasswordChange,className:"textfield",id:"password-textfield"})]})]}),A.jsx("span",{id:"error-message-span",children:g}),A.jsx("button",{disabled:v,className:"login-button",style:{backgroundColor:this.state.disableButton?"#f5f5f5":"#49a0ff"},onClick:this.handleSignUpButton,children:A.jsx("span",{children:"Finalizar"})})]})]})}}class h0{async loginWithCredentials(e,t){const s=Rn();try{return await kT(s,e,t),{valid:!0}}catch(o){return{valid:!1,message:o.message}}}validateLogin(e,t){return Vs.validateLogin(e,t)}}class d0{async sendPasswordResetEmail(e){const t=Rn();try{return await ST(t,e),{valid:!0,message:"Se envi correctamente el correo de recuperacin de contrasea."}}catch(s){return{valid:!1,message:s.message}}}validateRecoverPassword(e){return Vs.validateRecoverPassword(e)}}class f0 extends ft.Component{constructor(t){super(t);G(this,"handleEmailChange",t=>{this.setState({email:t.target.value})});G(this,"handleGoBackButton",()=>{this.props.hideRecoverPassword()});G(this,"isEmailValid",()=>{const t=this.viewModel.validateRecoverPassword(this.state.email);return t.valid||this.setState({errorMessage:t.message}),t.valid});G(this,"handleRecoverPasswordButton",async()=>{if(this.setState({errorMessage:""}),this.setState({successMessage:""}),this.isEmailValid()){const t=await this.viewModel.sendPasswordResetEmail(this.state.email);t.valid?this.setState({successMessage:t.message}):this.setState({errorMessage:t.message})}});this.state={email:"",errorMessage:"",successMessage:""},this.viewModel=new d0}render(){const{email:t,errorMessage:s,successMessage:o}=this.state;return A.jsxs("div",{className:"sign-up-container",children:[A.jsxs("div",{className:"button-and-title-container",children:[A.jsx("button",{className:"go-back-button",onClick:this.handleGoBackButton,children:"Ir atrs"}),A.jsx("h1",{className:"title",children:"Recuperar contrasea"})]}),A.jsxs("div",{className:"card",children:[A.jsx("p",{children:"Ingresa tu direccin de e-mail y te enviaremos un correo para que restablezcas tu contrasea."}),A.jsx("div",{className:"inputs-container",children:A.jsx("div",{className:"email-container",children:A.jsx("input",{type:"email",placeholder:"Ingresa tu e-mail",value:t,onChange:this.handleEmailChange,className:"textfield"})})}),A.jsx("span",{id:"error-message-span",children:s}),A.jsx("span",{id:"success-message-span",children:o}),A.jsx("button",{className:"login-button",onClick:this.handleRecoverPasswordButton,children:A.jsx("span",{children:"Recuperar contrasea"})})]})]})}}class p0 extends ft.Component{constructor(t){super(t);G(this,"handleLogout",()=>{const t=Rn();ml(t).then(()=>{this.setState({user:null})}).catch(s=>{console.error("Error al cerrar sesin:",s)})});G(this,"handleEmailChange",t=>{this.setState({email:t.target.value})});G(this,"handlePasswordChange",t=>{this.setState({password:t.target.value})});G(this,"togglePasswordVisibility",()=>{this.setState({showPassword:!this.state.showPassword})});G(this,"handleLoginWithGoogle",async()=>{try{this.setState({errorMessage:""});const t=new Dr,s=Rn();s.languageCode="es";const o=await rC(s,t),l=OT(o);if(l.isNewUser){const h=l.profile.email,f=l.profile.given_name,g=o.user.uid;await this.createUserInDatabaseFromGoogle(g,f,h)}else this.props.fetchUserData()}catch(t){this.setState({errorMessage:"Ocurri un error."}),console.log(t),this.handleLogout()}});G(this,"createUserInDatabaseFromGoogle",async(t,s,o)=>{try{if(!Rn())throw new Error("Ocurri un error al obtener la sesin");const h=an(lt,"users",t);await jr(h,{id:t,email:o,picture_url:"",province_id:"",neighbourhood:"",last_name:"",first_name:s,description:""}),this.props.fetchUserData()}catch(l){throw this.handleLogout(),l}});G(this,"handleCreateAccountButton",()=>{this.setState({showSignUp:!0})});G(this,"hideSignUp",()=>{this.setState({showSignUp:!1})});G(this,"handleShowPassword",()=>{this.state.showPassword=!this.state.showPassword,this.state.showPassword?this.setState({passwordInputType:"text"}):this.setState({passwordInputType:"password"})});G(this,"isLoginValid",()=>{const t=this.viewModel.validateLogin(this.state.email,this.state.password);return t.valid||this.setState({errorMessage:t.message}),t.valid});G(this,"handleLogin",async()=>{if(this.setState({disableButton:!0}),this.setState({errorMessage:""}),this.isLoginValid()){let t=await this.viewModel.loginWithCredentials(this.state.email,this.state.password);t.valid||this.setState({errorMessage:t.message})}this.setState({disableButton:!1})});G(this,"handleRecoverPasswordButton",()=>{this.setState({showForgotPassword:!0})});G(this,"hideRecoverPassword",()=>{this.setState({showForgotPassword:!1})});this.state={email:"",password:"",showPassword:!1,showSignUp:!1,passwordInputType:"password",errorMessage:"",showForgotPassword:!1,disableButton:!1},this.viewModel=new h0}render(){const{email:t,password:s,showPassword:o,showSignUp:l,passwordInputType:h,errorMessage:f,showForgotPassword:g,disableButton:v}=this.state;return l?A.jsx(c0,{hideSignUp:this.hideSignUp}):g?A.jsx(f0,{hideRecoverPassword:this.hideRecoverPassword}):A.jsx("div",{className:"login-container",children:A.jsxs("div",{className:"login-content",children:[A.jsx("h1",{className:"title",children:"Bienvenido/a a Barrio Conectado"}),A.jsx("img",{className:"logo",src:ZC,alt:"Logo"}),A.jsxs("div",{className:"card",children:[A.jsxs("button",{className:"google-btn",onClick:this.handleLoginWithGoogle,children:[A.jsx("img",{src:$C,alt:"Google",className:"google-icon"}),"Continuar con Google"]}),A.jsxs("div",{className:"line-with-text",children:[A.jsx("hr",{}),A.jsx("span",{children:"O continua con tu correo"}),A.jsx("hr",{})]}),A.jsxs("div",{className:"inputs-container",children:[A.jsxs("div",{className:"email-container",children:[A.jsx("label",{children:"Email"}),A.jsx("input",{type:"email",value:t,onChange:this.handleEmailChange,className:"textfield"})]}),A.jsxs("div",{className:"password-container",children:[A.jsxs("div",{className:"password-labels-container",children:[A.jsx("label",{children:"Contrasea"}),A.jsx("button",{className:"show-password-button",onClick:this.handleShowPassword,children:o?"Ocultar":"Mostrar"})]}),A.jsx("input",{type:h,value:s,onChange:this.handlePasswordChange,className:"textfield",id:"password-textfield"})]})]}),A.jsx("button",{className:"recover-password-button",onClick:this.handleRecoverPasswordButton,children:"Olvidaste tu contrasea?"}),A.jsx("span",{id:"error-message-span",children:f}),A.jsx("button",{disabled:v,style:{backgroundColor:this.state.disableButton?"#f5f5f5":"#49a0ff"},className:"login-button",onClick:this.handleLogin,children:"Iniciar sesin"}),A.jsxs("button",{className:"create-account-button",onClick:this.handleCreateAccountButton,children:[A.jsx("span",{children:"Todava no tenes una cuenta?"}),A.jsx("span",{className:"create-account-span",children:"Crea una."})]})]})]})})}}class m0{constructor(e){this.userData=e}validateDescription(e){return Vs.validateHomeDescription(e)}async editDescription(e,t){const s=an(lt,"users",t);try{await Ka(s,{description:e})}catch(o){throw console.error("Error updating description:",o),o}}async fetchPosts(){const e=this.userData.id,t=this.userData.neighbourhood;if(!e||!t)throw new Error("User or neighbourhood data is missing.");try{const s=xs(lt,"posts"),o=_i(s,Ai("neighbourhood","==",t),rp("created_at","desc")),l=await Ei(o);let h=[];return l.forEach(f=>{const g=f.data();h.push(g)}),h}catch(s){return console.error("Error fetching posts:",s),null}}async fetchNeighbourhoodData(){try{const e=this.userData.neighbourhood;if(!e)throw new Error("Neighbourhood ID is missing.");const t=xs(lt,"neighbourhoods"),s=_i(t,Ai("id","==",e)),o=await Ei(s);if(o.empty)throw new Error("No neighbourhood found with the given ID.");return o.docs[0].data()}catch(e){return console.error("Error fetching neighbourhood data:",e),null}}}const g0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABItJREFUeF7tnctW4zAMhpPngR3sgRW81TBvBavp7GEHz5Ope+o5OakdS8mvi4u6rWrL/2f5IjvpOMTHlQKjK2/CmSGAOOsEASSA4BW4v315HIbh8ePr7RVfum6JXUdIAjFN05+5ZOM4/u4ZTNdA7m6ep1L/Hcfx6ePr7aDbtzG1dQvk/vbldZqmXxUg3UbJVQI5zieHz+/3J0yf1S2lWyB3N89p7kiTeekTQHT70TAEEG3FG/UFkACiokDMISoy0ysJIHStVCwDiIrM9EqgQHJOKe0DpHfKMamvQLbIKVkCOWcJHvI+CJk/g0TISk5JLIVhBaSWskHlz3YDWcsppaBC9p55kFoAabQVkh1AALlIgS9HNwko2kBaHS+1+fP7fbeeuwsozR8aGdg1IOgOQIHhBkhyhOowUqi1jgCup5rmlzgY2x0h2SkjKBdi9QzjNOfStyxtSysoybPjUe7DGQbkpNCiLXAgVsNXu6vwLKxgiADpHYolDDEgTChuLiRYwxAFwoAC2VDxBqWydS3jILGaqvkLndRLlRB6nQsglP0UcgVnBqQVKRqNpERPC4iWn+IR0tqnININFMEpNrXdvxYM8TlkKcIsbX36CrlvoAjesjlHSbp89/96kSYMdSAtQbx8fz5oO7kjfdC2bLPakOVFbO9+BBBnhAJIAHGmgDN3IkICiDMFnLkTERJAnCngzJ2IkADiTAFn7kSEBBBnCjhzpxoh+SZ7us3B9fl4z/XvOTHX/ZsVSm2fZYVZ0lB0KQIhnPKRHNFOXZOc2mkE1KZ4l6AIhHK2TG0X6lY4tT5JOxSM7GPpcO4CCLrSnh/iX8JFa1PqrCUgzdvszF7o4hID0+eieePGPbuK0pCuMWSJPbTDVmDnD1oXIbjFk4asVCiw4quJjiw2atiqLXhWN4ap8uTIxqVvigzIxWduz5O236lL2hJUH4qNnbo0PWb5AYQpmLR5AJFWmFl+AGEKJm0eQKQVZpYfQJiCSZsHEGmFmeUHEKZg0uYBRFphZvkBhCmYtHkAkVaYWX4AYQombW4CJGWTPSce8wM7Fj6qAlmmrr2duf+oR9pWzhHcnJn8mIc+W4c6Hi5CtA7ltKJZfMhqwUiTZA9Azn6KH0eLAqHASA318Kx6K0Ly6ko6UsSAUGFIN5CzTPXgswgQDw3jgJjbWvsOB2LdoK0gvECBArGAkfcOlIvMHFgWbTktHDhOrtlaNKBUJ3JOsmgTBIiF42t1IpfR2m2DAKHclkf23BSpDaGgu38qFMTyXQUIGkYCEq8aX5lANF/7nd3QBkKISsgGFxIhtV2uRGRYAlmDgmorBMjM0fwnJ4e0DJX8k2CLCMmdYfZmvPTmudRW2MVyGBDU8plajiUQqo9b7ALIFtUEfxNABMXdUnQA2aKa4G8CiKC4W4oOIFtUE/xNABEUd0vRAWSLaoK/uUogqF2zoO7VorsF0ki/i98OkYLVM5DqK0AQaXApwVvldgukluhDHk61xJP4vmsg82Sfxl+GSwBYlnkVQDSE0qojgGgpTawngBCF0jILIFpKE+v5Bzh5ZJKfXicDAAAAAElFTkSuQmCC",y0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA1hJREFUeF7tnbF2m0AQRcX3xF3cx67iv4rzV3YVpbc7+3uIVwd0CEFe8eCNRuRS2VrN7HAvC1voDM2OIxWBJlU1FLNDSLKLACEISUYgWTmsEIQkI5CsHFYIQpIRSFaOZYXc3jzc7Xa7u7Ztv3XnW/7/7Nj3g03T/O7+3r+8PR0/T8bNVs5qQoqEtm1/FBFrV9s0zc+S8+Xt6XHt3NnyLRbiFHEK1pYFLRJye/Pw2K2Ki11oW5MjC8kgY+Iq2HfPoKt9/khCksr4x0/k6uk2MuU5t2gjsmkhY0O9oI+Nx6IV1MMf3K7/2siUedQNiCTk65fv7cUeGutPPLXlPs4y2LqXz87eQapSELK+4GPG1/fn2XxnB3Tb3F/G89hM6o8Nxv3cZwpCjPoRYoSrpEaIQs0YgxAjXCU1QhRqxhiEGOEqqRGiUDPGIMQIV0mNEIWaMQYhRrhKaoQo1IwxCDHCVVIjRKFmjEGIEa6SGiEKNWMMQoxwldQIUagZYxBihKukRohCzRiDECNcJTVCFGrGGIQY4SqpEaJQM8YgxAhXSY0QhZoxBiFGuEpqhCjUjDEIMcJVUiNEoWaMQYgRrpIaIQo1YwxCjHCV1AhRqBljEGKEq6RGiELNGIMQI1wlNUIUasYYhBjhKqkRolAzxiDECFdJjRCFmjEGIUa4SmqEKNSMMdfQ6+RUL6mzu+wY+a2eOpOQA/hBA7FZTb36rqYlR9ce6eqEhbVnqnQDKi32SvOuWQLOuTRHrWfTC0ohRHmInSNj6julzWC3gkpr2mzH/vX9+V4patX2TJFChiebbPXIMg63+bkWP7tlXUrI+BwutXrU29Sw/k0KmVo9xtvbqq1pNy9kYvUc+tIv2MH1O8jSo35Rd9Opu9N/J6R2i+5bwE59z7F7HM+DkJqh4HGEBAOvTYeQGqHgcYQEA69Nh5AaoeBxhAQDr02HkBqh4HGEBAOvTYeQGqHgcYQEA69Nh5AaoeBxhAQDr02HkBqh4HGEBAOvTYeQGqHgcYQEA69Nh5AaoeDx2UJKfafeY6j8Ui/4fNNPpwopr81b7e2W6SkFFigJKfWN3oe76LdIgeebfipZSPozu9ICEZJMHEIQkoxAsnJYIQhJRiBZOawQhCQjkKwcVkgyIX8ASg3ZgzhfPksAAAAASUVORK5CYII=",mA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABBlJREFUeF7tnT1S5DAQRu3zQAb5QgS3WvZWEO2QQwbnmR1RdmFm7LXUra/Vkj4iqrAHuZ+eWj+WZhz44yoCo6vSsDADgTirBARCIM4i4Kw4NIRAnEXAWXFoiHcgt9ePT8fj8VdKOcdxfH37eH5KuYfXrkfgwpCbq4e/wzDcpQbsBOX+7eP5kHofr/8ZgWxAThAP758v9wywLgI5gQy0RAcj3J0VCC3xB4SWKJnkNiQUh7lEAQUBhJbkBBIxDonpEh/GcfyjKFe1t2q7/skj9dvrx7vTwDGMVfizEYFQGaUD5WQgoQzSwWNnBEW5VASElsRVLcm4TASEljgEQkv2oUhyidgQWrIP5P3zJTm+yTcsi0FLtqFI7Fidy9rn/vMK9rjWIyaxIwsQWnIJRGpHFiDMJZdApHZkA0JLvqFo7MgGhJZ8A9HYkRUILRnCLLd4DmtGqur2nreeN1cPx9ReWivX54CR1ZDwYdPU/e9WgpzyHC6BTLmkO0tywchuSK+WaBP50sSsOWT+4J5ySU47IIb01gXOaQcMSC9d4Nx2wID0YkluO6BAWrcEYQcUSMuWoGDAgbRqSbVAWrQECQNuyDRQbOrFOkQihw8MVyYdRbuyUuaSLK5F22FiSEuWoO0wA9JCLrGwwxRI7T0uCztMgdRsiZUd5kBqXcCyssMcSI3T8pZ2mAKp0Q5rGGZAaoRRavMqZMWw9oFhCTPmmMGBVGbH12ZV7cZNzawBHEhMIp927BY7uKYkgHN4UCCxdlh2KzW11+JeKJBYO6RbiC0CZP0/YEBohwwlDAjtcAQkxo6SXUtZqGzughhCO+TwigFhz2odWnYgsesejZwWdMg9hskOZFr36GJLguQsk73GDAWkiZcadoMHOBqXQPai/p+/V2NIL81WVUBik7uigha/tSog0/tY4Rz5ZjeBVgekdShVApnbldCEzYf8p377QvG2aaMAiMUsSC/LawBrKBeBOKNEIATiLALOimNiyJzQF8k8JPjwhsdriIeXJdyzcn4dqT5PglqVEQ4kZoDoYbHKy6IaFEjMQy5bDES/PqZFSjnIE115YEBSYUyBE52XHhP0rWsk5URCgQGJWcZdCxLyYc//nwTG/BkomyFANA8aHthqeVdaaZA2Q4CktMkblph8J2JPQFRLuKjmYAk/pve3l5sQJqMM0QJRn+65F8zegKjW1GnIXnVK/Ls2hyCagrVH6CaHaJsDQyBik1Hdc0gOCbVRagnqQdcM0VQcVKWBAZE8rCWMxUpm8ro/MsfBgKSup5eAIYGChPE1u5yYr0WX74zci2+0jKw8JuU0AbKsieH3sC6yWGcottlzK6/ML2PMUyTTmo1JOU2BiPTq7CYCcQacQAjEWQScFYeGEIizCDgrDg0hEGcRcFacf+phbYNZbgvjAAAAAElFTkSuQmCC";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firebasestorage.googleapis.com",yA="storageBucket",v0=2*60*1e3,_0=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends dr{constructor(e,t,s=0){super(bd(e),`Firebase Storage: ${t} (${bd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nt||(nt={}));function bd(r){return"storage/"+r}function ip(){const r="An unknown error occurred, please check the error payload for server response.";return new rt(nt.UNKNOWN,r)}function A0(r){return new rt(nt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function E0(r){return new rt(nt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function w0(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(nt.UNAUTHENTICATED,r)}function I0(){return new rt(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function T0(r){return new rt(nt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function C0(){return new rt(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S0(){return new rt(nt.CANCELED,"User canceled the upload/download.")}function R0(r){return new rt(nt.INVALID_URL,"Invalid URL '"+r+"'.")}function k0(r){return new rt(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function P0(){return new rt(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yA+"' property when initializing the app?")}function N0(){return new rt(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function D0(){return new rt(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function x0(r){return new rt(nt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function uf(r){return new rt(nt.INVALID_ARGUMENT,r)}function vA(){return new rt(nt.APP_DELETED,"The Firebase app was deleted.")}function V0(r){return new rt(nt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Za(r,e){return new rt(nt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Fa(r){throw new rt(nt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=gn.makeFromUrl(e,t)}catch{return new gn(e,"")}if(s.path==="")return s;throw k0(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const h="(/(.*))?$",f=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function v(ce){ce.path_=decodeURIComponent(ce.path)}const E="v[A-Za-z0-9_]+",C=t.replace(/[.]/g,"\\."),k="(/([^?#]*).*)?$",F=new RegExp(`^https?://${C}/${E}/b/${o}/o${k}`,"i"),z={bucket:1,path:3},X=t===gA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,Q="([^?#]*)",ye=new RegExp(`^https?://${X}/${o}/${Q}`,"i"),ue=[{regex:f,indices:g,postModify:l},{regex:F,indices:z,postModify:v},{regex:ye,indices:{bucket:1,path:2},postModify:v}];for(let ce=0;ce<ue.length;ce++){const Ue=ue[ce],Ie=Ue.regex.exec(e);if(Ie){const x=Ie[Ue.indices.bucket];let T=Ie[Ue.indices.path];T||(T=""),s=new gn(x,T),Ue.postModify(s);break}}if(s==null)throw R0(e);return s}}class O0{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r,e,t){let s=1,o=null,l=null,h=!1,f=0;function g(){return f===2}let v=!1;function E(...Q){v||(v=!0,e.apply(null,Q))}function C(Q){o=setTimeout(()=>{o=null,r(F,g())},Q)}function k(){l&&clearTimeout(l)}function F(Q,...ye){if(v){k();return}if(Q){k(),E.call(null,Q,...ye);return}if(g()||h){k(),E.call(null,Q,...ye);return}s<64&&(s*=2);let ue;f===1?(f=2,ue=0):ue=(s+Math.random())*1e3,C(ue)}let z=!1;function X(Q){z||(z=!0,k(),!v&&(o!==null?(Q||(f=2),clearTimeout(o),C(0)):Q||(f=1)))}return C(0),l=setTimeout(()=>{h=!0,X(!0)},t),X}function b0(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){return r!==void 0}function M0(r){return typeof r=="object"&&!Array.isArray(r)}function op(r){return typeof r=="string"||r instanceof String}function zy(r){return ap()&&r instanceof Blob}function ap(){return typeof Blob<"u"}function Gy(r,e,t,s){if(s<e)throw uf(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw uf(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function _A(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var pi;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(pi||(pi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t,s,o,l,h,f,g,v,E,C,k=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=f,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=E,this.connectionFactory_=C,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,z)=>{this.resolve_=F,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new qu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=f=>{const g=f.loaded,v=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,v)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const f=l.getErrorCode()===pi.NO_ERROR,g=l.getStatus();if(!f||F0(g,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===pi.ABORT;s(!1,new qu(!1,null,E));return}const v=this.successCodes_.indexOf(g)!==-1;s(!0,new qu(v,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());L0(g)?l(g):l()}catch(g){h(g)}else if(f!==null){const g=ip();g.serverResponse=f.getErrorText(),this.errorCallback_?h(this.errorCallback_(f,g)):h(g)}else if(o.canceled){const g=this.appDelete_?vA():S0();h(g)}else{const g=C0();h(g)}};this.canceled_?t(!1,new qu(!1,null,!0)):this.backoffId_=U0(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&b0(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qu{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function j0(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Q0(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function z0(r,e){e&&(r["X-Firebase-GMPID"]=e)}function G0(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function q0(r,e,t,s,o,l,h=!0){const f=_A(r.urlParams),g=r.url+f,v=Object.assign({},r.headers);return z0(v,e),j0(v,t),Q0(v,l),G0(v,s),new B0(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function W0(...r){const e=K0();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(ap())return new Blob(r);throw new rt(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function H0(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r){if(typeof atob>"u")throw x0("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ld{constructor(e,t){this.data=e,this.contentType=t||null}}function J0(r,e){switch(r){case ir.RAW:return new Ld(AA(e));case ir.BASE64:case ir.BASE64URL:return new Ld(EA(r,e));case ir.DATA_URL:return new Ld(Z0(e),$0(e))}throw ip()}function AA(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,h=r.charCodeAt(++t);s=65536|(l&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function X0(r){let e;try{e=decodeURIComponent(r)}catch{throw Za(ir.DATA_URL,"Malformed data URL.")}return AA(e)}function EA(r,e){switch(r){case ir.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Za(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ir.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Za(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Y0(e)}catch(o){throw o.message.includes("polyfill")?o:Za(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class wA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Za(ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=eP(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Z0(r){const e=new wA(r);return e.base64?EA(ir.BASE64,e.rest):X0(e.rest)}function $0(r){return new wA(r).contentType}function eP(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t){let s=0,o="";zy(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(zy(this.data_)){const s=this.data_,o=H0(s,e,t);return o===null?null:new Es(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Es(s,!0)}}static getBlob(...e){if(ap()){const t=e.map(s=>s instanceof Es?s.data_:s);return new Es(W0.apply(null,t))}else{const t=e.map(h=>op(h)?J0(ir.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(h=>{for(let f=0;f<h.length;f++)o[l++]=h[f]}),new Es(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){let e;try{e=JSON.parse(r)}catch{return null}return M0(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function nP(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function TA(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(r,e){return e}class Ht{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||rP}}let Ku=null;function sP(r){return!op(r)||r.length<2?r:TA(r)}function CA(){if(Ku)return Ku;const r=[];r.push(new Ht("bucket")),r.push(new Ht("generation")),r.push(new Ht("metageneration")),r.push(new Ht("name","fullPath",!0));function e(l,h){return sP(h)}const t=new Ht("name");t.xform=e,r.push(t);function s(l,h){return h!==void 0?Number(h):h}const o=new Ht("size");return o.xform=s,r.push(o),r.push(new Ht("timeCreated")),r.push(new Ht("updated")),r.push(new Ht("md5Hash",null,!0)),r.push(new Ht("cacheControl",null,!0)),r.push(new Ht("contentDisposition",null,!0)),r.push(new Ht("contentEncoding",null,!0)),r.push(new Ht("contentLanguage",null,!0)),r.push(new Ht("contentType",null,!0)),r.push(new Ht("metadata","customMetadata",!0)),Ku=r,Ku}function iP(r,e){function t(){const s=r.bucket,o=r.fullPath,l=new gn(s,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function oP(r,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const h=t[l];s[h.local]=h.xform(s,e[h.server])}return iP(s,r),s}function SA(r,e,t){const s=IA(e);return s===null?null:oP(r,s,t)}function aP(r,e,t,s){const o=IA(e);if(o===null||!op(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const h=encodeURIComponent;return l.split(",").map(v=>{const E=r.bucket,C=r.fullPath,k="/b/"+h(E)+"/o/"+h(C),F=Kc(k,t,s),z=_A({alt:"media",token:v});return F+z})[0]}function lP(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class lp{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r){if(!r)throw ip()}function uP(r,e){function t(s,o){const l=SA(r,o,e);return RA(l!==null),l}return t}function cP(r,e){function t(s,o){const l=SA(r,o,e);return RA(l!==null),aP(l,o,r.host,r._protocol)}return t}function kA(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=I0():o=w0():t.getStatus()===402?o=E0(r.bucket):t.getStatus()===403?o=T0(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function PA(r){const e=kA(r);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=A0(r.path)),l.serverResponse=o.serverResponse,l}return t}function hP(r,e,t){const s=e.fullServerUrl(),o=Kc(s,r.host,r._protocol),l="GET",h=r.maxOperationRetryTime,f=new lp(o,l,cP(r,t),h);return f.errorHandler=PA(e),f}function dP(r,e){const t=e.fullServerUrl(),s=Kc(t,r.host,r._protocol),o="DELETE",l=r.maxOperationRetryTime;function h(g,v){}const f=new lp(s,o,h,l);return f.successCodes=[200,204],f.errorHandler=PA(e),f}function fP(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function pP(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=fP(null,e)),s}function mP(r,e,t,s,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function f(){let ue="";for(let ce=0;ce<2;ce++)ue=ue+Math.random().toString().slice(2);return ue}const g=f();h["Content-Type"]="multipart/related; boundary="+g;const v=pP(e,s,o),E=lP(v,t),C="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+v.contentType+`\r
\r
`,k=`\r
--`+g+"--",F=Es.getBlob(C,s,k);if(F===null)throw N0();const z={name:v.fullPath},X=Kc(l,r.host,r._protocol),Q="POST",ye=r.maxUploadRetryTime,pe=new lp(X,Q,uP(r,t),ye);return pe.urlParams=z,pe.headers=h,pe.body=F.uploadData(),pe.errorHandler=kA(e),pe}class gP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw Fa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yP extends gP{initXhr(){this.xhr_.responseType="text"}}function up(){return new yP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t){this._service=e,t instanceof gn?this._location=t:this._location=gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wi(e,t)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TA(this._location.path)}get storage(){return this._service}get parent(){const e=tP(this._location.path);if(e===null)return null;const t=new gn(this._location.bucket,e);return new wi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw V0(e)}}function vP(r,e,t){r._throwIfRoot("uploadBytes");const s=mP(r.storage,r._location,CA(),new Es(e,!0),t);return r.storage.makeRequestWithTokens(s,up).then(o=>({metadata:o,ref:r}))}function _P(r){r._throwIfRoot("getDownloadURL");const e=hP(r.storage,r._location,CA());return r.storage.makeRequestWithTokens(e,up).then(t=>{if(t===null)throw D0();return t})}function AP(r){r._throwIfRoot("deleteObject");const e=dP(r.storage,r._location);return r.storage.makeRequestWithTokens(e,up)}function EP(r,e){const t=nP(r._location.path,e),s=new gn(r._location.bucket,t);return new wi(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(r){return/^[A-Za-z]+:\/\//.test(r)}function IP(r,e){return new wi(r,e)}function NA(r,e){if(r instanceof cp){const t=r;if(t._bucket==null)throw P0();const s=new wi(t,t._bucket);return e!=null?NA(s,e):s}else return e!==void 0?EP(r,e):r}function TP(r,e){if(e&&wP(e)){if(r instanceof cp)return IP(r,e);throw uf("To use ref(service, url), the first argument must be a Storage instance.")}else return NA(r,e)}function qy(r,e){const t=e==null?void 0:e[yA];return t==null?null:gn.makeFromBucketSpec(t,r)}function CP(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:sv(o,r.app.options.projectId))}class cp{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=gA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=v0,this._maxUploadRetryTime=_0,this._requests=new Set,o!=null?this._bucket=gn.makeFromBucketSpec(o,this._host):this._bucket=qy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=qy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wi(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new O0(vA());{const h=q0(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Ky="@firebase/storage",Wy="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="storage";function SP(r,e,t){return r=$e(r),vP(r,e,t)}function Ec(r){return r=$e(r),_P(r)}function RP(r){return r=$e(r),AP(r)}function bo(r,e){return r=$e(r),TP(r,e)}function ul(r=ff(),e){r=$e(r);const s=Tc(r,DA).getImmediate({identifier:e}),o=tv("storage");return o&&kP(s,...o),s}function kP(r,e,t,s={}){CP(r,e,t,s)}function PP(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new cp(t,s,o,e,Ii)}function NP(){mi(new Ss(DA,PP,"PUBLIC").setMultipleInstances(!0)),or(Ky,Wy,""),or(Ky,Wy,"esm2017")}NP();const DP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABdBJREFUeF7tnTlC3UAMQL/PAx30hApuBblVqPLTQwfn+UGOZyLrzybPprFFCcYj6WmbxfZ00h9RFphESaPCnBSIMCdQIEcFcn/7/MPo/v756yzMDlfiYHnhj61kLh4hoMjlcnlBGloQLgjTNP1cfn9upTSVYzE+yP1wOp2C8n7/fXamaZr+LKBeSzpXESAIQkyZqOwA6P3zV1ElXYMyIQTlNk5VQu4sIPe3z68kGrDgNi0Zb6JahTyyFpgE5zlH5AU1vI6XK/cmIAGlQJk5BXHSD/JWnOpmfrkKYifwONAmmeG+y/2caW6r3CwgPhDfHvXIARCKf1AS/k4jL2cMj9wziJJyO7IFe4xkIItSv7Ext3pBtJD8975VxGwZzxEVbCOlyGuucUUhR+4kIC6lPr7eHjmCbr2Wjs1RLud/t8rrA5MqdxRIT6VylBtV7iAQh1LFagXXAzkG5lzLlYN7PVcWLxBJMAKRcuUgXANwDbzlelp/Qw2KF8jdzdPFDJ7T4WxRINaF4W4Gy+ZQvMkkM0XHVChOIHc3T9BNzZOf1GKUIlSpa0gUnE2DgX8/ktyrzpUaSbpSRl7iNNDx4TU0C6mUE5S6T8y+VxGCU9XH11u0CyslKPc+JAXAMo1dzpAsN+iJnYnKujJ4jB7XaLWvz52E1ZbPd3/sTDS1roCMEh1YUext8Hvp0eFKuVhmC2S06ECtMNSOeUlHYiHnRokFMmJ0YGUhDZRaKGyVyly1ZAYSymmthDviOMTu8yTXALEbTaPk4D0ApJ0izKdmIKE2bA+KS9YB2X6eOxkg8zLJSEVRspE5stEJ7jRqd8VRWvK1tI6sgGj96IPOdLiQoRRIHwarUdGU4zxpQe9PxAdE7Appf5PVlQB3WhAhZiNKgdS1u/fuTiDa8naiQeaBGiH9ONiRV3MROlMUIN/hRKApy+6f6zykjy9o29vH7qGibpeu6NJJt4NwwmzUTBy69QFA8I6bAmmG4t9ACqSxwWPDkcXdx1WEwPNzrU61xwQ9yt8xEGiq6AaVAmnsCfQsw9WOoaRzvI1t03w411mGq0MOmrbacaH1wx5yABF0Gb4dCDOS6+gVPpeFT7xr+1uZj2/rHJ9ctPMRTVuVaZCHWnHdpmd7dV2rPot5BN9JUS8Q3R+pRyZ00mfY50Pqmav+nUPnqK+A6DmtukBi9k15xlA7roKMYk8ZOIG4DgEXlOmwt4pFBxgm9Fi0zksKug59/M63Oxt6cYDOSwoCSX3UPPiULT2ZPdoTSgXtmXWrlFRlBoi96wRHCTyuoAWeiYb7donoc+i+tyYw5Trs5ampKilC0Kqk6FdtSKXNSVUsIHTtRZdV4i6Q2lXRO0VTlvmH1LfZxEXd/xXcuoEtkgwE/knrSZozcevGZiBL6rL1RPdNrgFtqRtZQHLCMc2/xr1qa93IArKkLjo/EfPmtl44S71akFVDsLKlBOhlwJLjlrTFZiCOIn/IFw+UhAE2zQLigXKY5ZUa9TQbyFGh1IBRJELQxHH16Yo9L0TWglEUyFEipSaM4kAcE8ddLdnXhlEFyF67r9LdlK/tLlLUXTdvpUDJ+YTvXi11qQZkL5HSEka1lLWXGX1rGE2AjBopPWA0A+KCInnpnr4tu+WcqmoNoUXS82ExMUstrq+5tYTRNELQjN58VsJ+zUDCHr3jxf5Vv+bWvO2NtaO9crT0Fr1pynKkMPrp1ubPyTvqRdfNtq5APMW+yb6K1HrWHYiJmpae6qoXUl4pIgZIq/mKpNrlqmeigNRMYZ6Wtmu9GALIAmV1qmXuzzM+fC+lpY11nl3mISlCoTlLVhc2SlRgm4hLWQmtcVK0OKJiiM0y8UB80RJKYbRjk7xuRh1wGCApBd8ztxBXuENpeyggqOC/4C97QrR8fzrvAf8OomKJIvgK6DA/wwEJFHxr9JyOrDe5YYF4UtiQUTFUl5XisVA74Lo9PLY9dISkwBrtGgUijJgCUSDCLCBMnL+wsnqoqPHEQQAAAABJRU5ErkJggg==",xP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABGhJREFUeF7tnU16ozAMhuE87a7dz3TV3mraW6WryezTXXqeTE2AxxAb/0m2RL7s2hAj6fVn2UZA3+EjKgK9KGtgTAcgwjoBgNwrkOfHt9+T76fz4SgsDjfm2PaaL2vZTK4Q48jlcvljeTiDcEHo+/5j/P+xltNrO8bgG7t/dV23ae/P90Nn6vv+3wjqnbJzkQCxIIScCdpuAJ3OB1InXSdNhLBp99SpKOwuAvL8+Pa+UkMw4LEHcIGh7Dw+xZeAyQLC7ZTtKCUYzg60hpNrdxKQmiAcDr7k5piGdh9HMNGTmGggo1N/Y4ccjuNyel1NVfh8TrE7CogEpyZnU5zTaHcQiCSnUqBotXsTiESnYqBotXtY3/jGPclOWVBuEr1Wu2effECeHl4vHImZus2fFfMMRcLEI9Y/2+7FNN/VwNPDq5lNFa+6Y40rPO749f35YtrQoA7L19nuTSDKnBp8Mb3NdCCuXYPCDuP9uWvGeJNDtAxVKy/NwkuLohemf31/Lhgs/tCoDq7eW6vdtUoWQJSqo1bs2M5jq2QGAnWwxTvYsK2SGQjUEYwb6wGTSgYgmubvrFFp2Pi0LpmAsF1oauijtlMP65IBiLKFoLZAx9q7AKJimyTWM63HmWGrx+xKDj4AkcNi2gL6gEJkQTn2SOiiiACIKBxdNwDBDEsOFQCRw+JqCRQijAiSuiwgSOqyeFyTuqaCBmHxozXHXBfBwpA2pkWtTUBMtUbTIuoiL3b0YwARBnPaXIRChIAxl3FxgUoIDGMGgAiCMVWeoMhBCJRFkQOuq7ensigDApC2QJyFcqjNagfFvldkXduLbZQGXJy1vRi2GpC43tuyeJTIXu4PaRNNgrNu3h9i2kedFkGUI5uIuoMKQ1dkNAkOW6tjuITrahczLoJoB5rwPZHCe586LlzxQnGpw6uQMZdgF5iJydbzWjYfrQGV0BMJPTwn9KwTqISYSREQTINpaYRgbOYQ2xQMXeVgYmBEAxnXJqgBLuDim1Wtmww+wGz6AdYm+TRi1ZGkEOSTPCApMJKBYFslDUoqjCwgGLriocTmDbvF6Bxi/whQwlBy1JGlECvJ4+kPHi65MIqAIMm7aZTAKAYCKEsopTBIgADKFQoFDDIg9w6FCgYpkHuFQgmDHMi9LRypYbAAuRelcMBgA7J3KFwwWIHsFQonDHYge4PCDaMKkL1AqQGjGhDtUHyvlvBsZRX9O2u3N/eMGneJa8KoqpAJYsNX2KX2o+RX3qWewHV8VYXYBkiusq+VL0QBkZpXWsJoMmSte4UkpdTOF+IUYhvUuBjP+T4oipyQ2kazHOIytIVaWg9R6ziIAlI7r0iDISKHeJTCXXXfZEobM3yJUwj31FiiKmyfRQOhHsIkzKJCKhEPxFrhl9SBiZlF7QZIrlqkD1HiZ1mhHpSwFyY2cW/5qGbISlnha1OFqqS+1ZscC0mVqtgNECvhDy8mPp0P5iXFqj9qhyzVUd8wHkCEkQUQABEWAWHm/Acg5bd7EXVL3gAAAABJRU5ErkJggg==",VP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABA9JREFUeF7tnE1W6zAMheP1wAzmwAh29Xi7ghFlDjNYT8E5cY+b2pZcy8mluUxpLEWfryX/xQ38g4qAg/KGzgwEAtYJCIRAwCIA5g4VQiBgEQBzhwohELAIgLlDhRAIWATA3KFCCAQsAmDuUCEEAhYBMHeoEAIBiwCYO1QIgYBFAMwdKoRAwCIA5g4VshKQ2+un+/1+/28Yhnvn3P+Pr5dn7wqBrADk9vrpeYIRW999fr8+EMjCQDIwRi+ccwSyJI9pmHrL2fRDFxWyJJFhGEpQqJCFYQRzKSghsVMhnaFMOePOJ+zYVAyFVVZnCJES4mpqrKLmUHzZG0pelr0dwZRK25JZDlkdoJRK219FnCgldoFAjIEIMMJ84zAzn5snEEMgGhhUiGHAS01ZwGBSN4JlBYNADIBoYMTzDMkkc4gUocL/rWFQIWAw1ED8NL/B9z/36MfXy641gdcMU+I85ObqMSwRbwrE2EOdeygB6TFMZYFojP257l7h8NowjoYswlhXGaHfjFUWYWDAOCjk5upxLyi7mOQqRgW4n07JN/t+ms56bgJPBcMVDO4kZ+Gia+zQ0jBGheSMfn6/bnrSuAaMEchU4h6Vt5YSNO60izS3FowA5CR/bBnImjAIZKY3Kxh+ZUOa7eek7ocsKkRZ+mtGDp8CWoohAjGGMR2eLi6/lBLh5oFYDVNxcSQtwRBIJgI9YGgWKAkkEYFeMAjkjJmJFQxvOlMUMYdouVjCIBBt1DvnjLh5KqQBiqQOzTxjbh4KSHxxMTiqealwRN/X7FMSzB6tDO0mbPnV6Pf45HiJVQ8YcENWbh+lBKUUmNwKs3QvT7NMIbQhdogcbBiFKHrcSaUh3bHLnXuVNtCkrYJeMKAUIgUpNVuVIJ4LRJoZp+xqhlZNuoJRiALIyTCgADLMe7tCVeLRnchX811QJCD+7Fb23FZGIf7rBcVrwakkLcHXDFlefZpco1EFZNkrXO/NJsnUDmVUoSVnuD1zQC0A9LI3+4mI2hJ0zTzQAgVmyIpfIj77qx0Wpmf8kFc1lHi1+Ge8fa2tloBLz0ICkZy+5P8TCBhdAiEQsAiAuUOFEAhYBMDcoUIIBCwCYO5QIQQCFgEwd3ooJLVqW/yEEFhMVnMnt8AqrT6XHE7eD/EPtDS6WoQWNtzjslP2BpXVjtrCMVrMXOkq4PxTfjVOeSDiplFNg5f+298NtrvpHZObc60dmdeibXtQc+49XOws7eTZ+ny5rUmbbJo3P7ppqzmEoGl0g78xOzxxcvWZUOq6U2vOmFsr3kWPtlnrvLzsXx+++tBjC3nTHwdA7DcEAkaFQAgELAJg7lAhBAIWATB3qBACAYsAmDtUCIGARQDMHSqEQMAiAOYOFUIgYBEAc+cH5XHAiogo0QkAAAAASUVORK5CYII=";class OP extends ft.Component{constructor(t){super(t);G(this,"downloadProfilePicture",async()=>{const t=this.props.comment.owner,s=this.props.comment.owner_picture_url;try{const o=ul(),l=bo(o,`images/${t}/${s}`),h=await Ec(l);this.setState({profilePictureURL:h})}catch(o){console.error("Error al descargar la imagen de perfil:",o),this.setState({profilePictureURL:null})}});G(this,"getDate",()=>`${new Date(this.props.comment.created_at*1e3).toLocaleDateString()}`);this.state={profilePictureURL:null}}componentDidMount(){this.downloadProfilePicture()}render(){const{profilePictureURL:t}=this.state;return A.jsxs("div",{className:"home-comment-container",children:[A.jsx("p",{className:"home-comment-text",children:this.props.comment.text}),A.jsxs("div",{className:"home-comment-row",children:[t?A.jsx("img",{className:"home-comment-profile-picture",src:t,alt:"Perfil"}):A.jsx("div",{className:"spinner"}),A.jsxs("p",{className:"home-comment-owner-text",children:["Escrito por ",this.props.comment.owner_name," el ",this.getDate()]})]})]})}}class Hy extends ft.Component{constructor(t){super(t);G(this,"fetchComments",async()=>{const{post:t}=this.props;this.setState({isLoadingComments:!0});try{const s=_i(xs(lt,"comments"),Ai("post","==",t.id)),l=(await Ei(s)).docs.map(h=>({id:h.id,...h.data()}));this.setState({comments:l}),this.setState({isLoadingComments:!1})}catch(s){this.setState({isLoadingComments:!1}),console.error("Error al obtener comentarios:",s)}});G(this,"isLoggedInUserCard",()=>this.props.userData.id==this.props.post.owner);G(this,"downloadProfilePictureIfNeeded",()=>{this.isLoggedInUserCard()||this.downloadProfilePicture()});G(this,"downloadProfilePicture",async()=>{const t=this.props.post.owner,s=this.props.post.owner_picture_url;try{const o=ul(),l=bo(o,`images/${t}/${s}`),h=await Ec(l);this.setState({profilePictureURL:h})}catch(o){console.error("Error al descargar la imagen de perfil:",o),this.setState({profilePictureURL:null})}});G(this,"getDate",()=>`${new Date(this.props.post.created_at*1e3).toLocaleDateString()}`);G(this,"userLikesPhoto",()=>this.props.post.liked_by.includes(this.props.post.owner));G(this,"handleLike",async()=>{const{post:t,userData:s,updatePost:o}=this.props,l=s.id;if(!l||!t){console.error("User or post data is missing.");return}const h=t.liked_by.includes(l);let f=[...t.liked_by];this.setState({liked:!h});try{h?f=f.filter(v=>v!==l):f.push(l);const g=an(lt,"posts",t.id);await jr(g,{liked_by:f,amount_of_likes:f.length},{merge:!0}),o({...t,liked_by:f,amount_of_likes:f.length})}catch(g){console.error("Error toggling like:",g),this.setState({liked:h})}});G(this,"handleCommentChanged",t=>{this.setState({comment:t.target.value})});G(this,"handleAddComment",()=>{this.setState({errorMessage:""});const t=Vs.validateComment(this.state.comment);t.valid?this.createComment(this.state.comment):this.setState({errorMessage:t.message}),this.setState({comment:""})});G(this,"createComment",async t=>{const{userData:s,post:o}=this.props;if(!s||!o){console.error("User data or post data is missing.");return}try{const l=crypto.randomUUID(),h=new Date().getTime()/1e3,f={id:l,text:t,post:o.id,owner:s.id,owner_name:s.first_name+" "+s.last_name,created_at:h,amount_of_likes:0,liked_by:[],owner_picture_url:s.picture_url},g=an(xs(lt,"comments"),l);await jr(g,f),this.props.updatePost({...o,amount_of_comments:this.state.comments.length+1}),this.fetchComments()}catch{this.setState({errorMessage})}});G(this,"renderComments",()=>{const{comments:t,isLoadingComments:s}=this.state,{profilePictureDownloadURL:o,profilePictureURL:l}=this.props;return this.isLoggedInUserCard(),s?A.jsx("div",{className:"spinner"}):t.length===0?A.jsx("div",{children:"An no hay comentarios en este post."}):A.jsxs(A.Fragment,{children:[A.jsx("span",{children:"Comentarios:"}),t.map((h,f)=>A.jsx("div",{children:A.jsx(OP,{comment:h})},f))]})});this.state={profilePictureURL:null,liked:this.userLikesPhoto(),comments:[],errorMessage:"",comment:"",isLoadingComments:!1}}componentDidMount(){this.downloadProfilePictureIfNeeded(),this.props.isStandalone&&this.fetchComments()}render(){const{profilePictureURL:t,liked:s,errorMessage:o,comment:l,comments:h}=this.state,{profilePictureDownloadURL:f,post:g}=this.props,v=this.isLoggedInUserCard()?f:t;return A.jsxs("div",{className:"home-post-card",children:[A.jsx("p",{className:"home-post-card-text",children:g.text}),A.jsxs("div",{className:"home-post-card-row",children:[v?A.jsx("img",{className:"home-post-card-profile-picture",src:v,alt:"Perfil"}):A.jsx("div",{className:"spinner"}),A.jsxs("p",{className:"home-post-card-owner-text",children:["Escrito por ",g.owner_name," el ",this.getDate()]}),A.jsxs("div",{className:"home-post-card-button",onClick:this.handleLike,style:{cursor:"pointer"},children:[g.amount_of_likes,A.jsx("img",{className:"home-post-card-icon",src:s?xP:DP,alt:"likes",style:{filter:s?"invert(23%) sepia(85%) saturate(1766%) hue-rotate(344deg) brightness(114%) contrast(108%)":"invert(93%) sepia(4%) saturate(124%) hue-rotate(316deg) brightness(93%) contrast(92%)"}})]}),A.jsxs("div",{className:"home-post-card-button",children:[g.amount_of_comments,A.jsx("img",{className:"home-post-card-icon",src:VP,alt:"comments",style:{filter:"invert(93%) sepia(4%) saturate(124%) hue-rotate(316deg) brightness(93%) contrast(92%)"}}),!this.props.isStandalone&&A.jsx("button",{onClick:()=>this.props.handleCardClick(g),className:"home-post-card-see-comments-button",children:"Ver comentarios"})]})]}),this.props.isStandalone&&A.jsxs("div",{className:"home-post-card-footer",children:[A.jsx("br",{}),this.renderComments(),A.jsx("textarea",{value:l,onChange:this.handleCommentChanged,className:"add-post-input",rows:"4",placeholder:"Escribe un comentario..."}),A.jsx("span",{id:"add-event-form-error-message-span",hidden:o.length==0,children:o}),A.jsx("button",{className:"home-post-card-add-comment-button",onClick:this.handleAddComment,children:"Agregar comentario"}),A.jsx("button",{className:"home-post-card-back-button",onClick:this.props.handleBackFromStandaloneCard,children:"Volver"})]})]})}}class UP extends ft.Component{constructor(t){super(t);G(this,"handleCreatePost",()=>{this.setState({errorMessage:""});const t=Vs.validatePost(this.state.post);t.valid?this.createPost():this.setState({errorMessage:t.message})});G(this,"createPost",async()=>{var s;const{post:t}=this.state;try{const l=(s=Rn().currentUser)==null?void 0:s.uid,h=this.props.userData;if(!l||!h)throw new Error("Ocurri un error al obtener la sesin");const f=crypto.randomUUID(),g=new Date().getTime()/1e3,v=an(lt,"posts",f);await jr(v,{amount_of_comments:0,amount_of_likes:0,created_at:g,text:t,id:f,liked_by:[],neighbourhood:h.neighbourhood,owner:l,owner_name:h.first_name+" "+h.last_name,owner_picture_url:h.picture_url}),this.props.handleBackFromForm(),this.props.fetchPosts()}catch(o){this.setState({errorMessage:o.message})}});G(this,"handlePostChanged",t=>{this.setState({post:t.target.value})});this.state={post:"",errorMessage:""}}render(){const{post:t,errorMessage:s}=this.state;return A.jsx("div",{className:"home-container",children:A.jsxs("div",{className:"add-post-form-container",children:[A.jsx("span",{className:"add-post-form-title",children:"Crea un nuevo posteo"}),A.jsx("span",{className:"add-post-form-subtitle",children:"Ser visible para todos los miembros de tu mismo barrio!"}),A.jsx("textarea",{value:t,onChange:this.handlePostChanged,className:"add-comment-input",rows:"2",placeholder:"Escribe tu post..."}),A.jsx("span",{id:"add-announcement-form-error-message-span",hidden:s.length==0,children:s}),A.jsxs("div",{className:"home-form-buttons-container",children:[A.jsx("button",{className:"home-form-back-button",onClick:this.props.handleBackFromForm,children:"Volver"}),A.jsx("button",{className:"home-form-finish-button",onClick:this.handleCreatePost,children:"Crear post"})]})]})})}}class Yy extends ft.Component{constructor(t){super(t);G(this,"fetchPosts",async()=>{this.setState({isLoading:!0});const t=await this.viewModel.fetchPosts();this.setState({isLoading:!1}),this.setState({posts:t})});G(this,"fetchNeighbourhoodData",async()=>{this.setState({isLoadingNeighbourhoodData:!0});const t=await this.viewModel.fetchNeighbourhoodData();this.setState({isLoadingNeighbourhoodData:!1}),this.setState({neighbourhoodData:t})});G(this,"toggleEditDescription",()=>{const t=!this.state.editDescription;this.setState({editDescription:t})});G(this,"handleEditDescription",async()=>{this.toggleEditDescription();const t=this.viewModel.validateDescription(this.state.description);if(t.valid){const s=this.props.userData.id;try{await this.viewModel.editDescription(this.state.description,s),this.props.updateDescriptionState(this.state.description)}catch(o){this.showError(o.errorMessage)}}else this.showError(t.message)});G(this,"updatePost",t=>{this.setState(s=>({posts:s.posts.map(l=>l.id===t.id?t:l)}))});G(this,"handleBackFromForm",()=>{this.setState({showAddPostForm:!1})});G(this,"handleDescriptionChanged",t=>{this.setState({description:t.target.value})});G(this,"showError",t=>{this.setState({errorMessage:t,showError:!0}),setTimeout(()=>{this.setState({showError:!1,errorMessage:""})},3e3)});G(this,"handleAddPostButton",()=>{this.setState({showAddPostForm:!0})});G(this,"handleCardClick",t=>{this.setState({standaloneCardId:t.id})});G(this,"handleBackFromStandaloneCard",()=>{this.setState({standaloneCardId:null})});this.state={editDescription:!1,description:this.props.userData.description,errorMessage:"",showError:!1,posts:[],isLoading:!1,showAddPostForm:!1,neighbourhoodData:null,isLoadingNeighbourhoodData:!1,standaloneCardId:null},this.viewModel=new m0(this.props.userData)}async componentDidMount(){this.fetchPosts(),this.fetchNeighbourhoodData()}render(){const{neighbourhoodData:t,isLoadingNeighbourhoodData:s,showAddPostForm:o,posts:l,isLoading:h,showError:f,errorMessage:g,description:v,editDescription:E,standaloneCardId:C}=this.state,k=l.find(F=>F.id===C);return A.jsxs("div",{children:[A.jsxs("div",{className:"home-header",children:[A.jsxs("div",{className:"home-description-container",children:[E?A.jsx("input",{className:"home-description-input",value:v,onChange:this.handleDescriptionChanged,type:"text"}):A.jsx("p",{className:"home-description",children:this.props.userData.description?this.props.userData.description:"Escribe una descripcin de tu perfil"}),E?A.jsxs("div",{children:[A.jsx("button",{onClick:this.handleEditDescription,style:{marginRight:"10px"},children:"Aceptar"}),A.jsx("button",{onClick:this.toggleEditDescription,children:"Cancelar"})]}):A.jsx("button",{onClick:this.toggleEditDescription,children:"Editar"})]}),A.jsxs("div",{className:"home-cards-container",children:[A.jsxs("div",{className:"home-card",children:[A.jsx("div",{className:"home-card-image-container",style:{backgroundColor:"#fae0cf"},children:A.jsx("img",{src:g0,alt:"Eventos",className:"home-card-image",style:{filter:"invert(79%) sepia(10%) saturate(2123%) hue-rotate(323deg) brightness(97%) contrast(93%)"}})}),A.jsx("p",{children:"Mira los ltimos eventos por tu barrio."})]}),A.jsxs("div",{className:"home-card",children:[A.jsx("div",{className:"home-card-image-container",style:{backgroundColor:"#fbc781"},children:A.jsx("img",{src:y0,alt:"Alertas",className:"home-card-image",style:{filter:"invert(94%) sepia(24%) saturate(654%) hue-rotate(2deg) brightness(97%) contrast(104%)"}})}),A.jsx("p",{children:"Est al tanto de las emergencias vecinales."})]}),A.jsxs("div",{className:"home-card",children:[A.jsx("div",{className:"home-card-image-container",style:{backgroundColor:"#eafbf1"},children:A.jsx("img",{src:mA,alt:"Anuncios",className:"home-card-image",style:{filter:"invert(72%) sepia(28%) saturate(518%) hue-rotate(107deg) brightness(89%) contrast(94%)"}})}),A.jsx("p",{children:"Vende o regala artculos que ya no utilices."})]})]})]}),o?A.jsx(UP,{handleBackFromForm:this.handleBackFromForm,fetchPosts:this.fetchPosts,userData:this.props.userData}):A.jsx("div",{children:h||s?A.jsx("div",{className:"loading-container",children:A.jsx("div",{className:"spinner"})}):l.length>0?A.jsx("div",{className:"home-container",children:k?A.jsx(Hy,{post:k,userData:this.props.userData,profilePictureDownloadURL:this.props.profilePictureDownloadURL,updatePost:this.updatePost,isStandalone:!0,handleBackFromStandaloneCard:this.handleBackFromStandaloneCard}):A.jsxs(A.Fragment,{children:[A.jsxs("p",{className:"home-container-latest-posts-text",children:["ltimos posteos en ",t==null?void 0:t.name,", ",t==null?void 0:t.province,":"]}),l.map((F,z)=>A.jsx("div",{style:{marginBottom:z!==l.length-1?"0px":"30px"},children:A.jsx(Hy,{post:F,userData:this.props.userData,profilePictureDownloadURL:this.props.profilePictureDownloadURL,updatePost:this.updatePost,handleCardClick:this.handleCardClick})},z))]})}):A.jsx("div",{className:"empty-content",children:A.jsx("p",{children:"No hay posteos an... Se el primero en publicar uno!"})})}),!k&&!o&&A.jsx("button",{className:"floating-button",onClick:this.handleAddPostButton,children:"Agregar post"}),f&&A.jsx("div",{className:"error-message-container",children:A.jsx("p",{children:g})})]})}}class bP{constructor(e){this.userData=e}async removeAnnouncement(e){if(!e)throw new Error("Announcement ID is missing.");try{const t=an(lt,"announcements",e);await a0(t)}catch(t){console.error("Error deleting announcement:",t)}}async fetchAnnouncements(){const e=this.userData.id,t=this.userData.neighbourhood;if(!e||!t)throw new Error("User or neighbourhood data is missing.");try{const s=xs(lt,"announcements"),o=_i(s,Ai("neighbourhood","==",t),rp("created_at","desc")),l=await Ei(o);let h=[];return l.forEach(f=>{const g=f.data();h.push(g)}),h}catch(s){return console.error("Error fetching announcements:",s),null}}}class Wc extends ft.Component{constructor(){super(...arguments);G(this,"handleLogout",()=>{ml(yl).then(()=>{this.setState({user:null})}).catch(t=>{console.error("Error al cerrar sesin:",t)})})}render(){const{hideSignOut:t}=this.props;return A.jsxs("div",{className:"loading-container",children:[A.jsx("div",{className:"spinner"}),A.jsx("button",{hidden:t,onClick:this.handleLogout,className:"logout-button",children:"Cerrar sesin"})]})}}const wc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABOJJREFUeF7tnc1S4zAMgJvngRvcWU7wVrBvBactd7jB83RrT9JxQ2JZ1m8c99SZOP7RZ8mS7CTDof9cSWBw1ZvemUMH4mwSdCAdiDMJOOtO15AOhE8C97fPf+a1fX6/Hfla0K9pExoSBH86nV5G8fyCkBHbcRiGj3D98/vtVV+8+BZdAplm/ggBAwCSQATkGY4rIIkmcEJYhDQMw1+PYFwA0QQxp+MNjDmQ+9vn12R9gEyO2HUvYEyB3N08/TscDuLmCUHx+PXz/ogoz17UBIiliSqRoKW2qAPxYqIgMFZQVIFsBcYEywKKKpC7m6cTNDO9XdeGogZka9qRTgxNKB1IoUpqQdEEEvJRwc2t/YWkoamLrAFFDUigAJitmKUNgx6TgatZ2zHXFeGcIT9ogpKGogokgRKEGH8lACCV0l6fJKGoA4GES7muCUYKSlNAJphaKRkJKK0CUYt3uKE0B0TTbElE9M0BscoGcGlKU0DGLDIl1qH4FNFjpO5CtgbEfLPrvGf/SDn50hQQK3M1UyvSJlczQCwW8zX79vXzXi3X6htJxlbgZk9AKGarGSBOzFWcarvXEE/acU509jXEExCq69uEyepABBZlSpXWAWHad8r6EbcjKILwdK+HRZ1qrpoC4sFsdSAzFdXaB1mzDJT445I59mR2OPpiDIXk8jZlslKY1lBG01X1aN1mF/XgWeWyqsZQLoc3xlMxV8qfe4prc0BSFxey2dZQciZ4zQHYFJCleGPLUJbSLJsBknNrW4KyCSAlMUYrUNwDKYGRnP7Ibp96XlMm8+UaCAZGC1CClrsFQpnNkPlCgJ4OgH9oPCkcPC+XQCgwSjVlOkE/jxPGV3Ec5zEOAmJ1wsEdEO6ncyFNwUpOGEpMu7jREKk9DW4oHNq7NBGmfroAIjzzQhqDdHhNOk+W9s8ciDSMmEF1DGTeN1MgW4MR4HLuTC5NFDMgSjDIh5/n9p4LyJrWmgCRWhhT4XFsp85hcDkeOROqDmSrMAIcDiDQeqYGhDvGyOxrs5spJi8rvF4w9C27k6gChGNmFQZx5D1tqJ3KsRT3SxxI5QAguSxdLx50TeXpPUiHBNUvUSDIjpPkRD0xiG28cGwoGKKnTgo7jJXDYnlooWRpZKES6FUhNa8LFNGQPcCY+KyMFa0Zlyw19+zRcGuTFLuoR4WRzQjmocSTytXLqiF7hYEBB5VlAaIVY3jUDEjA2OtkIIpubRybREoEKzTJ8iQgHQY/mmogmp7UOOxqz4VfbHI1VgExgEF61FhOfPw1o4FYwLAK/PjFDdeIAqLp1iYeFdt+OCwO+xLFQIxguAn8tFCBQLRjjD3EGtWRurZbu3cYMc5ao9VhaBmp63YWgVh4UnuIwksQ/wJiBYP6Fp2SwW6hzBWQDsMe2QWIIQzWo572IqX14AKE60Qetjt7isJLZBOBWGlH66n0EgDzMhFIj8JrRCdzzwRE7eX13b3Ng1TXkG6mCoBoReUdBmzmUi9L+ru0u9jxg0VeoCGjp0X9ilqupQ6jkJRKpK597rZw7C6LieeyeuCH4y6a7e2LOA4GtB9C+jhKh4GHkQVCSal0GHUwQCA1UDqMehhFQDBQOgwajGIgSZzysvYh4A6DDgMFZGoupOrD//GFXpcvPEOP+/J0t/1awHNZ7YvA1wj/A0fuS8pbZGGBAAAAAElFTkSuQmCC",xA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABLlJREFUeF7tnU1S4zAQhe3zwA72E1Zwq2FuBasJe9jBeTxRSkoJl+z+lWiYx5I4dvf7+rVaITbzhJ9QCsyhokEwE4AEKwIAAZBgCgQLBw4BkGAKBAsHDgGQYAoECwcOAZBgCgQLBw4BkGAKBAsHDgGQYAoowrm5uv87TdNhnuc/r+9Pj4pTbL4FDhGqWWBUbzu+fTzfCU8TD8jt9cMhR3VYluXXOsJ5nl/y746v709Hr4Qt57m9fnhcluV3I1Y3pwx3SAKRkypAWBr1aA+sC+eDtmCUc5wK6M6jcIYB0YLoWY0SIDdX9wt1/NvHs1lP8wmoINPrjb7LedvuMSMdQ7nDcz3pCsTLFVtkRkARwDiHaY2pG5AMI42HXX+sAlDBcVpVo62q15NuQDSJUOKMdoqh1apH4S5ApDYv4222/Eseg6VTmLoqW6CVOVxOpXWuOxBJIino0453c5+R9yplTKYMpK7K9YklOewFpRmF3YEwW9UxVxBrw8cVSCNAS1BmDlSBpNfFReIKhCOc1srMiU0sQC93VBtG0S5+KBAtjJIcZ3KzuIRTUBxbWKYuVyCU1a1AUqIM0dQuoeLXwCjv4e7i3YBQQnnAKMkRwqmAUPFbYEg2jMOAcCuEkzi1P9Bcq6c7JC5xA0IlpBFpCw61lmjWESp+TqFQx3A0GAVE1Ub2EtwTUNMeKciU2MTr7DF/CBCNQJQAe23Ler3qj2d1GLsb1LLJXcct/RvJjwSi2ZBRBUA5SNMmW9d0ATIq2DoBYmF3b5GjcgQQyhr5dQAhhIJDdgQaVT1oWcHsDCAAclFgVBfAoh6s6AAEQJgKYMrSCzWqv2JRZzICkPMX5Fy+9YI1JFjRAQiAMBXAoq4XCmsI1hDqFgd8/H76Pu7mN929JhCMvcwuhpaFloWWtWcWOAQOgUPgkPPt3N0HF+zUgw0uAAIgTAXw0YleKExZmLIwZWHKwpS120PxzUV8cxH7kD2LfIFDmg8vKzFy7o7ijE3ifchX3sxSJ0TdpOklULnmqOuxgDBv2ucUQPMYzd9LKIE05zQ4cvIqABaQKDdErhwypKeXa1Ia/PdAklA97lffcon3TaZb12E5hGoP6l6V36i9SZO6X92rbVH5a+Nv6cYCwqhGExOt3SkgHjd/UjBS4tr4TUCoz6u0RCzVxYnJ6hIKiCV+E5D0Zio4KRSPZBguUT+YkpOvRw61buyWVU0b5+eeS8VvHe9hdY5L0rUlwknGfI8cTEC4AlDArK2kPj/HJfn49IiL9Ajz5mMFhY8UFEGm9Civix3i0bok1cpJxFAk9SMGRa73zsEEJE9d2tbl/jVPjyLhgK+P8W5VZiDaquyVyEgonu12XQiqllVOwplCPi1YHf4ByjohaUxCZ7AfsyQ87+VwExBJ6+rVc1uJd4LSpdW6OkQyCvdsVVvV6ASmuytMY+9GRVKfvIqeXau1uzOYoSDMizq3d49sVRTIss9Ix+38m6XzKCx9Ehx1be7r5jWkvlDvf5jFTeo7H+cKZDV6DlkEv7P4rdjdgfw0gUbnAyCjFSeuByAAEkyBYOHAIQASTIFg4cAhABJMgWDhwCEAEkyBYOHAIQASTIFg4cAhABJMgWDh/AMSXy6wKzyW6gAAAABJRU5ErkJggg==",VA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABM1JREFUeF7tnUFC3DAMRSfngR3sW1Zwq9JbwarDHnZwnhRPY5qBxPqyrERu/2zHsWU9f0lOnJnhwE8oDwyhrKExBwIJtggIhECCeSCYOeEUcn159z356Pn14ejpq63G0c5hVyDJKeM4/piMPoFY+ByHYXh6fn24105u3v768u5+HMdvpbGGYfg5LQbTWBY7dwEyA7EGYXFOyWFaMBOIDB32Vc1YcOeFhpsDubq4/XU4HFQgPtuPOGuCnsaq/iDjVHe+cuFmQFo4aD6HkrNqVbHm3PeQeeOd0/LYmwBpDePD+IUQ1hrGbKxNoGwC5Oridmwt7TVHOY51fHl7vPGax2YKqVixudxF88yHo5RjpXHQMbK/3KG4KwRcsam0TRXU2d5j2iuk0jiVq6vOyzFeGOs0xlTWro0jVmPe+cQVCLBiF0EshQWhr9NeZbanOesCrZZme5WSclxV4gpEUod2tQGAv7CsGCMpslguv7w9uvnNrWOpskJX7WcPa/YxtWNI4LWQNYWAJ5B0q2I1JltWmaS87ACvMf5FIKY4LK3gBKRWHRlmSYnWvkuK2UUh1glJ4TBN2KKOdD2BaALtH4cVN5tWICUVWhfUXgopVSumkCWt4Pc9i7n//w1I+JBSUmCXSV1axdZJea5gqWiwhsNdQpYExBpWPIEI6lA/JNOkR7cqa1Y+lpJvdaz3AiJtPD3VcSrXNfRq2kryr61YPIBIMGpt1fjNHUgyRoJSs5FrCcTDPg2EeVszkHycRjJguo0iPn/It8in/opHgQp3d59SjhJsEm/rz67/uHUvzdP6qFcNpPbEiDQR7felKg3ZyWvH07avPVKkAoJIW2t4bfvoQPK8tHkHBhIJxpRzVg8dRFDIWV5QnFqBgUgVSO1Kr72uF4XkXIgekNAAcTs5UgOlMyDwrSIISLQQ0FvIkuxVl70EUqPh82vQe3dUiN3XUA8EIpwcgbzYsBGBEEjD5QR01VuVRYVQIcCybtiECuloxfVWpnMf0lCpaFfMIR0pmgpBl3XDduizeGinnuySTgo2tB3qqrek7gHE/Doz5GmwUU9ANA+pYIVEq1w6AwK/wQsDSQs30lPDXoBo1HG6TQ9GiLNmyO+G1PSruSYwkNNpl9rfZ6kConEc2+o8QCA6f7m3JhB3F+sGIBCdv9xbm4GkBO9u5fIAx9Kxzah2Sb4yAdlzbxK1ykJvIq6BIRBpySq/J5AFh0VVLsKWCkG8pGhDhVAhfz0QNTREtQsRGkMW4iVFG4YshiyGrJJgqBAqhAqhQhY8wFsnHYUGlr2KsrBVUyqECoHWEqusjhYKQpQ7dcRLijZUCBXCfQj3IdyHYEEzar0f1S7Eq0zqiJcUbZjUmdSZ1JnUmdSxoBk1eUa1C/EqkzriJUUbJnUmdSb1kmDQt23X+jCFrNTpXq9LR30eEgHILq9LBwVS/ecCWTEtFEIgkze1b9wuhS0zkL1KzIgKCQFkyiObqyQakBYwki/NCsmy2zq5RwNiTebNckjuaOvQFQlIK3U0VcgMTPEvVxWb3mLTIEDMVdXnSTYLWfOO0f9Bt8DZEUj+6Ywv//9umU/zkCUZg/4Tj9RP/l76J5utx0Ptltq5KEQalN+ve4BAgq0OAiGQYB4IZg4VEgzIb83fcrA2nR1LAAAAAElFTkSuQmCC",LP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABOhJREFUeF7tnUFa3DAMhZPzwA72hRXcqnArWDHdww7Ok+I0ns+ExJJlyX4pYtUyiUfWryc5jm3GwX+gPDBCWePGDA4ELAgciAMB8wCYOa4QBwLmATBzXCEOBMwDYOa4QhwImAfAzDmsQq4v72+GYbiZpulX9Ok4jn/iv1/fnx7AfM0y51BAAoRpmn4HEKzeDcMpQDoSnEMAWUC8MCFsXjaO4+MRwEADESiCZPapmNvX96cTeWGnC2CBaKhiz6fIaoEEcn15/7DUCrM4RYUCB6QQxjn1hOK9jLi4BX9AhAIH5OribmLIIoyeQpHerAXJkDiMyLI/aDUFCsjVxV0YSeUiPAti7XnmoOD09vF8S4Fr9TkMEEaqEjuOahspdcEAIVKVGEaMbEp9bx/PEL6AMIIRwSrPDjnoKCqBAJKLXk1HEc821SrUqDMoQHZHVtqphICvosQaMN2B5NKVpjqik3IqQRgCowNRj1j0tNUdSC6FaKerZMS1lyK71xEEIM2d0yMIuHXFgaw8ZaVKB5LxgCsk7xxPWYl/EFLW3oSiWYF1hYClj8wUilkQHKmG7E65WzyoEQ+G3RdCdE9ZrR/UWs8McJURr+sOJBiSm4XVHoa2/K5SGOF6FCC5tKWWRohp/u71AwYIteRHq5b4+5ACzRJv9Kqjl3oJpp0aC7r+5VKIlBUsYqhEnLooGBbT/IcHshR3ctVJ6QoR6l365yqXavVJnb91H4xCOCo5Dw0ZC6cpxSVtqb9zqQEEBaQEyjwiGcfHpPNh0VzcL8JavYiUqqCeQ9YRReX8mggsUZnG95S2AaeQ2AFLKIjKgFaIJRRkGDAPhpSsldQCNZra6zNsytqoK3GTJ7mifXVv0QJtKjisPz8MkNQRQTHh/xv7QdL9IrvbFaydWtP+IYHUdBj9XgcCRsiBOBAwD4CZ4wpxIDIPLBs505vn+aq9s06WC+dRF/JBAWtvwCokAig82yRLO05GIh+xAQUk2TUbHMuasZXp7d9diIC6AynZU17jfOpelDmubkCYe8gpP6p/3htMcyCoIL4V1+XlV+t60xSI0qxt9N2XYzWSs07i5yo1qLVimgCpVMXs+NzZJlTeykxGUree4ZcuruA23HzYK1SF6ZR5AqhoKr+FWkwVwliCkwZIl/MRSwPGGooZkIKOmqqBmzoWe8MJp5zaY/b20QQIF4Z1tHFhpNdxbbdaYKcOhNkhCFXkgHH7oV3sVYFwOoGoij0wPfqjBoRpPNSyTU5K4yxJ1QwyFSBMow8HIwJr2T8VINTwVmvDDSeira5hQFEZeVUDoVLV/wCDqxSN1FUN5AjbxDRVYx2AVUDQtxhrgkjbstx+VwUEfYuxFZDQrlXfxUB+qjoiZKuzG8VAkA9wsVQGs8CLR1w1QDaPVdIYabRwqMZ3WASlCAj6AS4azua0QaRt0YOwFMju3/f4SQqxOHLWAogoMjgRiXaNxcBGHUh8/43mPG17kiWsmy+0pJlCCiTsB6/6q2naDkJrTzplJAJCPRihOaeHPdLDbMRAqDmdHk5A+U5puprTfU0nHMp379XAqAYSGpCucaoJBNB7VdYJVClk7ZgIJ/4+3UwD6kSxWckfQlbdFKQKRNw7v/HsAQcCFgwOxIGAeQDMHFeIAwHzAJg5rhAHAuYBMHNcIQ4EzANg5rhCwID8BYFVRJI8K4jCAAAAAElFTkSuQmCC",OA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAqtJREFUeF7tnDFSAkEQRZnzQAa5EsGtxFtBJOaQwXlGx1qrkJKdqZ5u+RbPxEC7+bxHO9T2YprwJUUgSaUhzAQhYi8ChCBEjIBYHCYEIWIExOIwIQgRIyAWhwlBiBgBsThMCELECIjFYUIQIkZALA4TghAxAmJxmBCEiBEQi8OEIESMgFgcJgQhYgTE4jAhCBEjIBaHCUGIGAGxOEzIfxSymK2fh9zf38Wehn6cw2m7aUlZnZDFbL3JOb+0NON3xgmklF5rYqpC5tNVBrQfgeN5N8p89IflT1XO+c0vDp1SSsvDabu/RQIhf/wa6RJSss6nqzIhHOYO4lzOkJJjONifEGO2sv+cjPfagV66Vw91cwQKTQQQYsIWV4SQOLamzggxYYsrQkgcW1NnhJiwxRUhJI6tqTNCTNjiihASx9bUGSEmbHFFCIlja+rcLORia2h6oEcuGrvcfs2lKmTYiZSNIVd8O19VtUvvTRcX2Rh2WvhZvj+ed8uxjiyoXHnXm9WmBCF1hq6/0SWkJGFj6Opj0nWTQ4nCoe4mpGwNy21AN29waDrUL+Pw1tcmpybhsmv1ba8tAlVWAgixkguqQ0gQWGtbhFjJBdUhJAistS1CrOSC6hASBNbaFiFWckF1CAkCa22LECu5oDqEBIG1tm0SMlzxLY/B1tBIuuWzIU0XF/nQp9HA72VsDF1xOjTrWlDxoU8HA1ctuoSUXtzk4CvFY2PIPw5wctJysDe9yyp5yuHulOsR23ytbVs2h81CHpHiPZ4zQu5BfeQxEYIQMQJicZgQhIgREIvDhCBEjIBYHCYEIWIExOIwIQgRIyAWhwlBiBgBsThMCELECIjFYUIQIkZALA4TghAxAmJxmBCEiBEQi8OEIESMgFgcJgQhYgTE4jAhCBEjIBbnA+JujmWC/59TAAAAAElFTkSuQmCC",MP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABZFJREFUeF7tnTtC3TAQRZ/XAx30CRXsKmRXSRXSQwfreYmMlYiH7bl3NLLH9tBAIcvSPZqPPhbdKX5cKdC5ak005hRAnA2CABJAnCngrDlhIQHEmQLOmhMWEkCcKeCsOU0s5Pb64Wvq5/l8/pb723Xd7/T38+uPR2cauGqOOZCbq/tfp9OpBzL103Xd9wAzro4ZkGQV5/M5wYB+AkpDIIhVTFB6enn7eQcRPEihKgsZrCLFiVkXFe4LH01VQG6u7s/4qyKmIFqpgVS4qdF2/c3C7p5ffzwhjd5zGRUQAsZTCt7ZpZVp8IioEU9OJ375/fb64VEQNmndg7gc8dKzkXkpgEhxQxIVgHJo10W5LEBMaMInuLxDuy4YiBWM5M+kSaRkZRHU30WcjR0vbz9huAOU2fqOmnXBIs7FDu2IDtf12dZNgLDWkZshua6UrR1taQUCMueutNZRQAnXVRiKBZDqNFWaaB4pnkBA5gTTuqvSe4br+q9GLRAzHy9lcUexkiogtfHjMseIrAtcOplKea2BSK7rCFaCWsjovoc1EGnC2OJ93mb9KJDRgwstBBKsxCxmeQOR21MFpMXELYAAQ2Um2JqPWCHbMn8f0P1Fi7iyECD1hZb3F1XQ+GUQkDk3YpX5SDBSv63eZayhaXUugIAwdm8d/aBD8c4sv1f5dQRGaqPFEg3a1zXLMUCmzuyqgUgTwX+p4IGOCFkAUft26cDEUeJGaZEwEOv5AeKqjhDEL90jDCQ9aLkMLwFpsQqwZmxA320GhB3NLfbo0U57LkcBsXRbc9bGwvUsMNs2CojkthghY+9jHBUNxMpKpJQ3YghhW1buJg43fBadthBpE4ldkhfmIupJJzG+XBVVARliyeTXU0wskVwXC9iVuorGqIFI8whm7Umq60jxRA1EshJ2ZAeUd3OqAiK5G8Z1SSn1sK61+yX4KiCAiHRQBjKvXUOpBgJYCS2gtAq855hSDQSwEnp5XoK8Z/dlAgQI8PSO31GhmAEBBKTjCVBnsj7aJZbTg+EqqXRxzpfhe/r0SfdqV0mZAQFm8CrxpHS4xn0hCUSqf8mrpEyBgPGEHtHWUNhLc2qtkJmwmwMB3Qz91RUCBZmMIu2bEnAJMOZAENeFCDcmCirmlHDo83MjujWUJkA8QrGAUYJqBaYZECSeLGEpqR1FBsW4c7FsCyhNgSDzk5pOSVmSqGhRYLhGKt/XldLgfzeqCvWM3nzEvPuD5WkfRJ9DXEUNFDDYzzZ37P1rZWLNLQSMJ6o5Sla5Boo0GMi66cnv5UhZBIhXKBKMAnh2YdBln2i9Y2a7GBBvUDSiMdaiqb9fdUBjgVU5pFPazoAurCoIM7FF04/FgaCWok2JSygXKW8ViMsBiQysfsSTi5+rAGGgDB1yeX0sai0MlNWAEFDoUWblXtF6EGtBT+GsCuRIUNADH6sD2RMUiwPkLoAwUDSBEnU9teUsDqK7ATJAgf8HCRMoa4VGn5diCRJHXAHJHScWDauXKlCxkXIW14K4BLJVF2bxmZ5bICyUtWOL5K42lWXNuQOpo5fPDvsai54UkdrIxDvXFlKKLXV6LTBIu3YJROPCshtLv1ucrbKG0bcXyR68lUGEGGtz3qat/ddK6PsZy8jt3SSQwlry8U92zNDHRYuFxPQuZKNKlZJvFkgmgI5WgFi/opzP9aa/h9Mq+VEEQi6rgrFZlzUmriEYgN1sETWMXQFpYDEaMFUwdglkLTCaAD6aeGiGwZaeKb7/QA++sd0z3RrefFBn1Bv5OId5vCybE4BP/6tRW+Hm097ajg+pc8qc+uxpIqP6sJdfLMs02+M/lIVYQGxdRwBprTBZfwAhBWtdPIC0VpisP4CQgrUuHkBaK0zWH0BIwVoXDyCtFSbrDyCkYK2L/wF4IYehKkrpCgAAAABJRU5ErkJggg==",FP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABPhJREFUeF7tnUFe5SAMh1/PM+50P7rSW41zK13Nm73u9DydSX9tpQglhATSEjc680oa/h8hlPJguNiPKgUGVd6YMxcDoqwRGBADokwBZe5YhBgQZQooc8cixIAoU0CZOxYhBkSZAsrcSUbI3c3T/ezz8ltZFQ7jzvXt4+Wa8jYIZIZwP47jz8vlYiBSKmZ+PgzD77ePl+dQsW9A7m6ensdx/LVzjyTlTP/Ofnm0QYfAbIDc/nj840XEFQqBYphwO7uypfWDxg423AbvQ1mBeJExgTAIpQjC5Wet13TgQpmA+N3UMAwPBkMGhmvV7ZEWzYNAoJBBkQUSyNXX98/XhwFGVP9HU5A74AcS9pqEDIoMlNjACfQGIOuo6v3zdfNvixR+IKH0sAQE5JJh6cfcxGI5hR/EXq52csk1CMQSPT+QvUbufDYBGeeu6dvTo0UKD5iUju7nu0AsUsqBpGDMGq8DKxdI9NkDY7Tc9fNZwOrmjnRRQCxS8hsLFgYpQhZ3AjeJzlrmV+E8JXJgFAGJRIpBcdpSLoxiIAYlHsn+BC1MhWDinpRDfMPelAvMfXUdKVQYLBHi5BR3HqxbKCUwWIH4xmIPmJiwPeo1pTDYgfQMhQOGCJAeoXDBEAPSExROGKJAeoDCDUMcyJmhSMCoAmQZMXkv8Q/9nCJZF5YHQ+wwVbIiWB9Kr5OuQ1UgIIZ0hUoF3ytfw/fqQI4KpQaMqjnEb3m1KsgRMTV9bRIhR0r0NWE0jZAjQKkNQwUQrTmlBQw1QGZH1lWTrd+ntIKhCogWKC1hqAPSGkprGCqB+FBgFT72fTR1iKvpFXTTYe+egFKTd/49NcFQGyGhIbFEpGiDoRqIL9YMia37krbP0X2il5JSb4YtF2q5zrdVi6FI28fWM3SduhwSW+3HlVMCMKaF5ZRVhiXCx8qqApISpRRKDMYiTur+EgD2BhlNuyysGNRF3gX2q34tXEWEYMXaacnRV8JzBWF7EPQ3inP94Yyc5kColffLgSjL1h/LV7oDG+agd6Wg+lUKpymQ0pwQeKqP6kGZsKR2jyVQmgHhgOF2YfB3YOciiIi/EDHU7UFqPzw2AcIJo6Q1YsvWhFIdyNFgOFFY5esWVYEcFUZNKNWAeBuiFU9/YLsb7uuku68qQDS8+OEGI1UncSBSjnMLTLEnUTdRIBIOU4STLMNdRxEg/nQF5aFMUkRu25xQ2IFIJz1uMbnscUFhBdIrjMikJ2kkyQakdxhcUFiAGIxtx1fyAFwMxGCEsxAVShGQFtPTXEm4hh0fCmaHcDIQg4FDmvuiiwQk9yY41897VY5e2UByjJ9X4vyaYXVzr7NdSfN1ziqBgeIDmc4MCU11YIxledfpxanc63z+tbO1v7DZYPC2nj0oy2fT3u/uhbAZP7hBGbrxun9OazEo7u7im+Mq4LgE6L44FzmfU1p6rfyHaveIEAiIKSICZ0/Bf5Mmyuiu9lMyAGXdr3LpojarKwyGfOOITT/FDgXrdodReRRTjo4GwObYvFDSmR0krwKsUcEj3AMggJ9zfnYXgW8WjdvBkvI06QdLur6FVprL+97FHaa1x+ijV0OSzOFmZ+LS28t6XG1qAXjytGi6D1aSooABoagmWMaACIpLMW1AKKoJljEgguJSTBsQimqCZQyIoLgU0waEoppgGQMiKC7FtAGhqCZYxoAIiksx/Q9JshA6ZuEeEQAAAABJRU5ErkJggg==",BP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA2tJREFUeF7t3UFS20AQhWHpPLCDA8AKbhVyK1iFA8AOzqNExKqoHNnWaLqn/xaPTaooedz9PrVHBFv0nb5QCfSoalRMJxDYSSAQgcASgJWjCREILAFYOZoQgcASgJWjCREILAFYOZoQgcASgJWjCREILAFYOZqQvYPcXj/evX08v8L6TFOO2YTcXj8+DcPwY+q87/ufbx/PT2mSKCjUs1cTkOMCZ729vn++3Bf0ij/05urhV9d1d8eFWp2AJiA3Vw/DmSR3g3IKY+r9/fOlOs/qBcY9YxiG8aw595Ue5RLG2Hzf9/e1+2c1yFjIhQmZoNKirMEYm0RMyFjImT3keGrSoazFQO0hhylZ3OwWXsfSoKzF+LPJm/Vk8pI1hR7RgNdlWVQvpiB7mZQojK8LA48zLLKh2n6ia3cByTop0RhuE5JxTyFguINkmRQKRhMQOgoJoxkIFYWG0RSEhkLEaA5CQaFihIBEo5AxwkCiUOgYoSCtUTJghIO0QsmCgQDxRsmEgQHxQsmGgQKxRsmIgQOxQsmKgQSpRcmMgQXZipIdAw1SijIev/SOwsP35/+YvSFhYe3qb7n9xrC6ssMCBWf9mqdEY+AnZErYCAWPkQak8OVraVJSYKQCqUBJg5EOZANKKgyBrLkMaHwM/iprnsfGzT3VlKQB2YgxeaZBSQFSiZEKBQ9ihJEGBQ1SgDF9DPu/D2Pqv06MrkpKMKZP+m55jFG5ZssgJ6Qm2JrHmqVasRAOxCJQizUqMq16KArEMkjLtaoSLnwwBsQjQI81C/MtPhwB4hmc59rFaa94QDhIi8BaPMeKrFcdEgrSMqiWz7Uq+RMHhYFEBBTxnKU4ISCRwUQ+9xqc5iCEQAg1nMJpCkIKglTLHKcZCDEAYk1NQIiNT2clrTZ3EFrDS6/dpBpdQUiNXrrCodTqBkJp8BLExjdRuP2O3gUkIwZlTzEHyYxBQDEF2QNGNIoZyJ4wIlFMQHSb2K+bKJvc694ERDdS/jtTiBsp61bj/y6cs9xq3O2aveRnDItjL+2TiAkZG9Wfq4DtIUsoVpucxZltvQb+D7rMG/5Of/LIo1eTqyzrM/A7rycQmL5ABAJLAFaOJkQgsARg5WhCBAJLAFaOJkQgsARg5WhCBAJLAFaOJkQgsARg5WhCBAJLAFbOb5cCgIO3kNyVAAAAAElFTkSuQmCC";class jP extends ft.Component{constructor(t){super(t);G(this,"handleCrossClicked",()=>{this.props.handleCrossClicked(this.props.announcement.id)})}render(){const{announcement:t}=this.props,s=()=>{switch(this.props.announcement.category){case"job":return wc;case"exchange":return xA;case"donation":return VA;default:return wc}},o=()=>{switch(this.props.announcement.category){case"job":return{iconFilter:"invert(88%) sepia(15%) saturate(921%) hue-rotate(52deg) brightness(93%) contrast(88%)",iconBackgroundColor:"#3a6e26",backgroundColor:"#a4db8f"};case"exchange":return{iconFilter:"invert(91%) sepia(21%) saturate(626%) hue-rotate(12deg) brightness(93%) contrast(92%)",iconBackgroundColor:"#4c4f1d",backgroundColor:"#d6db8f"};case"donation":return{iconFilter:"invert(61%) sepia(56%) saturate(452%) hue-rotate(236deg) brightness(160%) contrast(100%)",iconBackgroundColor:"#331047",backgroundColor:"#bf98d6"};default:return{iconFilter:"invert(88%) sepia(15%) saturate(921%) hue-rotate(52deg) brightness(93%) contrast(88%)",iconBackgroundColor:"#3a6e26",backgroundColor:"#a4db8f"}}},{iconFilter:l,backgroundColor:h,iconBackgroundColor:f}=o();return A.jsxs("div",{className:"announcement-card",style:{backgroundColor:h},children:[A.jsxs("div",{className:"announcement-card-title-section",style:{placeContent:t.owner===this.props.userId?"space-between":"start"},children:[A.jsx("div",{className:"announcement-card-icon-container",style:{backgroundColor:f},children:A.jsx("img",{className:"announcement-card-icon",src:s(),style:{filter:l},alt:"Icon"})}),A.jsx("p",{children:t.title}),t.owner===this.props.userId?A.jsx("div",{className:"announcement-card-cross-container",onClick:this.handleCrossClicked,children:A.jsx("img",{className:"announcement-card-cross-icon",src:BP,alt:"Icon"})}):null]}),A.jsx("hr",{}),A.jsxs("div",{className:"announcement-card-content-section",children:[A.jsxs("div",{className:"announcement-card-row",children:[A.jsx("img",{className:"announcement-card-row-icon",src:OA,alt:"Icon"}),A.jsx("p",{children:t.description})]}),A.jsxs("div",{className:"announcement-card-row",children:[A.jsx("img",{className:"announcement-card-row-icon",src:LP,alt:"Icon"}),A.jsx("p",{children:t.owner_name})]}),A.jsxs("div",{className:"announcement-card-row",children:[A.jsx("img",{className:"announcement-card-row-icon",src:FP,alt:"Icon"}),A.jsx("p",{children:t.owner_email})]}),A.jsxs("div",{className:"announcement-card-row",children:[A.jsx("img",{className:"announcement-card-row-icon",src:MP,alt:"Icon"}),A.jsx("p",{children:t.contact_phone?t.contact_phone:"-"})]})]})]})}}const QP={JOB:"Trabajo",EXCHANGE:"Intercambio",DONATION:"Donacin"};class zP extends ft.Component{constructor(t){super(t);G(this,"handleTitleChanged",t=>{this.setState({title:t.target.value})});G(this,"handleDescriptionChanged",t=>{this.setState({description:t.target.value})});G(this,"handleCategoryChange",t=>{this.setState({selectedCategory:t.target.value})});G(this,"handlePhoneNumberChange",t=>{this.setState({phoneNumber:t.target.value})});G(this,"handleUsePhoneNumberChange",t=>{this.setState({usePhoneNumber:t.target.checked})});G(this,"clearErrorMessage",()=>{this.setState({errorMessage:""})});G(this,"handleCreateAnnounce",()=>{this.clearErrorMessage();let t=Vs.validateAnnouncementForm(this.state.title,this.state.description,this.state.phoneNumber,this.state.usePhoneNumber);t.valid?this.createAnnouncement():this.setState({errorMessage:t.message})});G(this,"createAnnouncement",async()=>{var f;const{title:t,description:s,selectedCategory:o,phoneNumber:l,usePhoneNumber:h}=this.state;try{const v=(f=Rn().currentUser)==null?void 0:f.uid,E=this.props.userData;if(!v||!E)throw new Error("Ocurri un error al obtener la sesin");const C=crypto.randomUUID(),k=new Date().getTime()/1e3,F=an(lt,"announcements",C);await jr(F,{category:o.toLowerCase(),contact_phone:h?l:"",created_at:k,description:s,id:C,neighbourhood:E.neighbourhood,owner:v,owner_email:E.email,owner_name:E.first_name+E.last_name,title:t}),this.props.handleBackFromForm(),this.props.fetchAnnouncements()}catch(g){this.setState({errorMessage:g.message})}});G(this,"currentCategoryIcon",()=>{const{selectedCategory:t}=this.state;switch(t){case"JOB":return wc;case"EXCHANGE":return xA;case"DONATION":return VA;default:return null}});G(this,"colors",()=>{const{selectedCategory:t}=this.state;switch(t){case"JOB":return{iconFilter:"invert(88%) sepia(15%) saturate(921%) hue-rotate(52deg) brightness(93%) contrast(88%)"};case"EXCHANGE":return{iconFilter:"invert(91%) sepia(21%) saturate(626%) hue-rotate(12deg) brightness(93%) contrast(92%)"};case"DONATION":return{iconFilter:"invert(72%) sepia(60%) saturate(510%) hue-rotate(209deg) brightness(86%) contrast(93%)"};default:return{iconFilter:"invert(88%) sepia(15%) saturate(921%) hue-rotate(52deg) brightness(93%) contrast(88%)"}}});this.state={title:"",description:"",selectedCategory:"JOB",phoneNumber:"",usePhoneNumber:!1,errorMessage:""}}render(){const{title:t,description:s,selectedCategory:o,phoneNumber:l,usePhoneNumber:h,errorMessage:f}=this.state,g=this.currentCategoryIcon(),v=this.colors().iconFilter;return A.jsxs("div",{className:"add-announcement-form-container",children:[A.jsx("p",{className:"add-announcement-form-title",children:"Crea un anuncio"}),A.jsx("p",{className:"add-announcement-form-subtitle",children:"En esta seccion podras anunciar un intercambio de artculos, donacin o trabajo, ya sea que estes buscando u ofreciendo uno."}),A.jsxs("div",{className:"add-announcement-form-sections-container",children:[A.jsxs("div",{children:[A.jsx("p",{className:"add-announcement-form-section-title",children:"TTULO"}),A.jsxs("div",{className:"add-announcement-form-section",children:[A.jsx("p",{className:"add-announcement-input-description",children:"Cul es el anuncio?"}),A.jsx("input",{className:"add-announcement-input",type:"text",placeholder:"Ingresa el ttulo del anuncio",value:t,onChange:this.handleTitleChanged})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"add-announcement-form-section-title",children:"DESCRIPCIN"}),A.jsxs("div",{className:"add-announcement-form-section",children:[A.jsx("p",{className:"add-announcement-input-description",children:"De que trata el anuncio?"}),A.jsx("input",{className:"add-announcement-input",type:"text",placeholder:"Ingresa una descripcin",value:s,onChange:this.handleDescriptionChanged})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"add-announcement-form-section-title",children:"CATEGORA"}),A.jsxs("div",{className:"add-announcement-form-section",children:[A.jsx("p",{className:"add-announcement-input-description",children:"Elige una categora"}),A.jsxs("div",{className:"add-announcement-input-category-container",children:[A.jsx("img",{className:"add-announcement-input-icon",src:g,style:{filter:v},alt:"Icon"}),A.jsx("select",{className:"add-announcement-input",value:o,onChange:this.handleCategoryChange,children:Object.entries(QP).map(([E,C])=>A.jsx("option",{value:E,children:C},E))})]})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"add-announcement-form-section-title",children:"INFORMACIN DE CONTACTO"}),A.jsxs("div",{className:"add-announcement-form-section",children:[A.jsx("p",{className:"add-announcement-input-description",style:{fontWeight:600},children:"Se mostrar tu correo y tu nombre por defecto"}),A.jsx("div",{style:{marginTop:"10px",marginBottom:"10px"},children:A.jsxs("label",{className:"add-announcement-input-description",children:["Agregar nmero de telefono",A.jsx("input",{type:"checkbox",checked:h,onChange:this.handleUsePhoneNumberChange})]})}),A.jsx("input",{disabled:!h,className:"add-announcement-input",type:"text",placeholder:"Cul es tu nmero de telfono?",value:l,onChange:this.handlePhoneNumberChange})]})]}),A.jsx("span",{id:"add-announcement-form-error-message-span",hidden:f.length==0,children:f}),A.jsxs("div",{className:"add-announcement-form-buttons-container",children:[A.jsx("button",{className:"add-announcement-form-back-button",onClick:this.props.handleBackFromForm,children:"Volver"}),A.jsx("button",{className:"add-announcement-form-finish-button",onClick:this.handleCreateAnnounce,children:"Crear anuncio"})]})]})]})}}class GP extends ft.Component{constructor(t){super(t);G(this,"fetchAnnouncements",async()=>{this.setState({isLoading:!0});const t=await this.viewModel.fetchAnnouncements();this.setState({isLoading:!1}),this.setState({announcements:t})});G(this,"handleCrossClicked",async t=>{await this.viewModel.removeAnnouncement(t);const s=await this.viewModel.fetchAnnouncements();this.setState({announcements:s})});G(this,"handleAddAnnouncementButton",()=>{this.setState({showAddAnnouncementForm:!0})});G(this,"handleBackFromForm",()=>{this.setState({showAddAnnouncementForm:!1})});this.state={announcements:[],isLoading:!1,showAddAnnouncementForm:!1},this.viewModel=new bP(this.props.userData)}async componentDidMount(){this.fetchAnnouncements()}render(){const{announcements:t,isLoading:s,showAddAnnouncementForm:o}=this.state;return o?A.jsx("div",{className:"announcements-page",children:A.jsx(zP,{userData:this.props.userData,handleBackFromForm:this.handleBackFromForm,fetchAnnouncements:this.fetchAnnouncements})}):A.jsxs("div",{className:"announcements-page",children:[A.jsx("div",{className:"announcements-content",children:s?A.jsx("div",{className:"loading-container",children:A.jsx(Wc,{hideSignOut:!0})}):t.length>0?A.jsx("div",{className:"announcements-container",children:t.map((l,h)=>A.jsx("div",{children:A.jsx(jP,{announcement:l,handleCrossClicked:this.handleCrossClicked,userId:this.props.userData.id})},h))}):A.jsx("div",{className:"empty-content",children:A.jsx("p",{children:"No hay anuncios an... Se el primero en publicar uno!"})})}),A.jsx("button",{className:"floating-button",onClick:this.handleAddAnnouncementButton,children:"Agregar anuncio"})]})}}class qP extends ft.Component{constructor(t){super(t);G(this,"handleChangePhoto",()=>{this.fileInputRef.current.click()});G(this,"onFileChange",async t=>{const s=t.target.files[0],o=this.props.userData.id,l=this.props.userData.picture_url;if(!o||!s)return;if(!["image/jpeg","image/png"].includes(s.type)){alert("Solo se permiten imgenes en formato .JPEG o .PNG");return}const f=10*1024*1024;if(s.size>f){alert("El tamao de la imagen debe ser menor a 10 MB");return}const g=ul();if(this.props.setLoadingProfilePicture(!0),l){const k=bo(g,`images/${o}/${l}`);try{await RP(k),await this.props.updatePictureUrl("")}catch(F){console.log("No se pudo borrar la foto anterior:",F),this.props.setLoadingProfilePicture(!1)}}const E=`${crypto.randomUUID()}.${s.name.split(".").pop()}`,C=bo(g,`images/${o}/${E}`);try{await SP(C,s),await this.props.updatePictureUrl(E),this.props.downloadProfilePictureWithName(E)}catch(k){console.error("Error al subir la imagen:",k),this.props.setLoadingProfilePicture(!1)}});this.fileInputRef=ft.createRef()}render(){return A.jsxs("div",{className:"profile-popup",children:[A.jsx("button",{className:"popup-option",onClick:this.handleChangePhoto,children:"Cambiar foto de perfil"}),A.jsx("button",{className:"popup-option",onClick:this.props.onLogout,children:"Cerrar sesin"}),A.jsx("input",{ref:this.fileInputRef,type:"file",accept:"image/jpeg, image/png",style:{display:"none"},onChange:this.onFileChange})]})}}class KP{constructor(e){this.userData=e}async toggleAssistance(e,t){const s=this.userData.id;if(!s||!t)throw new Error("User or event data is missing.");try{const o=t.assistants.includes(s);let l=[...t.assistants];o?l=l.filter(g=>g!==s):l.push(s),t.assistants=l;const h=an(lt,"events",t.id);return await jr(h,{assistants:l},{merge:!0}),e.map(g=>g.id===t.id?{...g,assistants:l}:g)}catch(o){return console.error("Error toggling assistance:",o),null}}async fetchEvents(){const e=this.userData.id,t=this.userData.neighbourhood;if(!e||!t)throw new Error("User or neighbourhood data is missing.");try{const s=xs(lt,"events"),o=_i(s,Ai("neighbourhood","==",t),rp("created_at","desc")),l=await Ei(o);let h=[];return l.forEach(f=>{const g=f.data();h.push(g)}),h}catch(s){return console.error("Error fetching events:",s),null}}}const WP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABE9JREFUeF7tnUFWpEAQROE8utP9jCu91Ti30tX07HWn52EGHvQru0GqICIzkle90WfTmOSviKysAm2b+pLKQCsVTQ2mqUDEBkEFUoGIZUAsnKqQCkQsA2LhVIVUIPsycH/79DM5w/B913U/2rb9m/z81H//9vEyfI30CqGQHkLXdb/GxKZAsnLdtu3vEdBz1gccD5IFkkAoBvBdPtXhyAFhgbiEpApGBogViDkwbx8vMlYmAeT+9uk5qREuDt4rRgGMO5C7m8c/TdNA68RWogpQ3IB4WVQGrNP75+tDxnGUQ1yAjDB6Zci+vNRiDiQCjGmU/G82H6ybS3MgdzePnawsrgMzty9TIEoFvGBQmEIxA6IwtS2A8OVQy3piAiQyDOt6YgIkWN1YEpKJddGBHEEdiUro3TwdyEHUcVbN++crNWfUkx9JHVYqoQI5mjomKEyV0IAYqGPYnp32NdLdxH5Ll7lgyezgIwI5jX3Bt/vl5CUa2oyLBoRhV1saNJZSWbZFAcIYnVtgTJ7PgMKyLRYQ6A7gHhgTFPQ6GiKmuQ6UAgR98Qh7IKiWUkfkgSBHIhhKKCCwPQ+kV1cgW9e7k88h7CoNAzn7Q8c29FWAnF2dAnjRcFtA1rcQQNRtAQkEaafntbKqkO0ZCKGQ/vKAltWgL1o5tgg1pF88hN2KA7ZT+GBhAoHdHgoGglxBgE84QgAZl9ghKkHaFbJhTasYZdpLWMzbPRrRMUUD0j+CBr13d08C0DCQqr2c41EUgp5p7dnPZsDo40HP/qh9yAgEVtivRlHGzIv8uMNuC13qfmgKQU8xZy6g38qdHoU+b+fueVo3t0XcY59rvyMykLVro73PsivatJe1S0fLcNmJaXZFB8IqqGX5wx7NtCsLIPDpLza95Wdj2hUdCHu2VZ7OfZ9gq8MEiMFsa1+WCz59CCBHUgnbrkwU0v+SIxR3C3WYARlVArsTpcBlYIdaqMMUSGSVWKnDFEhklVipwxxIRJVYqsMcSESVWKrDBUgklVirwwVIpL7EWh1uQCJ07x7qcAOirhIvGK5AlFWCvBestDOl7RjmBKJY4D3V4aqQCRjy5rWcQbB2jEchT2NyVci48CizieWtDgmFqBR4BRgyQBQKvLdVTbblbllTIJ4FXkUdMgpJCjztbselYq4EQw6Ih3WpWJWcZXlYl5o65BRiaV2KMGSBWOybqFmVrGUl1kVrGFXVIa2QsYtHPqQ5sFaGIQ+E0MVT71xfWyfLeV+mMVwKFjkVVq0bUouLOaMGAUXdquSL+iWoPUsrUWCEqCEpmC1/yScSjHBAtvQnEepGuBqSBlxSTzz3xnNq49wx8rOsuaBz6kk0qwpX1EuKfFQYIWvIWpGPDCM8kJlOXr4TX6stIWvIUpGPNqM6TFGfqSfDPze2/q+ca6N9y/vhFbLlopU/U4GI0alAKhCxDIiFUxVSgYhlQCycqpAKRCwDYuH8A4lxo4PX3AiDAAAAAElFTkSuQmCC",HP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA4hJREFUeF7tnU121DAQBu3zJLtkD1kltyLciqyYA5AdOY9B8xwYfuzWfN2tkT2VDY8XqS1VqTWWx5HGgZ+uCIxdtYbGDAjpbBAg5BqF3N08fl3r9ziOn799/3K4JJv726eP0zR9WmvD69vLQ3Ybm2TI3c3jZAh56ETI6sB5fXtJ55V+gSICIfV5hZCZ1TxlkSGFxziOTFnzwCBDyJB/51My5DcTMmTPGVI+GOf+vf97/K91f1/WIfX3ITklp2n6MAzDH+3++0oL7TxE3rK7M+RkQbXamRyM/USdF7fP3ha5hNzfPj1bo9/bwK3V94qRhSBjeah4pMhCrNX31kZ2dHvVO0dJCNlRpe+gPIyUhJAdVUIG5WHk2UJqnvnUNXf/pZRpSxHCnVXlWEJIJahWxZS7LTIk0Q5CEuEqoRGiUEusg5BEuEpohCjUEusgJBGuEhohCrXEOghJhKuERohCLbEOQhLhKqERolBLrNOLkEMPLy0kcv4Vev76evFdgm6EKF/MtAAYfY35rX6ERINV4yFEJZdUDyFJYNWwCFHJJdVDSBJYNSxCVHJJ9XYj5OSl7CRUMWGtl6h3I8TqSAxOdxTzRTerH5tZGFodcaOMCYCQGI5hURAShjImEEJiOIZFQUgYyphACInhGBYFIWEoYwJdj5AYXpePYt2+b2YdcnmUMS1ASAzHsCgICUMZEwghMRzDoiAkDGVMIITEcAyLgpAwlDGBdiNk3nig7L7T7Cdj59PdCLE6kmFJ+RNlqx1WPzazMLQ6YoFQfo+QFWoIWYaT8Xfq7odySgZYdcgQMqRsf1u2UD9rlzkyxEotx8BCyAo8pqwVOKxDOvtQd8wSXVW17hY3M2V1RdXRGIQ44GVURUgGVUdMhDjgZVRFSAZVR0yEOOBlVEVIBlVHTIQ44GVURUgGVUdMhDjgZVRFSAZVR8xehJQjSlfP+/t5dNBFj1F1MD63qnlEUovvQ2qEnNuxXZZXHvmf/QVVIcdxFXXjp8lxFbOQMmVd9SFglhLl0XuJKWUIZ4hYOgbpMBdZSKnIsUfLUtTscAlByv+FeGS4hbw3iWw5kjhu/mltWGNNdtJnyFLQeZefa/qwP663vBJOeYYKsezze5sAQmxGTUsgpClu+2IIsRk1LYGQprjtiyHEZtS0BEKa4rYvhhCbUdMSCGmK274YQmxGTUsgpClu+2IIsRk1LfEDFAn6knuq1mIAAAAASUVORK5CYII=";class YP extends ft.Component{constructor(t){super(t);G(this,"getDate",()=>{const t=new Date(this.props.event.date*1e3),s=t.toLocaleDateString(),o=t.toLocaleTimeString();return`${s} ${o}`});G(this,"toggleAssistance",()=>{this.props.toggleAssistance(this.props.event)});G(this,"buttonBackgroundColor",()=>this.props.event.assistants.includes(this.props.userId)?"#f7d5d7":"#eafbf1");G(this,"buttonText",()=>this.props.event.assistants.includes(this.props.userId)?"No asistir":"Asistir a este evento");G(this,"buttonTextColor",()=>this.props.event.assistants.includes(this.props.userId)?"#b85c62":"#2ca57c")}render(){const t=this.props.eventInformation(this.props.event.category),s=this.getDate(),o=this.buttonBackgroundColor(),{event:l}=this.props,h=this.buttonText(),f=this.buttonTextColor();return A.jsxs("div",{className:"event-card",children:[A.jsxs("div",{className:"event-card-title-section",children:[A.jsx("p",{children:l.title}),A.jsx("div",{className:"event-card-icon-wrapper",style:{backgroundColor:t.iconBackgroundColor},children:A.jsx("img",{className:"event-card-icon",src:t.iconSrc,style:{filter:t.iconFilter},alt:"Icon"})})]}),A.jsx("hr",{className:"event-card-separator"}),A.jsxs("div",{className:"event-card-row",children:[A.jsx("img",{className:"event-card-row-icon",src:OA,alt:"Icon"}),A.jsx("p",{children:l.description})]}),A.jsxs("div",{className:"event-card-row",children:[A.jsx("img",{className:"event-card-row-icon",src:WP,alt:"Icon"}),A.jsx("p",{children:l.location})]}),A.jsxs("div",{className:"event-card-row",children:[A.jsx("img",{className:"event-card-row-icon",src:HP,alt:"Icon"}),A.jsx("p",{children:s})]}),A.jsx("hr",{className:"event-card-separator"}),A.jsxs("div",{className:"event-card-organizator",children:[A.jsx("span",{children:"Organizador: "}),A.jsx("span",{children:l.creator}),A.jsx("span",{children:" - "}),A.jsxs("span",{children:[" ",l.assistants.length==1?"Asistir":"Asistirn"," "]}),A.jsxs("span",{children:[" ",l.assistants.length," "]}),A.jsxs("span",{children:[" ",l.assistants.length==1?"persona":"personas"," "]})]}),A.jsx("hr",{className:"event-card-separator"}),A.jsx("div",{className:"event-card-button-wrapper",children:A.jsx("button",{className:"event-card-assisttance-button",onClick:this.toggleAssistance,style:{color:f,backgroundColor:o},children:h})})]})}}const JP={PARTY:"party",GATHERING:"gathering",WORKSHOP:"workshop",sport:"sport",cultural:"cultural",kids:"kids",market:"market",music:"music",pet_gathering:"pet_gathering"};class XP extends ft.Component{constructor(t){super(t);G(this,"handleTitleChanged",t=>{this.setState({title:t.target.value})});G(this,"handleDescriptionChanged",t=>{this.setState({description:t.target.value})});G(this,"handleLocationChanged",t=>{this.setState({location:t.target.value})});G(this,"handleCategoryChanged",t=>{this.setState({selectedCategory:t.target.value})});G(this,"handleDateChanged",t=>{if(t.target.value){const s=t.target.value,[o,l,h]=s.split("-"),f=`El evento se realizar el da ${h}/${l}/${o}.`;this.setState({selectedDate:s,formattedDate:f})}else this.setState({selectedDate:"",formattedDate:""})});G(this,"handleToggleAllDay",()=>{this.setState(t=>({allDay:!t.allDay}))});G(this,"handleHourChanged",t=>{this.setState({selectedHour:t.target.value})});G(this,"handleMinuteChanged",t=>{this.setState({selectedMinutes:t.target.value})});G(this,"clearErrorMessage",()=>{this.setState({errorMessage:""})});G(this,"handleCreateEvent",()=>{this.clearErrorMessage();const{title:t,description:s,location:o,selectedCategory:l,allDay:h,selectedHour:f,selectedMinutes:g,selectedDate:v}=this.state,[E,C,k]=v.split("-"),F=Vs.validateEventData(t,s,o,l,k,C,E,h,f,g);F.valid?this.createEvent():this.setState({errorMessage:F.message})});G(this,"createEvent",async()=>{var F;const{title:t,description:s,location:o,selectedCategory:l,allDay:h,selectedHour:f,selectedMinutes:g,selectedDate:v}=this.state,[E,C,k]=v.split("-");try{const X=(F=Rn().currentUser)==null?void 0:F.uid,Q=this.props.userData;if(!X||!Q)throw new Error("Ocurri un error al obtener la sesin");const ye=crypto.randomUUID(),pe=new Date().getTime()/1e3,ue=an(lt,"events",ye),ce=h?0:parseInt(f),Ue=h?0:parseInt(g),x=new Date(E,C-1,k,ce,Ue).getTime()/1e3;await jr(ue,{category:l.toLowerCase(),created_at:pe,id:ye,description:s,neighbourhood:Q.neighbourhood,title:t,assistants:[],all_day:h,starts_at_hours:ce,starts_at_minutes:Ue,location:o,creator:Q.first_name+" "+Q.last_name,date:x}),this.props.handleBackFromForm(),this.props.fetchEvents()}catch(z){this.setState({errorMessage:z.message})}});this.state={title:"",description:"",location:"",selectedCategory:"",selectedDate:"",formattedDate:"",allDay:!1,selectedHour:"",selectedMinutes:"",errorMessage:""}}render(){var f,g,v,E;const{title:t,description:s,location:o,formattedDate:l,errorMessage:h}=this.state;return A.jsxs("div",{className:"add-event-form-container",children:[A.jsx("p",{className:"add-event-form-title",children:"Crea un nuevo evento"}),A.jsxs("div",{className:"add-event-form-sections-container",children:[A.jsxs("div",{children:[A.jsx("p",{className:"add-event-form-section-title",children:"TTULO"}),A.jsxs("div",{className:"add-event-form-section",children:[A.jsx("p",{className:"add-event-input-description",children:"Cul es el ttulo del evento?"}),A.jsx("input",{className:"add-event-input",type:"text",placeholder:"Ingresa el ttulo del evento",value:t,onChange:this.handleTitleChanged})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"add-event-form-section-title",children:"DESCRIPCIN"}),A.jsxs("div",{className:"add-event-form-section",children:[A.jsx("p",{className:"add-event-input-description",children:"De qu trata el evento?"}),A.jsx("input",{className:"add-event-input",type:"text",placeholder:"Ingresa una descripcin",value:s,onChange:this.handleDescriptionChanged})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"add-event-form-section-title",children:"UBICACIN"}),A.jsxs("div",{className:"add-event-form-section",children:[A.jsx("p",{className:"add-event-input-description",children:"Donde queda?"}),A.jsx("input",{className:"add-event-input",type:"text",placeholder:"Escribe la direccin",value:o,onChange:this.handleLocationChanged})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"add-event-form-section-title",children:"CATEGORA"}),A.jsxs("div",{className:"add-event-form-section",children:[A.jsxs("div",{className:"add-event-form-input-row-display",children:[A.jsx("label",{className:"add-event-input-description",children:"Elige una categora:"}),A.jsxs("select",{className:"add-event-form-select",value:this.state.selectedCategory||"",onChange:this.handleCategoryChanged,children:[A.jsx("option",{value:"",children:"Selecciona una categora"}),Object.entries(JP).map(([C,k])=>{var F,z;return A.jsx("option",{value:k,children:((F=this.props.eventInformation(k))==null?void 0:F.spanishName.charAt(0).toUpperCase())+((z=this.props.eventInformation(k))==null?void 0:z.spanishName.slice(1).toLowerCase())},k)})]})]}),A.jsx("hr",{}),A.jsxs("div",{className:"add-event-form-input-row-display",children:[A.jsx("div",{hidden:!this.state.selectedCategory,className:"add-event-form-category-icon-container",style:{width:this.state.selectedCategory?40:0,height:this.state.selectedCategory?40:0,marginRight:this.state.selectedCategory?10:0,backgroundColor:((f=this.props.eventInformation(this.state.selectedCategory))==null?void 0:f.iconBackgroundColor)||""},children:A.jsx("img",{hidden:!this.state.selectedCategory,className:"add-event-form-category-icon",src:((g=this.props.eventInformation(this.state.selectedCategory))==null?void 0:g.iconSrc)||"",alt:this.state.selectedCategory,style:{filter:((v=this.props.eventInformation(this.state.selectedCategory))==null?void 0:v.iconFilter)||""}})}),A.jsx("span",{className:"add-event-form-category-description",children:((E=this.props.eventInformation(this.state.selectedCategory))==null?void 0:E.description)||"Selecciona una categora."})]})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"add-event-form-section-title",children:"FECHA"}),A.jsxs("div",{className:"add-event-form-section",children:[A.jsxs("div",{className:"add-event-form-input-row-display",children:[A.jsx("p",{className:"add-event-input-description",children:"Selecciona una fecha:"}),A.jsx("input",{type:"date",id:"date-picker",value:this.state.selectedDate,onChange:this.handleDateChanged,style:{}})]}),A.jsx("hr",{}),A.jsx("span",{className:"add-event-form-date-description",children:l||"La fecha es obligatoria."})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"add-event-form-section-title",children:"HORARIO"}),A.jsxs("div",{className:"add-event-form-section",children:[A.jsx("div",{className:"add-event-form-input-row-display",children:A.jsxs("label",{className:"add-event-input-description",children:[A.jsx("input",{type:"checkbox",checked:this.state.allDay,onChange:this.handleToggleAllDay}),"Dura todo el da"]})}),!this.state.allDay&&A.jsxs(A.Fragment,{children:[A.jsx("hr",{}),A.jsx("div",{className:"add-event-form-input-row-display",children:A.jsxs("label",{className:"add-event-input-description",children:["A qu hora empieza?",A.jsxs("select",{className:"add-event-form-select",value:this.state.selectedHour,onChange:this.handleHourChanged,children:[A.jsx("option",{value:"",children:"Hora"}),Array.from({length:24},(C,k)=>A.jsx("option",{value:k,children:k<10?`0${k}`:k},k))]})]})}),A.jsx("hr",{}),A.jsx("div",{className:"add-event-form-input-row-display",children:A.jsxs("label",{className:"add-event-input-description",children:["Minutos",A.jsxs("select",{className:"add-event-form-select",value:this.state.selectedMinutes,onChange:this.handleMinuteChanged,children:[A.jsx("option",{value:"",children:"Minutos"}),Array.from({length:60},(C,k)=>A.jsx("option",{value:k,children:k<10?`0${k}`:k},k))]})]})})]})]})]})]}),A.jsx("span",{id:"add-event-form-error-message-span",hidden:h.length==0,children:h}),A.jsxs("div",{className:"add-event-form-buttons-container",children:[A.jsx("button",{className:"add-event-form-back-button",onClick:this.props.handleBackFromForm,children:"Volver"}),A.jsx("button",{className:"add-event-form-finish-button",onClick:this.handleCreateEvent,children:"Crear evento"})]})]})}}const ZP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABZpJREFUeF7tnU1a3DAMhifngR3sCyu4VemtYNVhDzs4T4pTKxXuJLGkz078003bJxPH0atPsmUnGU7gP7fXj3e+ybtxHH/Qv8GX2bO58zAMr74D57eP5zOyMwOysZurh9+n04mAIJs+bFvDMPx6+3h+QnUQAuT2+vFpHMefrFOT13hPgnoQ6saV7czO5tU//x8FxgwkhPEF4R4tY6Xxkp+W4t7NQG6uHkavBqh0k1sTeAEeqt8/X0w2NZ3MPcTaEaB9dmmKHPMrh57fP1/utZ1QA3Gjqa846pK4yxXNqoMMH9hDHbYtQCiRmzxC60lHPI9ClyWPmoF0dfxzDQZEHTE6EKDUWE5VRw01EIQ3AG1xiKZYHtkFCA131QnsEFYEdoIndu2o06KQDiSA2SwQX8C8VLycC3/I+lKsiJoEcqFutmiv3CPApoD4m3UFTCrokRrmEnignOl3OaE0BYSVJqKMHChJPeqJDVfud80A4eN77/FRJX1uIGuNKQZME0C4p2tKEqgaUwfiLYAo7+eqSjehEAKinWiRZzOwySay1QNB1IYYkGm9XxP2YsJVE0mdgCCGrjlqb9UrBGlEpNqWFFM9EKQRkWprGQgtE5sndojR2lYuaUEh87o9apRlbWcNSvVA3M0jPLvPQ7a0LThunWkHM331WndMl5tQiFcJ7RkW5ZLcW5WaAcJDV2xJPVw3SZk7SD1NAQnXQ9xk0RsiXA85+Y3ffN3EhaqoCnFMaGp22HvpxvuK4YI75CjWrXji9DxG+EgAKYYeg8ihCt7HpkLW1vjfHc8NIOxTB2IJ+AnO7UASGNXSZAdisV6CczuQBEa1NNmBWKyX4NwOJIFRLU12IBbrJTi3A0lgVEuTHYjFegnObRqI31hNZuWv85iKiHvM2psCQgCCSu6qn1NFONezIk0ACcvu2kiTA07VQFAgQoCITXcrVWjzpoxDPmMoWfOwKAYdyqpUSA4YBBGtluqA7PQCNNHGia11GXr/i3YN/zAhaycYZF8IlGoUkjNMLXk4InxVAeQIMFA5pQog/Ola7YgJeZ7lgZ7igRjUQS/ZnPZmUZnEz+anMkrwUk4JM3U+KRqIFoYk1huuoXoOsTUg7s0N4h2ISigqlRQNRJo7tON6ilXSYbXmesUCkXqtJEzF1JliEoomuTcBBAGDAAgdQRy2igUiCVea0LGmAEnokl67SCC801uhA6kOTS7pQAJCKYBIwpY0j5SqkPBLCotCkRpkS3HuuFChovlI9UCkIaMD+fsKPakX7aoQBy12UCENmaUqZF533vJoKeyt9nzISuYQLQCBP1fek3rgtpKkmuI9iX0eciGOxMZwdyo6sae8dpEhyydVydfcxCWMlXqWJH+Iw2WxQIRhK+o9vVsJXZI7XFvSEVY4x9Eqe7ddJ5LQ4Q0kGl5zQFIH0IbKYhWiCFuTfZVeGx2mCKLmOsUrROO1UiiSERVXlDbcFK0QrUqY4b59msJvcHCH6TMWqk/AatVRvEKkhb6tpI06rlVHFUCkpQyU0ZfasaijGiBHgWKFURUQQD4xiQcBozogOyoFWQmo7wkq6YzaIg2UMqgPxQ97l4yZAwoaRpUhKwSUCIxqS2qMEqtVSCIwyUBUH7LWQpk7JnjUIDkE3tdmFLICiMoj7u/5vbx7vFajiRwSE7eP9Ju9FZL8m05HMnZMXxBfYbAsUBEQ8VJnzM2V+BvEF4HMQFLsDCkRBi//WOY4aiAsXsJKD6WCoH4jPj6DAKJaWi3d+GtzJcuOSzWQsEJr6UQNcBDqcHYwAQnWxZsMXd4G83feLfnDDORSydzaoZLUEtbaEPduUgir4fy31YZ9Acf9LPnXbTKCpE0U7pLzRgoEDIhCOBRhnSmjDZNeClovgygkLLCxrTjfvCipWfI1Tu9ZeXXKR9fN/gD2DpvOwJN+7AAAAABJRU5ErkJggg==",UA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABKtJREFUeF7tnEFS5DAMRcl5YAf7GVZwq2FuBSt69rCD8/TgVNLlTpxYkiX376rfG6roEMn/6ct24pnhhh8oBQaobJjMDYGAFQGBEAiYAmDp0CEEAqYAWDp0CIGAKQCWDh1CIGAKgKVDhxAImAJg6dAhBAKmAFg6dAiBgCkAlg4dQiBgCoClQ4cQCJgCYOnQIQQCpgBYOnQIgYApAJbOVTvk4e75d9LzeDz+GYbh36Tt4ePr9QCmszidqwTycPf8kiDsjXIYhr8fX68vYiVALrwqIMkRE4jRGYLP4fP77VFwHcwlVwNkgvFuUe6a3NIMJKvapNVYuUmA9NOzZdzfPh0tMOa/+fx+ax7rfK/IMZuTlFasR3VK5gwBrOb21WPMJiBagVqgaGNVJvpH6wpMm4d1zGog2sRmgawJ3t8+pXlDOonXjGJySc8xq4G09PKfvYK6QlvilehY5pKWHLRjVgGxVkomjKpCpT27Zov8e61AvccsBuIljqZCHcRYsdICaXFH1q7FnUEDpLo7llSqRpAgIOIdvFcRasZMIDtV5FUQmgWNGIjjakc8j3hVqHUO8QLys0oUj7k7EE21JCE9engORDOHeRWhZsxiIF7Voknu0kC8HKoZswZIetJqerhnbRkTELeNoUaYFNsRSMgqywWIpmV4ipLupY3t5VBNXLFDPKpVW6HZ09XmJfelYmvjqoC0VoymUpar0ZYJViuKZ2ztmNVArJN7qyhT+7I4Rbzk3NqSWOcSy5jVQCzCWBLbEUcM5VJxU+7W2CYgCiiHKTHXUyDJpSmHjYMOY6yguJJ3+k1jNgPJJ9xJnF/Te4swQfZck3bD6XvrCyjJc7geY24GohkIr60rQCB1jbpeQSBd5a4HI5C6Rl2vMAOZztWmVUeazOdPOoxwWlFN521dz9rOcbOFxJlg2Rnf9PuQ2FtjzmNbz6SpgBiOcp7Esh6eyw9UW0+fWGNPy3vJUrfoIktcERDr7nzL65JNUwv8vR4ziVR1ziXGPO6f9pK3PjIQNt3iI40oEMuc9sC0PDerjb1WjJtAvCukIMjqHUF0zJJYJYGCC3H3sUoRSGSFJFGWT0B7uWKneotujdRhyykrINFVujwSE12NtRaSf3+B3FaFcAakA4yzM1FIMGYwvaEsnXIC0htGEsD7RInGDXvXLltqZOsaV1bZmecTkGhxCvOG+L2Gl9CK+6xaSbA+p3gjkN7uiI6nEH7z0mUric55jjcCCaa/WlVFx/MAUloNRuedusjQi/wsUnQ8LxjL3j4VrtsZsY090WN3INETpCeQ5ZncDqvCwxAtUGHF0vSvaZ0Fr96uc/4jkFCB8gF1qLCqwNoLlvuSaL2igZwtHwmkXg5dW9Y1AunesqJFKjyKQN4QnpVw6QFgZMtK8U4bw5RJ7X/YqRuueMVq15sddJvPchlvHfJnm+fKgpbsZ/FEbwxDhs2bFhUgELDCIBACAVMALB06hEDAFABLhw4hEDAFwNKhQwgETAGwdOgQAgFTACwdOoRAwBQAS4cOIRAwBcDSoUMIBEwBsHToEAIBUwAsHTqEQMAUAEuHDiEQMAXA0qFDCARMAbB06BAwIP8B3tZNFnh/AxsAAAAASUVORK5CYII=",$P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABl9JREFUeF7tnctWHCEQhqefJ+7MPnFl3irmrcwqZq878zwTmQOetqeh/roAVeO4TBi6qI+60UAvh+ufKw0srqQRCvP15sfD8Xj8djgcvucunpZl+fv8+vgg7HLaz0ID+Xrz4/vxePy5AnGmyGVZfkUCExrI7Zf7IzKVI0EJCyS7qWQd0F8UKCGBcGEUYhGgfCogCYx3KCGBoLGj5ss8QwkHROqutnC8Qrk0IKn++JXS4JwONwO+RyjhgNx+uf9Tqzte/v1+H0+uUVLbUFAiAtmtPfZme0QooYC04kfN/USDcjFA1u5q66MiQQkFpJbuIsE5CpQwQFoKRYAkq4kAJRKQtMS+u3bVclfR3FcYIBp3FQlKCCCS7IqqP7y6rxBA0GKQghDBUtwDsQjmLVDeLCUCEJNgHgWKeyCWwTwCFNdAegRz71BcA2m9iOLUHpxgPzumuAUy2jrW0GZCcQtkhnV4gOISyEzrmA3FJZDZ1jETijsgXqxjFhRXQIgdJU8v/37fcTImq7acnS7oq4DqFiUrobX9UJmNdqAa+bj7wDSyurGQ1gKiZoAaEOW3XCDpd1KZXQChXEKvIhCBRcnW6kMCxQWQ1gyUDApRNNqmZblIH1z5pwPxGsjzO/jqSjMCo7ThQJkKBAjkd8+vj0+cwVu2lcSOava0LNBYhgBJik+Clk0K6fxfEby2cYEzqywhlL40sUMDpTsQ6cBmBvKkUI51vE2wU330dvCU2ktM1lJdgUgDYiDrOO22L26VcsFIOtwNiBRGFhryt5Nd1e5sB6A0raQLEA2M2UAQV0VZMOWmk4urJSvmQLQw8qwnfe0k6/jgoloyECsPY4AYwTiNszWLZsCgrGIrk3QpyMxCKDMtM3915Gx9FcaujkdBoYrTdeBGJ4P0NYIJEARG5YQTWQn3hiJVHAVG+pJNDQTIKpornyDMLllX49lwrNgDQ7nuVo1lAaQ5yxHfOwNKZSKpQOSCsnoodUgdIg1e25k1GsoGiBqEBYwTMMoXUv9PLJ2zXM1oKNTYOP9PuanUF7IcZAGkaqKSgBwRCgIDcd0mFtIjS4kExRKGFZB0jUV1lROdGbNjCsc9lbbWMEyAWAWzPYV4tpQeMMyAfDYovWCYAtEWiC2X4clSesIwBZI6AxUnuiUU7JuVZnPjRm8Y5kAuGcoIGF2AXCKUUTC6AbkkKCNhdAVyCVBGw+gOJDKUGTCGAIkIZRaMYUBQKMhqaO+KfiaMYUCQrxichAH3v/aCMhtGdyAoiAxDVDCu4WiKRw8wugHhgMgKNduHBUJ5h4/KKl215q4GqF9QbWYo+YGVrYA9BopAebuMuRxzKF/lqequh4y1h5kBAZWwlsPkPXZtYAJ5drsaCcPEZaEmvxotC0TqX3poRwtlNAwVEAEIdha1DrRS5QihsCYNN0602otcFneQEmXuZT2SftAaaG3Bsy4oEFkIE4Zopk3aOGGW6WkshmUhSK5e0ljJBmV0NveyFOlKgQbAWdaJdobC0FTbKBBNISk9t4HqSdsOshDETUlnLbfSXreXPLP3tbPdgYAwTN5lI8fJtIUldRZkZkCHgjqhJLNAiICvVreMz6tabQ7XWoKoUqeUZBkEW/fzJuGpj3wh7osaD9JHLxCl32YMGTWbkDSXUiYV6JHfW04wKTgKCPwBLqkAnCCLKFVxdE69/C/VwYdEpdYJR1E5XX3/diDnW+YtJe/NWBRKWc2lPu9NWZaFkjl9VC2Eq6i9GEC5AMRV7Q0GgcJQglliwnhmtakJkJqCqCApPanKKSAJJbmC0Ux7Wy5rO/Mbwb86YKl1aArJDRx3MMRAtssjNSAtC9FYhwEUlzA0QM4yEk4MsbCODZTmKa4IlmFRh5wtl2RFpysz0onT3UuPqYBMJQKtmED1TcU0i6Cs7aNZhxCHcNhmTx3qsVBYvk4wWcxpYuS0Nl0p+CR9FaxVMuf35Gqv1RWuI2BwBu61LQnEQpGUK8kujpTFqxIt5YKUgLycytcuHZ5fHx9ynbC+ibS598nCVVkqZWZfEJAkIAJFMpArjI9ag4FQrusKQ6KB89/AQIobAu6mRSVjZ2lox5HbsYCUgWrd19VN1aeMCEi2FvJ6vp3HivZpRZ7xXNnFQMqDVtV5K5O6ggDJqIGsn1Oq5Pxvp+3+EapjUFdDmpkCGSLxhT/kP7jRsr/rPRcVAAAAAElFTkSuQmCC",eN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABV9JREFUeF7tnUlWGzEQht3ngR3sE1Zwq5BbwSrOHnZwHifq1/ITtmpUSS6ZYouG0v+pNJTU8rKLP1cKLK6sCWN2AcRZJwggAcSZAs7MCQ8JIM4UcGZOeEgAcaaAM3PCQwKIMwWcmRMeEkCcKeDMnPCQAOJMAWfmhIcEEGcKODMnPGRWIPe3Tz+d2T6VOW8fL3uOwVUPSeIfDodfWwEBgqMkP81+WZa/u91uX4N0BuT+9um5gMGvJlKKFViW5ffbx8tzmfEIZPOKP+JSI0OzAv895iF7yxHI3c1jghHDU7O8qgL275+vDynnCiSGKZWIppny8LUCubt5PBCl54nI1IjWwqC5LjWutewe+am5OQ1dC+YdtUmnh6HaMoGOdHR/bbk98xF6w0C8w0A82zWQze7qfJ00X6DJ/P3z1f0ufkYP2ebstM+rrWj3AaTn+ISUDXWmBKQ2obt3+5mHLHTYCiCXcRFoqggPuQyPtNWoT+zhIZchEkAuoztYawCZHIjE/GNY5TSULClEk9bDcLsd3KV9xY+tDU0BWmhS1+iz5hmxwy8O0GqNRw+A1A2rZOwRlDUHstltvo8hIIA69+ogvY4regEx9RSLxluC6eEZuUd1A7INX8eTMM1QYX2KaQHF2qZTXTAgrFsS2CljiwBde2FxZCrtKAy7mnQz2akjRqrmEkajk46p4eoVTXmOLYEC2bYdilVvktTK77oPQdxYDIQBI62i0m2NPbbsZZSz0xwxWB1XdAWCRS+ljcaOk097NWcfQoARdxhOnRyPmwIINvRlrygbyxWHOjbl3iq0DPlPAQTyDsjLuECSkFbDqqROzFPcA8EmSygkIxUHqYO9PJfWCUFxD6TWUGrZrBFHk0czTFLziGsg0HDSAwjkJdzFRyvQDMo7kOoFb0okrTiAN7KGLW2dpx4zIxBySaoVJ4AQA2qtt1DDVcsSVFtfS51TeYhWoAYPObtgwOkAAeTkY5ZKL1PdKatN7AGkUBeY4EbPIWdfMwFBQVUnmGrIApaiAaSgSIrBJU4tXbGwBpVXM4e07tY1dQ4Pv1tEe0ft1GNjyPysQXPOIO2tmniZ1UKCO6KYnBhaeIgmGisFAkWTuSusb7PsJeM7le+5peJYeIe0zqnD78SZRfVaEddDsGtEEu+YDUj1S15qpcQdW1O6U/EoINTlOimMaYBoxn+NO+c8+bNn4DPj9RLE9j/sVop4aY/NldJbLOJoL/dbb+yRGk0PpIYuIk7J/bcKBgYke/B2PYm0A+owvW8ussIRNes73hBUwxjRWboCkc4fABiz14m0HiuZ50jXIBJ0A2LV+K1Xrk8YUU9TIG09Xq5rFay3l3QBYgmjFDDtJQRg1ju2tftcRlDMPLe0xxqIaU+khKOWvVR+i/9zrqxK6gGBcFdZeVUhuf0nMZBYHpucTVjYkz9t45a1fQJ3tiw3i2VxDbFM58FDtO0R70PyC2faCkfkCyAjVBbUEUAEYo1IGkBGqCyoI4AIxBqR9FqBVF+lsQh79IYyOZDqkh18UU4aTu4tfq38WYFgp5fYq6RNUdERgGYFgp3tJyDQg4yrpr3iUhbAZgPC0To/pMx9Zpz7UbyF3pwyoBPBWews27iOSPmpcdRLOMpEmjYFvjw1noqyeOClzaTvm7ucFr48lmwdSv6+EvNbfjpH137QJY3L5S/s8EuPlBIFqmdH4HPiZXzf6vk6ibVXljafXq4/dZTaBp0fuX/f/crAkM0JIKREYxMEkLF6k7UFEFKisQkCyFi9ydoCCCnR2AQBZKzeZG0BhJRobIIAMlZvsrYAQko0NkEAGas3WVsAISUamyCAjNWbrO0fp/5QDLAf8I0AAAAASUVORK5CYII=",tN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAACANJREFUeF7tnd2LHEUQwKv3EgQRBPMk6oPxRW8vCtnNgU9JEDIbkIiI/g/iFyZB8CMaiR8IRvGD/BGKD4p4u4HEiy+S5DaiuT19MSDExwiCBOTutk0PM8c4O7Nd1V09U3vMvVwuU9NTVb+u6uru+VDQ/IjygBKlTaMMNECEdYIGSANEmAeEqdNESANEmAeEqdNESANEmAeEqdNESANEmAeEqdNESAOExwPdhd6BTEvZfy+b/19Z7ce/Z+1HfISkjtdavwUAWcejfa2UejuBdBJ9Uk2CIoEYCAkA4xYnCNP8KRmQKCDdhd7JDIhK+qiBs7LaFxM5IoDUASJPWwqYWoFIACENTC1AkjHi+0pykuNF6oqYyoFIjIoyZnVAqRRIpx2ZqGCvmm61mc452NuuGkolQJhSVOz0TMk6deKXzF9iQFrr/b4doSowwYF4pqhlLADMUJHo4gynCihBgXhERgwi1PKHAZNEjpn9k36UUgdD6RVnAJI2BGFHGEFB5NVP0xp1MhoSShAgLjBCGmnrRy5pNZS+QYB02pG2OSFzfHk4GhwkyAcTJYIJojc7EEppW8UgSaVXNxRWIBRjJMJI4dVpBysQbKqSDMMRClvlxQYE26tmAYYDFLbxhAXIdoRBhcJVdbEAwaSqWYqMfCGALFRYosQbCDY6hqOB97WoFROnfFWdztlJmX1v6wrrLEdHJnWZfX7rHo7vfj0ZCAVEYgxLKHP2dte2kKkrbt4VDAkINj1lDd4O0UGNEh/70UAovSNVaDvBSG1y8YPZQMMuD1mBuCwU+gJ5tB3dtQ4q0mp8jx6rG1qvn//p1/N/uKYac17noehuraCnWnqX0q0/d4Ie/Dga/EVt09Mf1gmkFQimuigzyqWy6uzpHYWxPj3ZpjoxHPXfoTowhtHuvQGgT+XO1dBSx4dX+x9R23SMkvgyNp9MBeIyZvhER3chek1reLfUQQpOD1cHxykO7CxEH4KGY2XnKAWvr6wO3iO16XdvwNT0VQrEA0a8143NmakjFh8+dP/mprpmc0yrNbf/8tXvfrDJmePd+WhRK7hok90x17rv4i9L121yucE93W20lv35dqfN6kuBUFJVUuIt+2xtdtu9lzVoe/rQ+tPh2tmXMM7rzB/6BJR60S6rnhuO+mfscuUS1A5clroKgRAaZ9ty7SxEZ0DDszanaID+ldHgsE3OHN/bjpYUQM8mq0B9vDLqH7XJYY5jfVcWJc5AuEva7p7oAz2GV6xGK/XlcLX/jFXODOYLvS9A66cRsqeGo8GbCDmUCHLQLxxLCoFg0pWtWkBpnhHqtntHNOivbecpDS+srA0+t8klY8jzWsFnNlkNqndl1B/Y5CjHXX04AQQTctzRkRq6tx1dUgD7Sg1X8PfcxsYDl347dwPjnMUHn9y12br5Oyi4s0xeA1y+MhosYtqjyGDmK0VpywkId3Skhj4yH7V3KP0NgNpdYPy60vqJlbWzSyTHzB86rJUykbdz8jx9bUOrIz+vDUaUNrGyiCiZSFsTQBD5D70MgFU8Kzc/f+CO2+G2VzXAU6DgXgC4AaC+bbXWT1++es5aFhddc9+ex3aPxzuPAejHAWAXaLiuAL66Cf++v7a2/I+LnphzXHxJBhIqXWEMnDWZSoBQFspmzYHc+iLGY/kpi9spdbZXVYRYF8jqdIKka9sG9aL0X1RlWbcque6wkOQ8bl0Q6SreVcw/ASxmYsjtkLrbs0WH0a9o+lAGBPPoWdDyt26H+lzfNTrMNcvWsqxpKz5Z2EP3Pk7kOJdyA0iZ79iW3yW9DYHDuZQ2XB78IS2/G2UwazElSm89nGnbH8k880exP6gs9lG6pKQ1urhsUJW+zmPqFi6ijp7mHNQYgxn8ghLINY5Zp8OMEWU629J8yJscUEB8jOMGZXNWej2fTmQDbgXikbrMoG+97cUY6RmJXFyCdyCMP6xAMr0CUwrnnYM1ElXVcXm+qB1sdDhGNMoPpWVvmeEuymB6RVJEVP6urNROKTDIQFLHmd+EZ7vRvcMFuG/UYGE4pFanG0DQKStvOOVtCNgoqTpSKDAIncUJxFa0+vYwrKK26iKrB7ZNH90pnSSJDuuz9xTApWWxj1HEAR+dupJIMROu7MswOVQ1bZB7MLaDUDpdUCDY0tilB1FSo4UYGQQlhbrYVljtcXU77FzCVXEPME4g6oDhVGVNKYnRcwlXKOm1M2+1zr6gLD58a2y4kL5hzraWNq0zYtNUck3UBBjT+Z2rrKLGiUaIel+ua1Hh27nyfmQFQq3VuY3B9ECbDKVThbgDhx0ItkTcqrsFbXJhx8FUd46qKniEpCUr5pnurDJ1Rgu2SszpyzZu/K9dWwi7Hnc00nzFwOvBH4q+lC3XKmCwVlklgzy68spHi/k71LawK4ikogpajAQZQ1wrlgKoZg5xgQMM13dIOHSZFsXBgSRjCsfSegwnMcaa1nIAzGnkve+q0lQlY4jvPIUyFoR81XiI0rb2CGFMYUROfuJ1VH6VpKy8W4iTLz+vOp5NXZ53vMzEabUASbWQCKaOqKhtDCnrRRLA1A0i9U2tESIhlUkBIRJIJpWlu4XOn5aYktPRt7pyjQuUdkRFyLSUZo4R7nTJN8X6HRKKg6myMwGkZE6TTvQmPrtq5H02p6hO5JSfWSCcTpDUVgNEEo2QX9gRZufMqNNEiDBUDZAGiDAPCFOniZAGiDAPCFOniZAGiDAPCFOniZAGiDAPCFPnP8powKHb3X8OAAAAAElFTkSuQmCC",nN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAA/FJREFUeF7tnc1a5SAMhun16E73oyu9q3HuSldz3OtOr6dKn/bY0ykQEn6SzufGhRDC9xKggdbB4UeVAoMqb+CMAxBlgwBAAESZAsrcQYQAiDIFlLmDCAEQZQpUcOf2+vHOOXc3juMv/3tpYhiGP28fz0+xJhEhQiCz+G4cx9+zqTOAgOnT++fLfahZAMkAsoi/N/ozzLhhGO7fPp5Pe3UAJKLkZurxJVOjn8QFQAgyMaYegtX9IgCSiIJ5/i8y+imUACSg0u3149NqMaZoWaQMgARkvLl6GIsonGkEQHYE6xUd3hUAAZDMGO5QHBHSQfRYkwACIGcFsIZgDVEWDkcDsuR0FMp8CiXpUr6aXEN6Op0SdPX3aDo7ZKdn39hrSK8n2QwYU9FYBw8DxE9T3ydef3PF6VQ+O0qsRogH0iwLyoVJORrd2u4J5P3zJXgOFT2gmqPEH01qhpIdHR5ORyDyI9zV0SV3EFerZ2yXdZqjeff4dloPqyml3HCjCJmE9xD8b8rgAZCyA8dHwOv3FM9+PgIQPpDs0U9pCkAoKjm3iC8a/ZSmACSs0rQAU+d+itiUMgCyo1LsOYEiqqQMgPyrHuu5RgJhXRdArAFRnHqfpEzdJmckF/VGSKOHJ3G0F8726gViKP2efO8iI7moE8h/nH7XCcSPqINHSOi8Ry8QI1HCEjDSN5Y98UI4GyBvezWm4CnZ08guy16ElKKu0Y75CNEoqsQnAJGoV6EugFQQVWISQCTqVagLIBVElZgEEIl6FeoCSAVRJSbNAjlw+t3eg+HB0+/2gCC5KJkUeXWDuSwjicWp18zL1iYj5Mi33+0B8aNP+TqSvLyMbC9v6mxey+y2t7lSjRoEkEZCU5sBEKpSjcoBSCOhqc0ACFWpRuUiu0cblxwa6dSsGQBpJnW6oUQWAhGSllBeYvMZ2Nhr3gAil/vSgvAbvABSAkhGBKSaA5CUQrG/z4vzxX8hkNjzrzTHPpYvtJ2sTr5KmrTUuEDF4wEAyWVZOQMNIDlAbq4eap/RAAgVSOXIWNwAEAqQRjC8KwBCAdLqwgXnfJ7iP7WMiV1Ww+hgXZigik0pByAblRAhhGHTYGd19oLzzjuhC+QiJiKk1frhVev54RnfPoBcjt2uOywAUbZ+WAJS++l8QtN7ugKQVYT03l0trphYQypmds9INESHmQjxjtbc+mqJDlNAakWJJhimgHhnS6dQtMEwB6QgFPZrDORHbmZBE4v6tm+SSNEYFev+mQSydCDjgsP0TXbuBzOZg51VzTSQdY89nB0F2B/FZ6lZoNJhgBTQQoUJAFGB4ccJAAEQZQoocwcRAiDKFFDmDiJEGZAvZ4oIktnCIugAAAAASUVORK5CYII=",rN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAACRhJREFUeF7tnWtsHFcVx/9nbAJVqSpAlKeaKE1VurN2Y8+6yFCpbRLvrNWGx4cgEspLlEdbVAQUCpUIJkilQAER0ZZHEVAeQeQDlFJ5Z/NokAoW9Y4d7J0tVdOqRTxKEaCqVIVgz6GT2O56s+u5M3Pm4Xj8zdl7/+d/7++e+5rxhpD/ZKoHKFNucjPIgWRsEORAciAZ64GM2ckzJAeSsR7ImJ08Q3IgGeuBjNnJMyQHkrEeyJidPENyIJ17oL+/fM66ORpmYBNpdBa7/DQBx4738sTMTO1JiX5LIkZUn6lnyJBeGXKJbwLjLV0bQ/iFxnTzpFOdDNPgJGKE8dWpTqpAjGL5ZjB9WrkxxF+wG7WblMsDSCJGED9+ZVMCMqYZxYmfgrHDz+ApnxP2243htwNj7sp1k4gR2L1vhVSAGEXzO2Bc7euuWwHCnXbDev9K9ZOIEdr/ChUTBzJYHLmKWPth1MYwue+cahz4USedJGJE9d99rMWl3EXX0M2/AHiVQNi/2o716k46ScQQ8N9RItEMMXRzF4AfCzbmHbZj/aRVL4kYgv47LJFxqrdpG7r5AwDvEgx5l+1Y724DEnsMQf8pAymUZ0DUJ9Yg5lm7WetfBiSBGGL+OwglO2UVzCdBeLlYgxh/t5vWOcuBxB9DzH/qQHTzCQCvEGzQ32zHemXblBV7DEH/6U5ZJb0yyeCSVIMIVK871aFWvSRiSPnvpJPslKWbtwO4RrBBd9iOdW1bhsQeQ9B/uhkyWCxfSUz3SDWIibdPNWq/atVLIoaU/9QzxDNgSO2COuywFhuYRIy4oCQ6ZXmNuFivmPPgatQG9YAqDzhVq5NOEjGi+u9WPxKQgb7RSzXX3UKAzsDLAD5OwGOgnt/NzfHho3+oPtYpsKGbnwOwO0Kj9tiO9dmV6scZY/PrKht6e2kLeP71DGwAaB0B/2DAcTXt8PTs+K/Dti0UkKHCyFWu1nMLmF+zYmDCfprnPfUHa432ckax8mUw3xDYONGtdqP6CZV60jFKF5aL3EO7fR8bMP1Zg3vjZLMW+JooEBBj47azcUbP3qDXH0R8db1R++4pUHTTu4L/NqD00jcD+IDtWHeqwFhaT4RilIrl9zFToNgA7sKz89fbjx58StWzMpD+/vKZvfO0n4BRVfHWcgx8eMqxbmuve0nfFS951p27EcBOAOd20P4jgH1naL1fvH/23n+FiR01xqBuXkfAN8LEZmB8rod3zMzUnlGprwykVCx/k5k+qCLarYzLtG26WT3U7fPNF46cr2naecR0FhM/7bruI0cfPPBwlJjtdYPGGChUtmrEB6N4IOJv1Ru1D6loKAG5uFi+cl7i/MCYspuWoWIsK2WMommDMRjVTw/x9gfazkydNJWAGLo5DWBzVFNefQLtqjvVfRJacWuU9MpOBi973hIh5lHbsQb86vsCGSxu7Sfu/b2fkOrnDPxyyrHerFo+zXKDunk3AW+S8sA0d9FU49DMSnr+QCIsaF0CP2M71oulGhmnjqGb/wZwplSMbhubVn1fIEah/HUQXS9l6oQOz6+3mwe93VNmf4zCtnNBPY+LGmTeazdrH4mUIYZufg/AeySNaYziZNNyJDWltYYKpu4STjnQRozzfdux3hsRSOU2gJddcUc0Be343HmTDx96NKpOnPWHzt+60V3X+4hsDLrddqrXRQNSMD8Owq2CxlzbsXq9iUtQMw4pMnRzDoAmJs64wW5aX4kEZKCvMqy5/FsxU8B9tmNtEdSLTcrQzcMALpcK4Gr0hunZ6kQkIF5lQze9W9v1IsaIr7UbtTtEtACUipXLWrXqjeoRKW2jWL4GTN4TSImfx23H2uAn5LvL8gRKevmjDPqqn5jC53/a7gyvH/N9Ubq7kgeAmb2r92Ug2msQkXfFj3qjOqbgq2ORMYxp9+gT3k7rtWE1FusR+GN1p/Y1Px0lICezpHI/wG/0E1zxc6a32c3q/jAaqiA6gYkCxShUdoD4Z2E8P1+HfmM71UtUNJSBlC6oXMC97E0Hy167UQmyUMb3oVI3rVKxMraQFQHCLS/qZUxYMBEfdj1Bc3RZ/aHqQyrmlYF4YgO6eZEGeHc7BRXxljK7bcf6fMA6J4pLwFiaNqJB+cxzO649AdvQdIFd046lfPUUCIhnZtOm0Ree/aL5L4GVTu8zxNqn6s3x8YANEYchAaVUGB1lcm8BsOz11Y5tI9771H96Pnns2Ph/g7Q9MJBF8aG+KzYy/2+n62KETr6v+1IAcwB5B74Jpvm7pxoHfh7ETGtZycyQXlcGiyNvJe7xLkiHAd4IwDtX/ZOZZzUNB4hesG9y9t5QB9/QQMJ2tEq9OGFIZIpKG8KWyRyQJGBkGUqmgCxsbe8LO7rC1COiyyUPk2E8tNbJDJA0YLRkSmagZAaIoZteZqx4+o46+laof8R2LLE7qyg+MwEkZRiL/ZcJKKkDSXIR9xu5UU7zftqqn6cKJEswsrLzSg1IFmFkAUoqQNLcUSlPHSlth1MBYuhm1h/fnuCWxhklcSAZ2VGpJkriO69EgawyGKlshxMDskphJA4lESCrHEaiUGIHcprASAxKrECyfNZQXdU7lIt1oY8NyGkKY3E7HPqFCb+BEAuQ0xlG3Kd5cSBrAUacz1HEgayWU7jf1KH6ue1Yon0oKraWsqMFmOgiLwZkjcIQv/MSA3KanTdUZyzx84kIkNVwnR60h4OWl7oZlgIS+WXooB2QwfIia4kIkLW2s+oyGHIgWcsSiS1w5AzJ14/nh4XEOpIDEUyzHIhgZ0pI5UAkelFQIxNAvPbku6yTVDOxqC8ASfNFacExHl5K6jXUyIu614R8pyWTHV5figBZgLJmT+tS2SEKZA1PXSIn9KWHXuFnzVNrrsWpS2Jn1dqTYlPWouhaei4iDUN8ymolHfPzEZVv/Inzz+NEp6lYM6RVfCFbLg3wt4NLHf3c6PO+0H7p96h/KdvyNU5LoJg5iDevaUcWFnCVARFqNRCfsjq5WOgM72uVvA7wXvNf/N8DxDo8VOvbKi36bP1nz/Pi4Ig6KFQ8JgJExUhe5mQP5EAyNhJyIDmQjPVAxuzkGZIDyVgPZMxOniE5kIz1QMbs/B/seO2S8zhkTQAAAABJRU5ErkJggg==";class sN extends ft.Component{constructor(t){super(t);G(this,"fetchEvents",async()=>{this.setState({isLoading:!0});const t=await this.viewModel.fetchEvents();this.setState({events:t}),this.setState({isLoading:!1})});G(this,"toggleAssistance",async t=>{const s=await this.viewModel.toggleAssistance(this.state.events,t);s&&this.setState({events:s})});G(this,"handleAddEventButton",()=>{this.setState({showAddEventForm:!0})});G(this,"handleBackFromForm",()=>{this.setState({showAddEventForm:!1})});G(this,"eventInformation",t=>{switch(t){case"party":return{spanishName:"Celebraciones",iconSrc:ZP,iconFilter:"invert(71%) sepia(24%) saturate(736%) hue-rotate(330deg) brightness(101%) contrast(87%)",iconBackgroundColor:"#fae0cf",description:"Fiestas y celebraciones."};case"gathering":return{spanishName:"Juntadas",iconSrc:UA,iconFilter:"invert(13%) sepia(97%) saturate(6566%) hue-rotate(353deg) brightness(93%) contrast(103%)",iconBackgroundColor:"#d19da0",description:"Reuniones informales."};case"workshop":return{spanishName:"Talleres",iconSrc:wc,iconFilter:"invert(79%) sepia(8%) saturate(832%) hue-rotate(63deg) brightness(87%) contrast(86%)",iconBackgroundColor:"#c3dbca",description:"Talleres prcticos, como cocina, arte o tecnologa."};case"sport":return{spanishName:"Deportes",iconSrc:eN,iconFilter:"invert(85%) sepia(60%) saturate(2410%) hue-rotate(352deg) brightness(93%) contrast(98%)",iconBackgroundColor:"#f3f5a9",description:"Eventos deportivos, como torneos o clases."};case"cultural":return{spanishName:"Cultural",iconSrc:$P,iconFilter:"invert(7%) sepia(34%) saturate(376%) hue-rotate(58deg) brightness(97%) contrast(89%)",iconBackgroundColor:"#94a391",description:"Actividades culturales, como visitas guiadas, proyecciones de cine."};case"kids":return{spanishName:"Nios/as",iconSrc:tN,iconFilter:"invert(0%) sepia(76%) saturate(14%) hue-rotate(225deg) brightness(91%) contrast(103%)",iconBackgroundColor:"#a4ceeb",description:"Actividades orientadas a nios, como juegos o fiestas infantiles."};case"market":return{spanishName:"Comercio",iconSrc:mA,iconFilter:"invert(53%) sepia(95%) saturate(5304%) hue-rotate(11deg) brightness(97%) contrast(91%)",iconBackgroundColor:"#ebb9a4",description:"Mercados o ferias para vender e intercambiar productos."};case"music":return{spanishName:"Msica",iconSrc:nN,iconFilter:"invert(18%) sepia(22%) saturate(717%) hue-rotate(342deg) brightness(98%) contrast(86%)",iconBackgroundColor:"#9c855d",description:"Conciertos o eventos de msica en vivo."};case"pet_gathering":return{spanishName:"Mascotas",iconSrc:rN,iconFilter:"invert(68%) sepia(47%) saturate(267%) hue-rotate(149deg) brightness(96%) contrast(93%)",iconBackgroundColor:"#ccdbe0",description:"Reuniones de mascotas."};default:return{spanishName:"Otro",iconSrc:"",description:""}}});this.state={events:[],isLoading:!1,showAddEventForm:!1},this.viewModel=new KP(this.props.userData)}async componentDidMount(){await this.fetchEvents()}render(){const{events:t,isLoading:s,showAddEventForm:o}=this.state;return o?A.jsx("div",{children:A.jsx(XP,{eventInformation:this.eventInformation,handleBackFromForm:this.handleBackFromForm,fetchEvents:this.fetchEvents,userData:this.props.userData})}):A.jsxs("div",{className:"events-page",children:[s?A.jsx("div",{className:"loading-container",children:A.jsx(Wc,{hideSignOut:!0})}):t.length>0?A.jsx("div",{className:"events-container",children:t.map((l,h)=>A.jsx("div",{children:A.jsx(YP,{eventInformation:this.eventInformation,event:l,toggleAssistance:this.toggleAssistance,userId:this.props.userData.id})},h))}):A.jsx("div",{className:"empty-content",children:A.jsx("p",{children:"No hay eventos planeados an... S el primero en crear uno!"})}),A.jsx("button",{className:"floating-button",onClick:this.handleAddEventButton,children:"Agregar Evento"})]})}}const iN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAABONJREFUeF7tnU1W4zAQhOPzwA72Ayu4FcytYEVmDzs4TwYZKyiOJVW1FEeOyxseL/qtT91qybLdbXQ1pUDXVGvUmI2ANDYIBERAGlOgsebIQgSkngK31493u93uabPZ3LlSu6776/6+f74816plXMdUua7eWnUu0kLmFOnm6mEHwt1+fL3eg2mjyRYH5Pb68XmwimzfS0cuU5drzMfXa7GexQVkVamYgBXIuzGrO2HrWxUQVpxwHFgtha1zNUBurh7e/MRtNTgLFAGZULsGjKBYauIVkBEQAsaWsCAYioAMQIaw1rmp7BW6IkbAruvu3z9fHMjoxZR3sVEWCeNI1NL8IZ3VA6klJllOdJW9aiBE57eDm0q6GzfS0TkoFoERbeoN62LCXqLj8ITsXU8JFKJdlwOE6DQNw0NB6xhbCprP17N4C0E7bFnUjUMnS11onosAUuJKsrFwJAEqsB8AaPrFAzkHDNZ9fS80XfDwD91ZXuykfk4YBiiUMS5qDkFuKvne15gzckqy7ihX3qIshFyoZbc0EHGQNEy7kPIWYSFMp5H9JUQYJg3Tvly5zQMh3AK8+s6JYvmdcaep8psGwsCocTjAAmKcBw04YnU1C2SJMNitlikoTQJBYcwRSVmtBu3DuPzmgKAdaRlGyVqlKSCo/10CDCuUZoBcIgwLlLMDYcLFJVmGdafY5StdS5lPLjILqtJGWifnmvnQ+bEUignI2mAE7sudtqdPwzADgwYy10hhOjFnWnIw0o8pUEAIGObbrXOKW1LXqQIZGIhgHOM7BRQICAGjylGYkpE7d97aULJAGBjutmcrG4VzgUGBDNFXdk5JAmEqGwQQkMxIyK3HokAMMFxTBAQzzahOR0CY1fdE3QKCAYkO3gMgTIwdqVdAcCB9yvEuxh5IBRhyWSQMnzyEsgeCPo/tMie2D2QhAZSMVgf4PJQeCBja7g8iJOAJSCCz344HA6Reux4IkOFAaAH5VT2lXXh/BNUYAXI06gWEBwJ4ol8LiU3osUWMgNiApKB4rcMoq3+DznDaO3lwTUDsQDyUQes/wZZK/4hedi9rKpITkDIgqehYQIxrB58NndTRagQEVSqSblVAXLDhXpnxvRDtfW3p5Z6IcmVYX9cUcd/RF+NYjgU1ayHgYtXEKLcFzhS6GgtBt3IY8YK01XYUBMRIYJzN4k5W7bJObCHV7v3LQmQhxwrMsTCUhRAjT0BWuFKXhchCCAVkISaxUpkU9pKSymURgmlSl8sihguWVC4L02mfSi6LEEwuSy6LGC5YUrksTCe5LFKnPrlcllyWZdwk88hlkZIqyiIEk8uSyyKGC5ZULgvTSVEWqZOirJFguqduGUETeeSySCEVZRGCKco6iLKi38q1WGHto6Q1zzuhHwUmhtJvUotYUxWlLNlShxVI9IBxrXOzS3BZmfPHpuOq1YG4UVQDSutAcofBrRqYgOQaE5h29ktqCX/Tf7T+hNdJ2zY3EPjdgycUtOmirS/+NFnIsAVf/AXnphUtaJzVOnp3b6230rtRrNU3nc8SXfkOmYG4Aoi5pGkBazauxDqKLMR3IngO8KlmxxZYVpWP0hRZSCiasxb3f/CA5qmjpHMz+3nQ/+dB0m3uU+BoY6sBQStUurQCAtLYCBEQAWlMgcaaIwsRkMYUaKw5/wHigPGhR0j4TgAAAABJRU5ErkJggg==",oN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAvxJREFUeF7tnc1WwjAQRtvnkR0+gKz0rdS30pW41508T6X4c44eIZPMl3QMl63pZHpvPxpKLePAKxSBMVQ3NDMgJNhBgBCEBCMQrB0SgpBgBIK1Q0J6EXK5urma92Wapttg+7RYO+M4Pn9Ovn15e9iWNJKdkMvVzR0SbKjHcbx/eXu4s43+GJUlZH1x/TQMwyEZvGwEcqWYhZAMm4Ajo7avu8eNpYJJCDIsKE+PsSbFJGR9cT35W6LC6+4xyTs5YF5NTdM0nzt4OQnsV2Gb1OrLIoRVlVPE1+YIEYEUlkme3JMJYakr1DEMCJHi9BdDiJ+htAJCpDj9xRDiZyitgBApTn8xhPgZSisgRIrTXyyGEMs1HP++1q8guKaHEKUmhChpCmohRABRWQIhSpqCWggRQFSWQIiSpqAWQgQQlSW6EbK/dajopjElTFEt7y1QMT6HiGD0UAYhwSwiBCF/EJhvEgsGpqgdwT3NMRLCxcVv/wgpisKRjbpZ9pIQEqIMxnctElIFa3lRhJSzq7IlQqpgLS/ajZD5ru9yDHG2FPxbRoxlbxyki3eCkMUV/GwAIQgJRiBYOzESwid1PqlXCUY3y14SQkJIyCkCJISEkBASYjoGWPaaMBkHdbPK4ka5YOcQ4wF4DsNivGWdA2njPiLECKrVMIS0Im2cByFGUK2GIaQVaeM8CDGCajUMIa1IG+dBiBFUk2GWR8XyiL8mKj4mkTwEk2cu6oxZvoYgITreJytZ3q4OKUr1Q0JShGx/t6QDITaW7lGWc8fXJCTEjftkgeQy9/fWCNELOTwk4fOckf3AhOpCrCczPZf/WbGqEGTkHxTVhCAjX0a1VRYyymRUEYKMchlyIcjwyZAKQYZfhkwIMjQyJEKQoZPhFoIMrQyXEGToZRQLQUYdGUVCkFFPRrYQZNSVkSUEGfVlmIXsv/F6zv2h9jbt9zdL8mrv/OPEqR/U7Q/LcnuUFLJca+c5M0KCeUcIQoIRCNYOCUFIMALB2iEhCAlGIFg7797QHYPbOc4SAAAAAElFTkSuQmCC",aN="/assets/avatar-BkqvJagg.png",ys={HOME:"Inicio",EVENTS:"Eventos",ANNOUNCEMENTS:"Anuncios"};class lN extends ft.Component{constructor(t){super(t);G(this,"togglePopup",()=>{this.setState(t=>({isPopupOpen:!t.isPopupOpen}))});G(this,"handleLogout",()=>{ml(yl).then(()=>{this.setState({user:null})}).catch(t=>{console.error("Error al cerrar sesin:",t)})});G(this,"setLoadingProfilePicture",t=>{this.setState({loadingProfilePicture:t})});G(this,"downloadProfilePicture",async()=>{const{userData:t}=this.props;if(t&&t.picture_url){this.setLoadingProfilePicture(!0);try{const s=ul(),o=bo(s,`images/${t.id}/${t.picture_url}`),l=await Ec(o);this.setState({profilePictureDownloadURL:l}),this.setLoadingProfilePicture(!1)}catch(s){console.error("Error al descargar la imagen de perfil:",s),this.setLoadingProfilePicture(!1)}}});G(this,"downloadProfilePictureWithName",async t=>{const{userData:s}=this.props;if(s&&t){this.setLoadingProfilePicture(!0);try{const o=ul(),l=bo(o,`images/${s.id}/${t}`),h=await Ec(l);this.setState({profilePictureDownloadURL:h}),this.setLoadingProfilePicture(!1)}catch(o){console.error("Error al descargar la imagen de perfil:",o),this.setLoadingProfilePicture(!1)}}});G(this,"setSection",t=>{this.setState({currentSection:t})});this.state={currentSection:ys.HOME,profilePictureDownloadURL:aN,isPopupOpen:!1,loadingProfilePicture:!1}}componentDidMount(){this.downloadProfilePicture()}render(){const{currentSection:t,profilePictureDownloadURL:s,isPopupOpen:o,loadingProfilePicture:l}=this.state,{userData:h}=this.props,f=()=>{switch(t){case ys.HOME:return A.jsx(Yy,{userData:h,profilePictureDownloadURL:s,updateDescriptionState:this.props.updateDescriptionState});case ys.EVENTS:return A.jsx(sN,{userData:h});case ys.ANNOUNCEMENTS:return A.jsx(GP,{userData:h});default:return A.jsx(Yy,{userData:h,profilePictureDownloadURL:s,updateDescriptionState:this.props.updateDescriptionState})}};return A.jsxs("div",{className:"main-content",children:[A.jsxs("div",{className:"left-content",children:[A.jsxs("div",{className:"section-button",onClick:()=>this.setSection(ys.HOME),children:[A.jsx("img",{className:"icon",src:iN,alt:"Inicio"}),A.jsx("p",{children:"Inicio"})]}),A.jsxs("div",{className:"section-button",onClick:()=>this.setSection(ys.EVENTS),children:[A.jsx("img",{className:"icon",src:UA,alt:"Eventos"}),A.jsx("p",{children:"Eventos"})]}),A.jsxs("div",{className:"section-button",onClick:()=>this.setSection(ys.ANNOUNCEMENTS),children:[A.jsx("img",{className:"icon",src:oN,alt:"Anuncios"}),A.jsx("p",{children:"Anuncios"})]}),A.jsx("div",{className:"section-button",onClick:this.togglePopup,children:A.jsxs("div",{className:"profile-picture-container",children:[l?A.jsx("div",{className:"menu-spinner"}):A.jsx("img",{className:"profile-picture",src:s,alt:"Perfil"}),o&&A.jsx(qP,{userData:h,onLogout:this.handleLogout,downloadProfilePictureWithName:this.downloadProfilePictureWithName,updatePictureUrl:this.props.updatePictureUrl,setLoadingProfilePicture:this.setLoadingProfilePicture})]})})]}),A.jsxs("div",{className:"right-content",children:[t===ys.HOME?A.jsxs("div",{className:"section-title",children:[A.jsx("img",{className:"home-profile-picture",src:s,alt:"Perfil"}),A.jsxs("p",{style:{fontSize:"30px"},children:["Hola, ",h.first_name+" "+h.last_name]})]}):A.jsx("div",{className:"section-title",children:A.jsx("p",{className:"section-title-p",children:t})}),A.jsx("div",{className:"section-content",children:f()})]})]})}}const uN="/assets/onboarding_1-DQrh4Nbw.png",cN="/assets/onboarding_2-Ce5IFAKe.png",hN="/assets/onboarding_3-Ca6UaC1N.png";class dN extends ft.Component{constructor(t){super(t);G(this,"fetchProvinces",async()=>{const t="https://apis.datos.gob.ar/georef/api/provincias?campos=id,nombre&max=5000";try{const s=await fetch(t);if(!s.ok)throw new Error("Error al obtener las provincias");const l=(await s.json()).provincias||[];l.sort((h,f)=>h.nombre.localeCompare(f.nombre)),this.setState({provinces:l,loading:!1})}catch(s){console.error("Error al cargar provincias:",s),this.setState({loading:!1})}});G(this,"fetchNeighbourhoods",async t=>{const s=`https://apis.datos.gob.ar/georef/api/municipios?campos=id,nombre&max=5000&provincia=${t}`;try{const o=await fetch(s);if(!o.ok)throw new Error("Error al obtener los barrios");const h=(await o.json()).municipios||[];h.sort((f,g)=>f.nombre.localeCompare(g.nombre)),this.setState({neighbourhoods:h})}catch(o){console.error("Error al cargar barrios:",o),this.setState({neighbourhoods:[]})}});G(this,"handleLogout",()=>{ml(yl).then(()=>{this.setState({user:null})}).catch(t=>{console.error("Error al cerrar sesin:",t)})});G(this,"handleProvinceChanged",async t=>{const s=t.target.value;this.setState({selectedProvince:s,neighbourhoods:[]}),s&&await this.fetchNeighbourhoods(s)});G(this,"handleNeighbourhoodChanged",t=>{this.setState({selectedNeighbourhood:t.target.value})});G(this,"handleContinueButton",async()=>{const{selectedNeighbourhood:t,selectedProvince:s}=this.state;if(!t)return;const o=this.state.provinces.find(h=>h.id===s).nombre,l=this.state.neighbourhoods.find(h=>h.id===t).nombre;this.props.updateNeighbourhood(t,l,s,o)});this.state={provinces:[],loading:!0,selectedProvince:"",neighbourhoods:[],selectedNeighbourhood:""}}async componentDidMount(){await this.fetchProvinces()}render(){const{provinces:t,selectedProvince:s,neighbourhoods:o,selectedNeighbourhood:l,loading:h}=this.state;return h?A.jsx("div",{children:A.jsx(Wc,{})}):A.jsxs("div",{className:"choose-neighbourhood-main-content",children:[A.jsxs("div",{className:"choose-neighbourhood-card",children:[A.jsx("p",{className:"choose-neighbourhood-title",children:"Es hora de elegir tu barrio"}),A.jsx("div",{className:"choose-neighbourhood-section",children:A.jsxs("div",{className:"choose-neighbourhood-section-input-container",children:[A.jsx("p",{children:"Selecciona una provincia"}),A.jsxs("select",{className:"add-announcement-input",value:s,onChange:this.handleProvinceChanged,children:[A.jsx("option",{value:"",children:"Seleccione una provincia"}),t.map(f=>A.jsx("option",{value:f.id,children:f.nombre},f.id))]})]})}),A.jsx("div",{className:"choose-neighbourhood-section",children:A.jsxs("div",{className:"choose-neighbourhood-section-input-container",children:[A.jsx("p",{children:"Selecciona el barrio"}),A.jsxs("select",{className:"add-announcement-input",value:l,onChange:this.handleNeighbourhoodChanged,disabled:!o.length,children:[A.jsx("option",{value:"",children:"Seleccione un barrio"}),o.map(f=>A.jsx("option",{value:f.id,children:f.nombre},f.id))]})]})}),A.jsx("div",{children:A.jsx("button",{className:"choose-neighbourhood-continue-button",onClick:this.handleContinueButton,children:"Continuar"})})]}),A.jsx("div",{children:A.jsx("button",{className:"onboarding-logout-button",onClick:this.handleLogout,children:"Cerrar sesin"})})]})}}class fN extends ft.Component{constructor(t){super(t);G(this,"handleLogout",()=>{ml(yl).then(()=>{this.setState({user:null})}).catch(t=>{console.error("Error al cerrar sesin:",t)})});G(this,"handleBack",()=>{this.state.currentStep!=0&&this.setState({currentStep:this.state.currentStep-1})});G(this,"handleNext",()=>{if(this.state.currentStep==2){this.setState({showChooseNeighbourhood:!0});return}this.setState({currentStep:this.state.currentStep+1})});G(this,"getStepContent",()=>{switch(this.state.currentStep){case 0:return{imageSrc:uN,wording:"Barrio Conectado es una plataforma que conecta de manera sencilla, segura y eficaz a los vecinos de un mismo barrio."};case 1:return{imageSrc:cN,wording:"Podrs conocer nuevos vecinos, enviar alertas, organizar eventos, buscar trabajos, intercambiar artculos y mucho ms."};case 2:return{imageSrc:hN,wording:"Es hora de elegir tu barrio. No te preocupes, podrs cambiarlo en cualquier momento."}}});this.state={currentStep:0,showChooseNeighbourhood:!1}}render(){const{currentStep:t,showChooseNeighbourhood:s}=this.state,o=this.getStepContent().imageSrc,l=this.getStepContent().wording;return s?A.jsx(dN,{userData:this.props.userData,updateNeighbourhood:this.props.updateNeighbourhood}):A.jsxs("div",{className:"onboarding-main-content",children:[A.jsxs("div",{children:[A.jsx("img",{className:"onboarding-image",src:o,alt:"onboarding-image"}),A.jsx("p",{className:"onboarding-main-wording",children:l})]}),A.jsxs("div",{className:"onboarding-buttons-container",children:[A.jsx("button",{onClick:this.handleBack,hidden:t==0,children:"Atrs"}),A.jsx("button",{onClick:this.handleNext,children:t==2?"Comenzar":"Siguiente"})]}),A.jsx("div",{children:A.jsx("button",{className:"onboarding-logout-button",onClick:this.handleLogout,children:"Cerrar sesin"})})]})}}class pN extends ft.Component{constructor(){super(...arguments);G(this,"state",{user:null,userData:null});G(this,"updateNeighbourhood",async(t,s,o,l)=>{const{user:h}=this.state;if(!h){console.error("User is not logged in.");return}const f=h.uid,g=an(lt,"users",f);try{await Ka(g,{neighbourhood:t,province_id:o}),this.setState(E=>({userData:{...E.userData,neighbourhood:t,province_id:o}}));const v=an(lt,"neighbourhoods",t);await jr(v,{id:t,name:s,population:0,province:l,province_id:o})}catch(v){console.error("Error updating neighbourhood:",v)}});G(this,"updateDescriptionState",t=>{this.setState(s=>({userData:{...s.userData,description:t}}))});G(this,"updatePictureUrl",async t=>{const{user:s}=this.state;if(!s){console.error("User is not logged in.");return}const o=s.uid,l=an(lt,"users",o);try{await Ka(l,{picture_url:t});const h=xs(lt,"posts"),f=_i(h,Ai("owner","==",o)),v=(await Ei(f)).docs.map(z=>Ka(z.ref,{owner_picture_url:t}));await Promise.all(v);const E=xs(lt,"comments"),C=_i(E,Ai("owner","==",o)),F=(await Ei(C)).docs.map(z=>Ka(z.ref,{owner_picture_url:t}));await Promise.all(F),this.setState(z=>({userData:{...z.userData,picture_url:t}}))}catch(h){console.error("Error updating picture_url:",h)}});G(this,"fetchUserData",async()=>{var o;const s=(o=Rn().currentUser)==null?void 0:o.uid;return s==null?Promise.reject(new Error("User id must not be null.")):o0(an(lt,"users",s)).then(l=>{if(!l.exists())throw new Error("User not found.");const h=l.data();this.setState({userData:{id:s,email:h.email||"",picture_url:h.picture_url||"",province_id:h.province_id||"",neighbourhood:h.neighbourhood||"",last_name:h.last_name||"",first_name:h.first_name||"",description:h.description||""}})}).catch(l=>{console.error("Error fetching user data:",l),this.setState({userData:null})})})}componentDidMount(){this.unsubscribe=LT(yl,t=>{t?(this.setState({user:t}),this.fetchUserData()):(this.setState({user:null}),this.setState({userData:null}))})}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){const{user:t,userData:s}=this.state;return A.jsx("div",{className:"main-container",children:t?s?s.neighbourhood?A.jsx(lN,{userData:s,updatePictureUrl:this.updatePictureUrl,updateDescriptionState:this.updateDescriptionState}):A.jsx(fN,{userData:s,updateNeighbourhood:this.updateNeighbourhood}):A.jsx(Wc,{hideSignOut:!1}):A.jsx(p0,{fetchUserData:this.fetchUserData})})}}YE.createRoot(document.getElementById("root")).render(A.jsx(Jy.StrictMode,{children:A.jsx(pN,{})}));
